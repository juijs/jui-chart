!function(a,b){var c={jquery:"undefined"!=typeof jQuery?jQuery:null},d={},e={},f={template:{evaluate:/<\!([\s\S]+?)\!>/g,interpolate:/<\!=([\s\S]+?)\!>/g,escape:/<\!-([\s\S]+?)\!>/g},logUrl:"tool/debug.html"},g=c["util.base"]={browser:{webkit:"WebkitAppearance"in document.documentElement.style,mozilla:"undefined"!=typeof a.mozInnerScreenX,msie:a.navigator.userAgent.indexOf("Trident")!=-1},isTouch:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a.navigator.userAgent),inherit:function(a,b){this.typeCheck("function",a)&&this.typeCheck("function",b)&&(a.parent=b,a.prototype=new b,a.prototype.constructor=a,a.prototype.parent=a.prototype,a.prototype["super"]=function(a,b){return this.constructor.prototype[a].apply(this,b)})},extend:function(a,b,c){function d(a){return g.typeCheck("object",a)}if(this.typeCheck(["object","function"],a)||(a={}),!this.typeCheck(["object","function"],b))return a;for(var e in b)c===!0?d(a[e])?this.extend(a[e],b[e],c):this.typeCheck("undefined",a[e])&&(a[e]=b[e]):d(a[e])?this.extend(a[e],b[e],c):a[e]=b[e];return a},pxToInt:function(a){return this.typeCheck("string",a)&&a.indexOf("px")!=-1?parseInt(a.split("px").join("")):a},clone:function(a){var b=this.typeCheck("array",a)?[]:{};for(var c in a)this.typeCheck("object",a[c])?b[c]=this.clone(a[c]):b[c]=a[c];return b},deepClone:function(a,b){var c=null;if(b=b||{},this.typeCheck("array",a)){c=new Array(a.length);for(var d=0,e=a.length;d<e;d++)c[d]=this.deepClone(a[d],b)}else if(this.typeCheck("date",a))c=a;else if(this.typeCheck("object",a)){c={};for(var f in a)b[f]?c[f]=a[f]:c[f]=this.deepClone(a[f],b)}else c=a;return c},sort:function(a){var b=jui.include("util.sort");return new b(a)},runtime:function(a,b){var c=(new Date).getTime();b();var d=(new Date).getTime();console.log(a+" : "+(d-c)+"ms")},template:function(a,b){var c=jui.include("util.template");return b?c(a,b,f.template):c(a,null,f.template)},resize:function(b,c){var d=function(){var a=0;return function(){clearTimeout(a),a=setTimeout(b,c)}}();a.addEventListener?a.addEventListener("resize",d):object.attachEvent?a.attachEvent("onresize",d):a.onresize=d},index:function(){var a=jui.include("util.keyparser");return new a},chunk:function(a,b){for(var c=[],d=0,e=a.length;d<e;)c.push(a.slice(d,d+=b));return c},typeCheck:function(a,b){function c(a,b){return"string"==typeof a&&("string"==a?"string"==typeof b:"integer"==a?"number"==typeof b&&b%1==0:"float"==a?"number"==typeof b&&b%1!=0:"number"==a?"number"==typeof b:"boolean"==a?"boolean"==typeof b:"undefined"==a?"undefined"==typeof b:"null"==a?null===b:"array"==a?b instanceof Array:"date"==a?b instanceof Date:"function"==a?"function"==typeof b:"object"==a&&!("object"!=typeof b||null===b||b instanceof Array||b instanceof Date||b instanceof RegExp))}if("object"==typeof a&&a.length){for(var d=a,e=0;e<d.length;e++)if(c(d[e],b))return!0;return!1}return c(a,b)},typeCheckObj:function(a,b){if("object"==typeof a){var c=this;for(var d in a){var e=a[d];"function"==typeof e&&!function(d,e){a[d]=function(){for(var a=arguments,f=b[d],g=0;g<a.length;g++)if(!c.typeCheck(f[g],a[g]))throw new Error("JUI_CRITICAL_ERR: the "+g+"th parameter is not a "+f[g]+" ("+name+")");return e.apply(this,a)}}(d,e)}}},dataToCsv:function(a,b,c){for(var d="",e=c?c:b.length,f=-1;f<e;f++){for(var g=[],h=0;h<a.length;h++)if(a[h])if(f==-1)g.push('"'+a[h]+'"');else{var i=b[f][a[h]];g.push(isNaN(i)?'"'+i+'"':i)}d+=g.join(",")+"\n"}return d},dataToCsv2:function(a){for(var b="",c=this.extend({fields:null,rows:null,names:null,types:null,count:this.typeCheck("integer",a.count)?a.count:a.rows.length},a),d=-1;d<c.count;d++){for(var e=[],f=0;f<c.fields.length;f++)if(c.fields[f])if(d==-1)c.names&&c.names[f]?e.push('"'+c.names[f]+'"'):e.push('"'+c.fields[f]+'"');else{var g=c.rows[d][c.fields[f]];this.typeCheck("array",c.types)?"string"==c.types[f]?e.push('"'+g+'"'):"integer"==c.types[f]?e.push(parseInt(g)):"float"==c.types[f]?e.push(parseFloat(g)):e.push(g):e.push(isNaN(g)?'"'+g+'"':g)}b+=e.join(",")+"\n"}return b},fileToCsv:function(a,b){var c=new FileReader;c.onload=function(a){g.typeCheck("function",b)&&b(a.target.result)},c.readAsText(a)},csvToBase64:function(a){var b=jui.include("util.base64");return"data:application/octet-stream;base64,"+b.encode(a)},csvToData:function(a,b,c){for(var d=[],e=b.split("\n"),f=1;f<e.length;f++)if(""!=e[f]){for(var g=e[f].split(","),h={},i=0;i<a.length;i++)h[a[i]]=g[i],this.startsWith(g[i],'"')&&this.endsWith(g[i],'"')?h[a[i]]=g[i].split('"').join(""):h[a[i]]=g[i],this.inArray(a[i],c)!=-1&&(h[a[i]]=parseFloat(g[i]));d.push(h)}return d},getCsvFields:function(a,b){for(var c=this.typeCheck("array",b)?b:a,d=0;d<c.length;d++)isNaN(c[d])||(c[d]=a[c[d]]);return c},svgToBase64:function(a){var b=jui.include("util.base64");return"data:image/svg+xml;base64,"+b.encode(a)},dateFormat:function(a,b,c){function d(a,b){var c=a+"";for(b=b||2;c.length<b;)c="0"+c;return c}var e=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],f=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=c?a.getUTCFullYear():a.getFullYear();b=b.replace(/(^|[^\\])yyyy+/g,"$1"+i),b=b.replace(/(^|[^\\])yy/g,"$1"+i.toString().substr(2,2)),b=b.replace(/(^|[^\\])y/g,"$1"+i);var j=(c?a.getUTCMonth():a.getMonth())+1;b=b.replace(/(^|[^\\])MMMM+/g,"$1"+e[0]),b=b.replace(/(^|[^\\])MMM/g,"$1"+f[0]),b=b.replace(/(^|[^\\])MM/g,"$1"+d(j)),b=b.replace(/(^|[^\\])M/g,"$1"+j);var k=c?a.getUTCDate():a.getDate();b=b.replace(/(^|[^\\])dddd+/g,"$1"+g[0]),b=b.replace(/(^|[^\\])ddd/g,"$1"+h[0]),b=b.replace(/(^|[^\\])dd/g,"$1"+d(k)),b=b.replace(/(^|[^\\])d/g,"$1"+k);var l=c?a.getUTCHours():a.getHours();b=b.replace(/(^|[^\\])HH+/g,"$1"+d(l)),b=b.replace(/(^|[^\\])H/g,"$1"+l);var m=l>12?l-12:0==l?12:l;b=b.replace(/(^|[^\\])hh+/g,"$1"+d(m)),b=b.replace(/(^|[^\\])h/g,"$1"+m);var n=c?a.getUTCMinutes():a.getMinutes();b=b.replace(/(^|[^\\])mm+/g,"$1"+d(n)),b=b.replace(/(^|[^\\])m/g,"$1"+n);var o=c?a.getUTCSeconds():a.getSeconds();b=b.replace(/(^|[^\\])ss+/g,"$1"+d(o)),b=b.replace(/(^|[^\\])s/g,"$1"+o);var p=c?a.getUTCMilliseconds():a.getMilliseconds();b=b.replace(/(^|[^\\])fff+/g,"$1"+d(p,3)),p=Math.round(p/10),b=b.replace(/(^|[^\\])ff/g,"$1"+d(p)),p=Math.round(p/10),b=b.replace(/(^|[^\\])f/g,"$1"+p);var q=l<12?"AM":"PM";b=b.replace(/(^|[^\\])TT+/g,"$1"+q),b=b.replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var r=q.toLowerCase();b=b.replace(/(^|[^\\])tt+/g,"$1"+r),b=b.replace(/(^|[^\\])t/g,"$1"+r.charAt(0));var s=-a.getTimezoneOffset(),t=c||!s?"Z":s>0?"+":"-";if(!c){s=Math.abs(s);var u=Math.floor(s/60),v=s%60;t+=d(u)+":"+d(v)}b=b.replace(/(^|[^\\])K/g,"$1"+t);var w=(c?a.getUTCDay():a.getDay())+1;return b=b.replace(new RegExp(g[0],"g"),g[w]),b=b.replace(new RegExp(h[0],"g"),h[w]),b=b.replace(new RegExp(e[0],"g"),e[j]),b=b.replace(new RegExp(f[0],"g"),f[j]),b=b.replace(/\\(.)/g,"$1")},createId:function(a){return[a||"id",+new Date,Math.round(100*Math.random())%100].join("-")},btoa:function(a){var b=jui.include("util.base64");return b.encode(a)},atob:function(a){var b=jui.include("util.base64");return b.decode(a)},timeLoop:function(a,b){return function(c,d){function e(a){a<1||(1==a?(c.call(b,a),d.call(b)):setTimeout(function(){a>-1&&c.call(b,a--),a>-1&&e(a)},1))}e(a)}},loop:function(a,b){var c=0,d=a,e=Math.ceil(a/5);return function(a){for(var f=c,g=1*e,h=2*e,i=3*e,j=4*e,k=g,l=h,m=i,n=j,o=d;f<k&&f<d;)a.call(b,f,1),f++,g<l&&g<d&&(a.call(b,g,2),g++),h<m&&h<d&&(a.call(b,h,3),h++),i<n&&i<d&&(a.call(b,i,4),i++),j<o&&j<d&&(a.call(b,j,5),j++)}},loopArray:function(a,b){var c=a.length,d=0,e=c,f=Math.ceil(c/5);return function(c){for(var g=d,h=1*f,i=2*f,j=3*f,k=4*f,l=h,m=i,n=j,o=k,p=e;g<l&&g<e;)c.call(b,a[g],g,1),g++,h<m&&h<e&&(c.call(b,a[h],h,2),h++),i<n&&i<e&&(c.call(b,a[i],i,3),i++),j<o&&j<e&&(c.call(b,a[j],j,4),j++),k<p&&k<e&&(c.call(b,a[k],k,5),k++)}},makeIndex:function(a,b){var c={},d=this.loopArray(a);return d(function(a,d){var e=a[b];"undefined"==typeof c[e]&&(c[e]=[]),c[e].push(d)}),c},startsWith:function(a,b,c){return c=c||0,a.lastIndexOf(b,c)===c},endsWith:function(a,b,c){var d=a;(void 0===c||c>d.length)&&(c=d.length),c-=b.length;var e=d.indexOf(b,c);return e!==-1&&e===c},inArray:function(a,b){if(this.typeCheck(["undefined","null"],a)||!this.typeCheck("array",b))return-1;for(var c=0,d=b.length;c<d;c++)if(b[c]==a)return c;return-1},trim:function(a){var b="[\\x20\\t\\r\\n\\f]",c=new RegExp("^"+b+"+|((?:^|[^\\\\])(?:\\\\.)*)"+b+"+$","g");return null==a?"":(a+"").replace(c,"")},ready:function(){function b(){if(!g.isReady){try{document.documentElement.doScroll("left")}catch(a){return void setTimeout(b,1)}g.ready()}}function c(a){g.bindReady();g.type(a);d.done(a)}var d,e,f={};f["[object Boolean]"]="boolean",f["[object Number]"]="number",f["[object String]"]="string",f["[object Function]"]="function",f["[object Array]"]="array",f["[object Date]"]="date",f["[object RegExp]"]="regexp",f["[object Object]"]="object";var g={isReady:!1,readyWait:1,holdReady:function(a){a?g.readyWait++:g.ready(!0)},ready:function(a){if(a===!0&&!--g.readyWait||a!==!0&&!g.isReady){if(!document.body)return setTimeout(g.ready,1);if(g.isReady=!0,a!==!0&&--g.readyWait>0)return;d.resolveWith(document,[g])}},bindReady:function(){if(!d){if(d=g._Deferred(),"complete"===document.readyState)return setTimeout(g.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),a.addEventListener("load",g.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),a.attachEvent("onload",g.ready);var c=!1;try{c=null==a.frameElement}catch(f){}document.documentElement.doScroll&&c&&b()}}},_Deferred:function(){var a,b,c,d=[],e={done:function(){if(!c){var b,f,h,i,j,k=arguments;for(a&&(j=a,a=0),b=0,f=k.length;b<f;b++)h=k[b],i=g.type(h),"array"===i?e.done.apply(e,h):"function"===i&&d.push(h);j&&e.resolveWith(j[0],j[1])}return this},resolveWith:function(e,f){if(!c&&!a&&!b){f=f||[],b=1;try{for(;d[0];)d.shift().apply(e,f)}finally{a=[e,f],b=0}}return this},resolve:function(){return e.resolveWith(this,arguments),this},isResolved:function(){return!(!b&&!a)},cancel:function(){return c=1,d=[],this}};return e},type:function(a){return null==a?String(a):f[Object.prototype.toString.call(a)]||"object"}};return document.addEventListener?e=function(){document.removeEventListener("DOMContentLoaded",e,!1),g.ready()}:document.attachEvent&&(e=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),g.ready())}),c}(),param:function(a){var b=/%20/g,c=[],d=function(a,b){b=g.typeCheck("function",b)?b():null==b?"":b,c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};for(var e in a)d(e,a[e]);return c.join("&").replace(b,"+")},ajax:function(a){var b=null,c="",d=null,e=g.extend({url:null,type:"GET",data:null,async:!0,success:null,fail:null},a);if(this.typeCheck("string",e.url)&&this.typeCheck("function",e.success)){if(this.typeCheck("object",e.data)&&(c=this.param(e.data)),this.typeCheck("undefined",XMLHttpRequest))for(var f=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],h=0,i=f.length;h<i;h++)try{b=new ActiveXObject(f[h]);break}catch(j){}else b=new XMLHttpRequest;null!=b&&(b.open(e.type,e.url,e.async),b.send(c),d=function(){4===b.readyState&&200==b.status?e.success(b):g.typeCheck("function",e.fail)&&e.fail(b)},e.async?b.onreadystatechange=d:d())}},scrollWidth:function(){var a=document.createElement("p");a.style.width="100%",a.style.height="200px";var b=document.createElement("div");b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.visibility="hidden",b.style.width="200px",b.style.height="150px",b.style.overflow="hidden",b.appendChild(a),document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";var d=a.offsetWidth;return c==d&&(d=b.clientWidth),document.body.removeChild(b),c-d}},h=function(a){for(var b=[],d=0;d<a.length;d++){var e=c[a[d]];if(g.typeCheck(["function","object"],e))b.push(e);else{var f=i(a[d]);null==f?(console.log("JUI_WARNING_MSG: '"+a[d]+"' is not loaded"),b.push(null)):b.push(f)}}return b},i=function(a){var b=null,a=a+".";for(var d in c)if(d.indexOf(a)!=-1&&g.typeCheck(["function","object"],c[d])){var e=d.split(a).join("");e.indexOf(".")==-1&&(null==b&&(b={}),b[e]=c[d])}return b};a.jui=b.jui={ready:function(){var a=[],b=2==arguments.length?arguments[1]:arguments[0],c=2==arguments.length?arguments[0]:null;if(!g.typeCheck(["array","null"],c)||!g.typeCheck("function",b))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");g.ready(function(){if(c)a=h(c);else{var d=i("ui"),e={};g.extend(e,d),g.extend(e,i("grid")),a=[d,e,g]}b.apply(null,a)})},defineUI:function(a,b,f,i){if(!(g.typeCheck("string",a)&&g.typeCheck("array",b)&&g.typeCheck("function",f)&&g.typeCheck(["string","undefined"],i)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(g.typeCheck("function",e[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");if(g.typeCheck("undefined",i)&&(i="event"),!g.typeCheck("function",e[i]))throw new Error("JUI_CRITICAL_ERR: Parents are the only function");if(d[i]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");var j=h(b),k=f.apply(null,j);g.inherit(k,e[i]),c[a]=e["core"!=i?"event":"core"].init({type:a,"class":k}),e[a]=k,d[a]=!0},createUIObject:function(a,b,c,d,e,f){var h=new a["class"],i=jui.defineOptions(a["class"],e||{});h.init.prototype=h,h.init.prototype.selector=b,h.init.prototype.root=d,h.init.prototype.options=i,h.init.prototype.tpl={},h.init.prototype.event=new Array,h.init.prototype.timestamp=(new Date).getTime(),h.init.prototype.index=c,h.init.prototype.module=a,g.typeCheck("function",f)&&f(h,i);for(var j in i.tpl){var k=i.tpl[j];g.typeCheck("string",k)&&""!=k&&(h.init.prototype.tpl[j]=g.template(k))}var l=new h.init;for(var m in i.event)l.on(m,i.event[m]);return d.jui=l,l},define:function(a,b,f,i){if(!(g.typeCheck("string",a)&&g.typeCheck("array",b)&&g.typeCheck("function",f)&&g.typeCheck(["string","undefined","null"],i)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(g.typeCheck("function",e[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");var j=h(b),k=f.apply(null,j);if(g.typeCheck("function",e[i])){if(d[i]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");g.inherit(k,e[i])}c[a]=k,e[a]=k,d[a]=!0},redefine:function(a,b,f,g,h){h||d[a]!==!0||(c[a]=null,e[a]=null,d[a]=!1),(!h||h&&d[a]!==!0)&&this.define(a,b,f,g)},defineOptions:function(a,b,c){function d(a,b){if(g.typeCheck("function",a)){if(g.typeCheck("function",a.setup)){var c=a.setup();for(var e in c)g.typeCheck("undefined",b[e])&&(b[e]=c[e])}d(a.parent,b)}return b}for(var e=d(a,{}),f=Object.keys(e),h=Object.keys(b),i=0;i<h.length;i++){var j=h[i];if(g.inArray(j,f)==-1&&g.inArray(j,c)==-1)throw new Error("JUI_CRITICAL_ERR: '"+j+"' is not an option")}return g.extend(b,e,!0),b},include:function(a){if(!g.typeCheck("string",a))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");var b=c[a];if(g.typeCheck(["function","object"],b))return b;var d=i(a);return null==d?(console.log("JUI_WARNING_MSG: '"+a+"' is not loaded"),null):d},includeAll:function(){var a=[];for(var b in c)a.push(c[b]);return a},log:function(b){var c=a.open(b||f.logUrl,"JUIM","width=1024, height=768, toolbar=no, menubar=no, resizable=yes");return jui.debugAll(function(a,b){c.log(a,b)}),c},setup:function(a){return g.typeCheck("object",a)&&(f=g.extend(f,a)),f}},"object"==typeof module&&module.exports&&(module.exports=a.jui||c.jui)}(window,"undefined"!=typeof global?global:window),jui.define("util.dom",["util.base"],function(a){return{find:function(){var b=arguments;if(1==b.length){if(a.typeCheck("string",b[0]))return document.querySelectorAll(b[0])}else if(2==b.length&&a.typeCheck("object",b[0])&&a.typeCheck("string",b[1]))return b[0].querySelectorAll(b[1]);return[]},each:function(b,c){if(a.typeCheck("function",c)){var d=null;a.typeCheck("string",b)?d=document.querySelectorAll(b):a.typeCheck("array",b)&&(d=b),null!=d&&Array.prototype.forEach.call(d,function(a,b){c.apply(a,[b,a])})}},attr:function(b,c){if(a.typeCheck(["string","array"],b)){var d=document.querySelectorAll(b);if(a.typeCheck("object",c))for(var e=0;e<d.length;e++)for(var f in c)d[e].setAttribute(f,c[f]);else if(a.typeCheck("string",c)&&d.length>0)return d[0].getAttribute(c)}},remove:function(a){this.each(a,function(){this.parentNode.removeChild(this)})},offset:function(a){function b(a){return null!=a&&a==a.window}function c(a){return b(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var d,e,f={top:0,left:0},g=a&&a.ownerDocument;if(g){d=g.documentElement;var h="undefined";return typeof a.getBoundingClientRect!==h&&(f=a.getBoundingClientRect()),e=c(g),{top:f.top+(e.pageYOffset||d.scrollTop)-(d.clientTop||0),left:f.left+(e.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}}}}}),jui.define("util.sort",[],function(){var a=function(a,b){function c(b,c){var d=a[b];a[b]=a[c],a[c]=d}function d(b,d,f){var g=d,h=a[b];c(b,f);for(var i=d;i<f;i++)(e(a[i],h)||!e(h,a[i])&&i%2==1)&&(c(i,g),g++);return c(f,g),g}var e=null,a=b?a.slice(0):a;this.setCompare=function(a){e=a},this.run=function(b,c){var e=null;return"number"!=typeof b&&(b=0),"number"!=typeof c&&(c=a.length-1),b<c&&(e=b+Math.ceil(.5*(c-b)),newPivot=d(e,b,c),this.run(b,newPivot-1),this.run(newPivot+1,c)),a}};return a}),jui.define("util.keyparser",[],function(){var a=function(){this.isIndexDepth=function(a){return"string"==typeof a&&a.indexOf(".")!=-1},this.getIndexList=function(a){for(var b=[],c=(""+a).split("."),d=0;d<c.length;d++)b[d]=parseInt(c[d]);return b},this.changeIndex=function(a,b,c){for(var d=this.getIndexList(c).length,e=this.getIndexList(a),f=this.getIndexList(b),g=0;g<d;g++)e.shift();return f.concat(e).join(".")},this.getNextIndex=function(a){var b=this.getIndexList(a),c=b.pop()+1;return b.push(c),b.join(".")},this.getParentIndex=function(a){return this.isIndexDepth(a)?a.substr(0,a.lastIndexOf(".")):null}};return a}),jui.define("util.base64",[],function(){var a={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(b){var c,d,e,f,g,h,i,j="",k=0;for(b=a._utf8_encode(b);k<b.length;)c=b.charCodeAt(k++),d=b.charCodeAt(k++),e=b.charCodeAt(k++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?h=i=64:isNaN(e)&&(i=64),j=j+a._keyStr.charAt(f)+a._keyStr.charAt(g)+a._keyStr.charAt(h)+a._keyStr.charAt(i);return j},decode:function(b){var c,d,e,f,g,h,i,j="",k=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<b.length;)f=a._keyStr.indexOf(b.charAt(k++)),g=a._keyStr.indexOf(b.charAt(k++)),h=a._keyStr.indexOf(b.charAt(k++)),i=a._keyStr.indexOf(b.charAt(k++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(c),64!=h&&(j+=String.fromCharCode(d)),64!=i&&(j+=String.fromCharCode(e));return j=a._utf8_decode(j)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b=String.fromCharCode(239)+String.fromCharCode(187)+String.fromCharCode(191),c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}};return a}),jui.define("util.template",[],function(){var a=function(a,b,c){var d={},e={},f=Array.prototype,g=f.slice,h=f.forEach,i={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var j in i)i[i[j]]=j;var k=/\\|'|\r|\n|\t|\u2028|\u2029/g,l=/\\(\\|'|r|n|t|u2028|u2029)/g,m=/.^/,n=function(a){return a.replace(l,function(a,b){return i[b]})},o=d.each=d.forEach=function(a,b,c){if(null!=a)if(h&&a.forEach===h)a.forEach(b,c);else if(a.length===+a.length){for(var f=0,g=a.length;f<g;f++)if(f in a&&b.call(c,a[f],f,a)===e)return}else for(var i in a)if(d.has(a,i)&&b.call(c,a[i],i,a)===e)return};return d.has=function(a,b){return hasOwnProperty.call(a,b)},d.defaults=function(a){return o(g.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},d.template=function(a,b,c){c=d.defaults(c||{});var e="__p+='"+a.replace(k,function(a){return"\\"+i[a]}).replace(c.escape||m,function(a,b){return"'+\n_.escape("+n(b)+")+\n'"}).replace(c.interpolate||m,function(a,b){return"'+\n("+n(b)+")+\n'"}).replace(c.evaluate||m,function(a,b){return"';\n"+n(b)+"\n;__p+='"})+"';\n";c.variable||(e="with(obj||{}){\n"+e+"}\n"),e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n";var f=new Function(c.variable||"obj","_",e);if(b)return f(b,d);var g=function(a){return f.call(this,a,d)};return g.source="function("+(c.variable||"obj")+"){\n"+e+"}",g},d.template(a,b,c)};return a}),jui.define("util.color",["util.base","util.math"],function(a,b){function c(a){var b=0,c=1,d=0,e=10,f=6;if(a){for(var g=0;g<a.length&&!(g>f);g++)b+=c*(a.charCodeAt(g)%e),d+=c*(e-1),c*=.7;d>0&&(b/=d)}return b}var d={regex:/(linear|radial)\((.*)\)(.*)/i,format:function(a,b){if("hex"==b){var c=a.r.toString(16);a.r<16&&(c="0"+c);var d=a.g.toString(16);a.g<16&&(d="0"+d);var e=a.b.toString(16);return a.b<16&&(e="0"+e),"#"+[c,d,e].join("").toUpperCase()}return"rgb"==b?"undefined"==typeof a.a?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")":a},scale:function(){function a(a,b){var f={r:parseInt(c.r+(e.r-c.r)*a,10),g:parseInt(c.g+(e.g-c.g)*a,10),b:parseInt(c.b+(e.b-c.b)*a,10)};return d.format(f,b)}var c,e;return a.domain=function(b,f){return c=d.rgb(b),e=d.rgb(f),a},a.ticks=function(c){for(var d=1/c,e=0,f=[];e<=1;){var g=a(e,"hex");f.push(g),e=b.plus(e,d)}return f},a},map:function(a,b){var c=[];b=b||5;for(var e=d.scale(),f=0,g=a.length-1;f<g;f++)if(0==f)c=e.domain(a[f],a[f+1]).ticks(b);else{var h=e.domain(a[f],a[f+1]).ticks(b);h.shift(),c=c.concat(h)}return c},rgb:function(b){if("string"==typeof b){if(b.indexOf("rgb(")>-1){for(var c=b.replace("rgb(","").replace(")","").split(","),d=0,e=c.length;d<e;d++)c[d]=parseInt(a.trim(c[d]),10);return{r:c[0],g:c[1],b:c[2],a:1}}if(b.indexOf("rgba(")>-1){for(var c=b.replace("rgba(","").replace(")","").split(","),d=0,e=c.length;d<e;d++)e-1==d?c[d]=parseFloat(a.trim(c[d])):c[d]=parseInt(a.trim(c[d]),10);return{r:c[0],g:c[1],b:c[2],a:c[3]}}if(0==b.indexOf("#")){b=b.replace("#","");var c=[];if(3==b.length)for(var d=0,e=b.length;d<e;d++){var f=b.substr(d,1);c.push(parseInt(f+f,16))}else for(var d=0,e=b.length;d<e;d+=2)c.push(parseInt(b.substr(d,2),16));return{r:c[0],g:c[1],b:c[2],a:1}}}return b},HSVtoRGB:function(a,b,c){360==a&&(a=0);var d=b*c,e=d*(1-Math.abs(a/60%2-1)),f=c-d,g=[];return 0<=a&&a<60?g=[d,e,0]:60<=a&&a<120?g=[e,d,0]:120<=a&&a<180?g=[0,d,e]:180<=a&&a<240?g=[0,e,d]:240<=a&&a<300?g=[e,0,d]:300<=a&&a<360&&(g=[d,0,e]),{r:Math.ceil(255*(g[0]+f)),g:Math.ceil(255*(g[1]+f)),b:Math.ceil(255*(g[2]+f))}},RGBtoHSV:function(a,b,c){var d=a/255,e=b/255,f=c/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=g-h,j=0;0==i?j=0:g==d?j=60*((e-f)/i%6):g==e?j=60*((f-d)/i+2):g==f&&(j=60*((d-e)/i+4)),j<0&&(j=360+j);var k=0;k=0==g?0:i/g;var l=g;return{h:j,s:k,v:l}},trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},lighten:function(a,b){a=a.replace(/[^0-9a-f]/gi,""),b=b||0;var c,d,e=[];for(d=0;d<6;d+=2)c=parseInt(a.substr(d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e.push(("00"+c).substr(c.length));return"#"+e.join("")},darken:function(a,b){return this.lighten(a,-b)},parse:function(a){return this.parseGradient(a)},parseGradient:function(a){var b=a.match(this.regex);if(!b)return a;var c=this.trim(b[1]),d=this.parseAttr(c,this.trim(b[2])),e=this.parseStop(this.trim(b[3])),f={type:c+"Gradient",attr:d,children:e};return f},parseStop:function(a){for(var b=a.split(","),c=[],d=0,e=b.length;d<e;d++){var a=b[d],f=a.split(" ");0!=f.length&&(1==f.length?c.push({type:"stop",attr:{"stop-color":f[0]}}):2==f.length?c.push({type:"stop",attr:{offset:f[0],"stop-color":f[1]}}):3==f.length&&c.push({type:"stop",attr:{offset:f[0],"stop-color":f[1],"stop-opacity":f[2]}}))}for(var g=-1,h=-1,d=0,e=c.length;d<e;d++){var a=c[d];if(0==d?a.offset||(a.offset=0):d==e-1&&(a.offset||(a.offset=1)),g==-1&&"undefined"==typeof a.offset)g=d;else if(h==-1&&"undefined"==typeof a.offset){h=d;for(var i=h-g,j=c[h].offset.indexOf("%")>-1?parseFloat(c[h].offset)/100:c[h].offset,k=c[g].offset.indexOf("%")>-1?parseFloat(c[g].offset)/100:c[g].offset,l=j-k,m=l/i,n=k+m,o=g+1;o<h;o++)c[o].offset=n,n+=m;g=h,h=-1}}return c},parseAttr:function(a,b){if("linear"!=a){for(var c=b.split(","),d=0,e=c.length;d<e;d++)c[d].indexOf("%")==-1&&(c[d]=parseFloat(c[d]));return{cx:c[0],cy:c[1],r:c[2],fx:c[3],fy:c[4]}}switch(b){case"":case"left":return{x1:0,y1:0,x2:1,y2:0,direction:b||"left"};case"right":return{x1:1,y1:0,x2:0,y2:0,direction:b};case"top":return{x1:0,y1:0,x2:0,y2:1,direction:b};case"bottom":return{x1:0,y1:1,x2:0,y2:0,direction:b};case"top left":return{x1:0,y1:0,x2:1,y2:1,direction:b};case"top right":return{x1:1,y1:0,x2:0,y2:1,direction:b};case"bottom left":return{x1:0,y1:1,x2:1,y2:0,direction:b};case"bottom right":return{x1:1,y1:1,x2:0,y2:0,direction:b};default:for(var c=b.split(","),d=0,e=c.length;d<e;d++)c[d].indexOf("%")==-1&&(c[d]=parseFloat(c[d]));return{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}}},colorHash:function(a,b){var d=0;return a&&(a=a.replace(/.*`/,""),a=a.replace(/\(.*/,""),d=c(a)),"function"==typeof b?b(d):{r:200+Math.round(55*d),g:0+Math.round(230*(1-d)),b:0+Math.round(55*(1-d))}}};return d.map.parula=function(a){return d.map(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],a)},d.map.jet=function(a){return d.map(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],a)},d.map.hsv=function(a){return d.map(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],a)},d.map.hot=function(a){return d.map(["#0b0000","#ff0000","#ffff00","#ffffff"],a)},d.map.pink=function(a){return d.map(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],a)},d.map.bone=function(a){return d.map(["#000000","#4a4a68","#a6c6c6","#ffffff"],a)},d.map.copper=function(a){return d.map(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],a)},d}),jui.define("manager",["util.base"],function(a){var b=new function(){var c=[],d=[];this.add=function(a){c.push(a)},this.emit=function(a,b,d){for(var e=[],f=0;f<c.length;f++){var g=c[f];a!=g.selector&&a!=g.type||e.push(g)}for(var f=0;f<e.length;f++)for(var g=e[f],h=0;h<g.length;h++)g[h].emit(b,d)},this.get=function(b){if(a.typeCheck("integer",b))return c[b];if(a.typeCheck("string",b)){for(var d=0;d<c.length;d++){var e=c[d];if(b==e.selector)return 1==e.length?e[0]:e}for(var f=[],d=0;d<c.length;d++){var e=c[d];b==e.type&&f.push(e)}return f}},this.getAll=function(){return c},this.remove=function(b){if(a.typeCheck("integer",b))return c.splice(b,1)[0]},this.shift=function(){return c.shift()},this.pop=function(){return c.pop()},this.size=function(){return c.length},this.debug=function(b,c,d,e){if(b.__proto__){var f=["emit","on","addEvent","addValid","callBefore","callAfter","callDelay","setTpl","setVo","setOption"];for(var g in b){var h=b[g];"function"==typeof h&&a.inArray(g,f)==-1&&!function(a,d,f,g){b.__proto__[a]=function(){var b=Date.now(),h=d.apply(this,arguments),i=Date.now();return"function"==typeof e?e({type:jui.get(c).type,name:a,c_index:f,u_index:g,time:i-b},arguments):(isNaN(f)||isNaN(g)?console.log("NAME("+a+"), TIME("+(i-b)+"ms), ARGUMENTS..."):console.log("TYPE("+jui.get(c).type+"), NAME("+a+"), INDEX("+f+":"+g+"), TIME("+(i-b)+"ms), ARGUMENTS..."),console.log(arguments),console.log("")),h}}(g,h,c,d)}}},this.debugAll=function(a){for(var b=0;b<c.length;b++)for(var d=c[b],e=0;e<d.length;e++)this.debug(d[e],b,e,a)},this.addClass=function(a){d.push(a)},this.getClass=function(b){if(a.typeCheck("integer",b))return d[b];if(a.typeCheck("string",b))for(var c=0;c<d.length;c++)if(b==d[c].type)return d[c];return null},this.getClassAll=function(){return d},this.create=function(c,d,e){var f=b.getClass(c);if(a.typeCheck("null",f))throw new Error("JUI_CRITICAL_ERR: '"+c+"' does not exist");return f["class"](d,e)}};return b}),jui.define("collection",[],function(){var a=function(a,b,c,d){this.type=a,this.selector=b,this.options=c,this.destroy=function(){for(var a=0;a<d.length;a++)d[a].destroy()};for(var e=0;e<d.length;e++)this.push(d[e])};return a.prototype=Object.create(Array.prototype),a}),jui.define("core",["util.base","util.dom","manager","collection"],function(a,b,c,d){var e=function(){this.emit=function(b,c){if(a.typeCheck("string",b)){for(var d,e=0;e<this.event.length;e++){var f=this.event[e];if(f.type==b.toLowerCase()){var g=a.typeCheck("array",c)?c:[c];d=f.callback.apply(this,g)}}return d}},this.on=function(b,c){a.typeCheck("string",b)&&a.typeCheck("function",c)&&this.event.push({type:b.toLowerCase(),callback:c,unique:!1})},this.off=function(b){for(var c=[],d=0;d<this.event.length;d++){var e=this.event[d];(a.typeCheck("function",b)&&e.callback!=b||a.typeCheck("string",b)&&e.type!=b.toLowerCase())&&c.push(e)}this.event=c},this.addValid=function(b,c){if(this.__proto__){var d=this.__proto__[b];this.__proto__[b]=function(){for(var e=arguments,f=0;f<e.length;f++)if(!a.typeCheck(c[f],e[f]))throw new Error("JUI_CRITICAL_ERR: the "+f+"th parameter is not a "+c[f]+" ("+b+")");return d.apply(this,e)}}},this.callBefore=function(b,c){if(this.__proto__){var d=this.__proto__[b];this.__proto__[b]=function(){var b=arguments;return a.typeCheck("function",c)?c.apply(this,b)!==!1?d.apply(this,b):void 0:d.apply(this,b)}}},this.callAfter=function(b,c){if(this.__proto__){var d=this.__proto__[b];this.__proto__[b]=function(){var b=arguments,e=d.apply(this,b);return a.typeCheck("function",c)&&e!==!1&&c.apply(this,b),e}}},this.callDelay=function(b,c){function d(b,d){var f=e.apply(b,d);a.typeCheck("function",c.after)&&f!==!1&&c.after.apply(b,d)}if(this.__proto__){var e=this.__proto__[b],f=isNaN(c.delay)?0:c.delay;this.__proto__[b]=function(){var b=this,e=arguments;a.typeCheck("function",c.before)&&c.before.apply(b,e),f>0?setTimeout(function(){d(b,e)},f):d(b,e)}}},this.setTpl=function(b,c){this.tpl[b]=a.template(c)},this.setOption=function(b,c){if(a.typeCheck("object",b))for(var d in b)this.options[d]=b[d];else this.options[b]=c},this.destroy=function(){if(this.__proto__)for(var a in this.__proto__)delete this.__proto__[a]}};return e.build=function(e){return function(f,g){var h=[],i=[];a.typeCheck("string",f)?i=b.find(f):a.typeCheck("object",f)?i.push(f):i.push(document.createElement("div"));for(var j=0,k=i.length;j<k;j++)h[j]=jui.createUIObject(e,f,j,i[j],g);return c.add(new d(e.type,f,g,h)),0==h.length?null:1==h.length?h[0]:h}},e.init=function(a){var b=null;return"object"==typeof a&&(b=e.build(a),c.addClass({type:a.type,"class":b})),b},e.setup=function(){return{tpl:{},event:{}}},window.jui="object"==typeof jui?a.extend(jui,c,!0):c,e}),jui.define("event",["jquery","util.base","manager","collection"],function(a,b,c,d){var e=function(){function c(b){for(var c=["webkit","moz","MS","o",""],d=0;d<c.length;d++){var e=b.type;c[d]||(e=e.toLowerCase()),a(b.target).on(c[d]+e,b.callback)}g.push(b)}function d(b){b.callback&&!b.children?a(b.target).on(b.type,b.callback):a(b.target).on(b.type,b.children,b.callback),g.push(b)}function e(b){b.callback&&!b.children?a(b.target).on(f(b.type),b.callback):a(b.target).on(f(b.type),b.children,b.callback),g.push(b)}function f(a){return{click:"touchstart",dblclick:"touchend",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}[a]}var g=[];this.add=function(f){var g={target:f[0],type:f[1]};b.typeCheck("function",f[2])?g=a.extend(g,{callback:f[2]
}):b.typeCheck("string",f[2])&&(g=a.extend(g,{children:f[2],callback:f[3]}));for(var h=b.typeCheck("array",g.type)?g.type:[g.type],i=0;i<h.length;i++)g.type=h[i],g.type.toLowerCase().indexOf("animation")!=-1?c(g):("body"!=g.target&&g.target!=window&&g.target!=document&&a(g.target).off(g.type),b.isTouch?e(g):d(g))},this.trigger=function(c,d){a(c).trigger(b.isTouch?f(d):d)},this.get=function(a){return g[a]},this.getAll=function(){return g},this.size=function(){return g.length}},f=function(){var b=null;this.find=function(b){return a(this.root).find(b)},this.addEvent=function(){this.listen.add(arguments)},this.addTrigger=function(a,b){this.listen.trigger(a,b)},this.setVo=function(){this.options.vo&&(null!=b&&b.reload(),b=a(this.selector).jbinder(),this.bind=b)},this.destroy=function(){for(var b=0;b<this.listen.size();b++){var c=this.listen.get(b);a(c.target).off(c.type)}if(this.__proto__)for(var d in this.__proto__)delete this.__proto__[d]}};return f.build=function(b){return function(f,g){var h=[],i=a(f||"<div />");return i.each(function(c){h[c]=jui.createUIObject(b,i.selector,c,this,g,function(b,c){b.init.prototype.listen=new e,a("script").each(function(b){if(f==a(this).data("jui")||f==a(this).data("vo")||f instanceof HTMLElement){var d=a(this).data("tpl");if(""==d)throw new Error("JUI_CRITICAL_ERR: 'data-tpl' property is required");c.tpl[d]=a(this).html()}})})}),c.add(new d(b.type,f,g,h)),0==h.length?null:1==h.length?h[0]:h}},f.init=function(a){var b=null;return"object"==typeof a&&(b=f.build(a),c.addClass({type:a.type,"class":b})),b},f.setup=function(){return{vo:null}},f},"core");