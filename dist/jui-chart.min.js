!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(14));e.default=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(2));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.stackbar",extend:"chart.brush.bar",component:function(){var t=r.default.include("util.base"),e=function(e,i,r){var n,a;this.addBarElement=function(t){null==this.barList&&(this.barList=[]),this.barList.push(t)},this.getBarElement=function(t,e){var i=this.getBarStyle(),r=this.color(e),n=this.getData(t)[this.brush.target[e]],a=this.chart.svg.rect({fill:r,stroke:i.borderColor,"stroke-width":i.borderWidth,"stroke-opacity":i.borderOpacity});return 0==n&&a.attr({display:"none"}),0!=n&&this.addEvent(a,t,e),a},this.setActiveEffect=function(e){for(var i=this.getBarStyle(),r=this.barList,n=this.stackTooltips,a=0;a<r.length;a++){var o=e==r[a]?1:i.disableOpacity;n&&(1==o||-1!=t.inArray(a,this.tooltipIndexes)?n[a].attr({opacity:1}):n[a].attr({opacity:0})),r[a].attr({opacity:o})}},this.setActiveEffectOption=function(){var t=this.brush.active;this.barList&&this.barList[t]&&this.setActiveEffect(this.barList[t])},this.setActiveEvent=function(t){var e=this;t.on(e.brush.activeEvent,function(i){e.setActiveEffect(t)})},this.setActiveEventOption=function(t){null!=this.brush.activeEvent&&(this.setActiveEvent(t),t.attr({cursor:"pointer"}))},this.getTargetSize=function(){var t=this.axis.y.rangeBand();if(this.brush.size>0)return this.brush.size;var e=t-2*this.brush.outerPadding;return e<this.brush.minSize?this.brush.minSize:e},this.setActiveTooltips=function(t,e){for(var i=this.brush.display,r="min"==i?t:e,n=0;n<this.stackTooltips.length;n++)n!=r&&"all"!=i||(this.stackTooltips[n].css({opacity:1}),this.tooltipIndexes.push(n))},this.drawStackTooltip=function(t,e,i,r,n,a){var o=this.chart.theme("tooltipPointFontSize"),s="middle",h=0,l=0;"left"==a?(s="start",h=3,l=o/3):"right"==a?(s="end",h=-3,l=o/3):l="top"==a?-o/3:o;var c=this.chart.text({fill:this.chart.theme("tooltipPointFontColor"),"font-size":o,"font-weight":this.chart.theme("tooltipPointFontWeight"),"text-anchor":s,dx:h,dy:l,opacity:0}).text(this.format(i)).translate(r,n);this.stackTooltips[e]=c,t.append(c)},this.drawStackEdge=function(t){for(var e=this.chart.theme("barStackEdgeBorderWidth"),i=1;i<this.edgeData.length;i++)for(var r=this.edgeData[i-1],n=this.edgeData[i],a=0;a<this.brush.target.length;a++)n[a].width>0&&n[a].height>0&&t.append(this.svg.line({x1:r[a].x+r[a].width-r[a].ex,x2:n[a].x+n[a].dx-n[a].ex,y1:r[a].y+r[a].height-r[a].ey,y2:n[a].y+n[a].dy,stroke:n[a].color,"stroke-width":e}))},this.drawBefore=function(){n=e.svg.group(),i.y.rangeBand(),a=this.getTargetSize(),this.stackTooltips=[],this.tooltipIndexes=[],this.edgeData=[]},this.draw=function(){var o=null,s=0,h=null,l=this.axis.x.max(),c=this.axis.get("x").reverse;return this.eachData(function(u,d){for(var f=e.svg.group(),g=this.offset("y",d),p=g-a/2,v=i.x(0),m=0,y=0,x=0;x<r.target.length;x++){var b=u[r.target[x]]+m,w=i.x(b),C={x:v<w?v:w,y:p,width:Math.abs(v-w),height:a},k=this.getBarElement(d,x).attr(C);this.edgeData[d]||(this.edgeData[d]={}),this.edgeData[d][x]=t.extend({color:this.color(x),dx:C.width,dy:0,ex:c?C.width:0,ey:0},C),v=w,m=b,y+=u[r.target[x]],f.append(k)}y>s&&(s=y,o=d),y<l&&(l=y,h=d),this.drawStackTooltip(f,d,y,v,g,c?"right":"left"),this.setActiveEventOption(f),this.addBarElement(f),n.append(f)}),this.brush.edge&&this.drawStackEdge(n),null!=this.brush.display&&this.setActiveTooltips(h,o),this.setActiveEffectOption(),n}};return e.setup=function(){return{outerPadding:15,edge:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.bar",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){var e,i,r,n,a;this.getBarStyle=function(){return{borderColor:this.chart.theme("barBorderColor"),borderWidth:this.chart.theme("barBorderWidth"),borderOpacity:this.chart.theme("barBorderOpacity"),borderRadius:this.chart.theme("barBorderRadius"),disableOpacity:this.chart.theme("barDisableBackgroundOpacity"),circleColor:this.chart.theme("barPointBorderColor")}},this.getBarElement=function(e,i,r){var n=this.getBarStyle(),a=this.color(e,i),o=this.getData(e)[this.brush.target[i]],s=this.chart.svg.pathRect({width:r.width,height:r.height,fill:a,stroke:n.borderColor,"stroke-width":n.borderWidth,"stroke-opacity":n.borderOpacity});return 0!=o&&this.addEvent(s,e,i),null==this.barList&&(this.barList=[]),this.barList.push(t.extend({element:s,color:a},r)),s},this.setActiveEffect=function(t){for(var e=this.getBarStyle(),i=this.barList,r=0;r<i.length;r++){var n=i[r]==t?1:e.disableOpacity;i[r].element.attr({opacity:n}),i[r].minmax&&i[r].minmax.style(i[r].color,e.circleColor,n)}},this.drawBefore=function(){var t=this.brush.outerPadding,o=this.brush.innerPadding,s=this.brush.target.length;e=this.chart.svg.group(),i=this.axis.x(0),r=this.axis.y.rangeBand(),this.brush.size>0?(a=this.brush.size,n=a*s+(s-1)*o):a=(a=((n=r-2*t)-(s-1)*o)/s)<0?0:a},this.drawETC=function(e){if(t.typeCheck("array",this.barList)){var i=this,r=this.getBarStyle();this.active=this.drawTooltip(),e.append(this.active.tooltip);for(var n=0;n<this.barList.length;n++){var a=this.barList[n],o=this.brush.display;("max"==o&&a.max||"min"==o&&a.min||"all"==o)&&(a.minmax=this.drawTooltip(a.color,r.circleColor,1),a.minmax.control(a.position,a.tooltipX,a.tooltipY,this.format(a.value)),e.append(a.minmax.tooltip)),0!=a.value&&null!=this.brush.activeEvent&&function(t){i.active.style(t.color,r.circleColor,1),t.element.on(i.brush.activeEvent,function(e){i.active.style(t.color,r.circleColor,1),i.active.control(t.position,t.tooltipX,t.tooltipY,i.format(t.value)),i.setActiveEffect(t)}),t.element.attr({cursor:"pointer"})}(a)}null!=(a=this.barList[this.brush.active])&&(this.active.style(a.color,r.circleColor,1),this.active.control(a.position,a.tooltipX,a.tooltipY,this.format(a.value)),this.setActiveEffect(a))}},this.draw=function(){var t=this.getXY(),r=this.getBarStyle();return this.eachData(function(o,s){for(var h=this.offset("y",s)-n/2,l=0;l<this.brush.target.length;l++){var c=o[this.brush.target[l]],u=this.axis.x(c),d=h+a/2,f=u>=i?"right":"left";Math.abs(i-u)<this.brush.minSize&&(u="right"==f?u+this.brush.minSize:u-this.brush.minSize);var g=Math.abs(i-u),p=g<r.borderRadius||a<r.borderRadius?0:r.borderRadius,v=this.getBarElement(s,l,{width:g,height:a,value:c,tooltipX:u,tooltipY:d,position:f,max:t[l].max[s],min:t[l].min[s]});u>=i?(v.round(g,a,0,p,p,0),v.translate(i,h)):(v.round(g,a,p,0,0,p),v.translate(i-g,h)),e.append(v),h+=a+this.brush.innerPadding}}),this.drawETC(e),e},this.drawAnimate=function(t){var e=this.chart.svg,i=this.brush.animate;t.append(e.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.4s",repeatCount:"1",fill:"freeze"})),t.each(function(t,r){if(r.is("util.svg.element.path")){var n=r.data("translate").split(","),a=parseInt(n[0]),o=parseInt(n[1]),s=parseInt(r.attr("width")),h="right"==i?a+s:a-s;r.append(e.animateTransform({attributeName:"transform",type:"translate",from:h+" "+o,to:a+" "+o,begin:"0s",dur:"0.7s",repeatCount:"1",fill:"freeze"}))}})}};return e.setup=function(){return{size:0,minSize:0,outerPadding:2,innerPadding:1,active:null,activeEvent:null,display:null,format:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.line",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){var e,i,r,n,a,o;this.setActiveEffect=function(t){for(var e=this.lineList,n=0;n<e.length;n++){var a=t==e[n].element?o:r,s=e[n].element.get(0).attr("stroke");null!=e[n].tooltip&&e[n].tooltip.style(s,i,a),e[n].element.attr({opacity:a})}},this.setActiveEffects=function(){for(var e=this.lineList,n=this.brush.active,a=0;a<e.length;a++){var s=this.brush.target[a],h=r,l=e[a].element.get(0).attr("stroke");(null===n||n===s||t.typeCheck("array",n)&&n.includes(s))&&(h=o),null!=e[a].tooltip&&e[a].tooltip.style(l,i,h),e[a].element.attr({opacity:h})}},this.addLineElement=function(t){this.lineList||(this.lineList=[]),this.lineList.push(t)},this.createLine=function(e,i){var r=e.x,o=e.y,s=e.value,h="curve"==this.brush.symbol?this.curvePoints(r):null,l="curve"==this.brush.symbol?this.curvePoints(o):null,c=null,u=null,d={"stroke-width":n,"stroke-dasharray":a,fill:"transparent",cursor:null!=this.brush.activeEvent?"pointer":"normal"},f=this.svg.group(),g=null;if(e.length>0)for(var p=null,v=null,m=0;m<r.length-1;m++)if(t.typeCheck(["undefined","null"],s[m])||(p=m),t.typeCheck(["undefined","null"],s[m+1])||(v=m+1),null!=p&&null!=v&&p!=v){var y=this.color(m,i),x=this.getOpacity(m);if(c!=y||u!=x?((g=this.svg.path(t.extend({"stroke-opacity":x,stroke:y,x1:r[p]},d))).css({"pointer-events":"stroke"}),g.MoveTo(r[p],o[p]),f.append(g),c=y,u=x):g.attr({x2:r[v]}),"curve"==this.brush.symbol)g.CurveTo(h.p1[p],l.p1[p],h.p2[p],l.p2[p],r[v],o[v]);else{if("step"==this.brush.symbol){var b=r[p]+(r[v]-r[p])/2;g.LineTo(b,o[p]),g.LineTo(b,o[v])}g.LineTo(r[v],o[v])}}return f},this.createTooltip=function(t,e,r){for(var n=this.brush.display,a=0;a<e.x.length;a++)if("max"==n&&e.max[a]||"min"==n&&e.min[a]||"all"==n){var s="max"==n&&e.max[a]?"top":"bottom",h=this.lineList[r].tooltip;if("all"==n||null==h){var l=this.drawTooltip(this.color(r),i,o);l.control(s,+e.x[a],+e.y[a],this.format(e.value[a])),t.append(l.tooltip),this.lineList[r].tooltip=l}}},this.getOpacity=function(e){var i=this.brush.opacity,r=this.chart.theme("lineBorderOpacity");return t.typeCheck("function",i)&&t.typeCheck("number",e)?i.call(this.chart,this.getData(e),e):t.typeCheck("number",i)?i:r},this.drawLine=function(t){for(var i=this,r=0;r<t.length;r++){var n=this.createLine(t[r],r);this.addEvent(n,null,r),e.append(n),this.addLineElement({element:n,tooltip:null}),null!=this.brush.display&&this.createTooltip(e,t[r],r),null!=this.brush.activeEvent&&function(t){t.on(i.brush.activeEvent,function(e){i.setActiveEffect(t)})}(n)}return null!=this.brush.active&&this.setActiveEffects(),e},this.drawBefore=function(){e=this.chart.svg.group(),i=this.chart.theme("linePointBorderColor"),r=this.chart.theme("lineDisableBorderOpacity"),n=this.chart.theme("lineBorderWidth"),a=this.chart.theme("lineBorderDashArray"),o=this.getOpacity(null)},this.draw=function(){return this.drawLine(this.getXY())},this.drawAnimate=function(t){var e=this.chart.svg;t.each(function(t,i){if(i.is("util.svg.element.path")){var r=i.attributes["stroke-dasharray"],n=i.length();"none"==r?(i.attr({"stroke-dasharray":n}),i.append(e.animate({attributeName:"stroke-dashoffset",from:n,to:"0",begin:"0s",dur:"1s",repeatCount:"1"}))):i.append(e.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.5s",repeatCount:"1",fill:"freeze"}))}})}};return e.setup=function(){return{symbol:"normal",active:null,activeEvent:null,display:null,opacity:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(3));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.area",extend:"chart.brush.line",component:function(){var t=r.default.include("util.base"),e=function(){this.drawArea=function(e){for(var i=this.chart.svg.group(),r=this.axis.y(this.brush.startZero?0:this.axis.y.min()),n=t.typeCheck("number",this.brush.opacity)?this.brush.opacity:this.chart.theme("areaBackgroundOpacity"),a=0;a<e.length;a++){for(var o=this.createLine(e[a],a).children,s=0;s<o.length;s++){var h=o[s];t.typeCheck("function",this.brush.opacity)&&(n=h.attr("stroke-opacity")),e[a].length>0&&(h.LineTo(h.attr("x2"),r),h.LineTo(h.attr("x1"),r),h.ClosePath()),h.attr({fill:h.attr("stroke"),"fill-opacity":n,"stroke-width":0}),i.prepend(h)}if(this.brush.line){h=this.createLine(e[a],a);i.prepend(h),this.addLineElement({element:h,tooltip:null}),this.brush.display&&this.createTooltip(i,e[a],a)}this.addEvent(i,null,a)}return i},this.draw=function(){return this.drawArea(this.getXY())},this.drawAnimate=function(t){t.append(this.chart.svg.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.5s",repeatCount:"1",fill:"freeze"}))}};return e.setup=function(){return{symbol:"normal",active:null,activeEvent:null,display:null,startZero:!0,line:!0}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.fullstackbar",extend:"chart.brush.stackbar",component:function(){var t=r.default.include("util.base"),e=function(e,i,r){var n,a;this.drawBefore=function(){n=e.svg.group(),i.x(0),i.y.rangeBand(),a=this.getTargetSize()},this.drawText=function(e,i,r){if(0===e||isNaN(e))return null;var n=t.typeCheck("function",this.brush.showText)?this.brush.showText.call(this,e):e+"%";return this.chart.text({"font-size":this.chart.theme("barFontSize"),fill:this.chart.theme("barFontColor"),x:i,y:r,"text-anchor":"middle"},n)},this.draw=function(){return this.eachData(function(t,o){for(var s=e.svg.group(),h=this.offset("y",o)-a/2,l=0,c=[],u=0;u<r.target.length;u++){l+=g=t[r.target[u]],c.push(g)}var d=0,f=i.x.max();for(u=0;u<c.length;u++){var g=i.x.rate(c[u],l),p=this.getBarElement(o,u);if(!isNaN(g)){if(p.attr({x:d,y:h,width:g,height:a}),s.append(p),!1!==r.showText){var v=Math.round(c[u]/l*f),m=d+g/2,y=h+a/2+5,x=this.drawText(v,m,y);null!=x&&s.append(x)}this.setActiveEventOption(s),d+=g}}this.addBarElement(s),n.append(s)}),this.setActiveEffectOption(),n}};return e.setup=function(){return{outerPadding:15,showText:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.stackcolumn",extend:"chart.brush.stackbar",component:function(){var t=r.default.include("util.base");return function(e,i,r){var n,a;this.getTargetSize=function(){var t=this.axis.x.rangeBand();if(this.brush.size>0)return this.brush.size;var e=t-2*this.brush.outerPadding;return e<this.brush.minSize?this.brush.minSize:e},this.drawBefore=function(){n=e.svg.group(),i.y(0),a=this.getTargetSize(),this.stackTooltips=[],this.tooltipIndexes=[],this.edgeData=[]},this.draw=function(){var o=null,s=0,h=null,l=this.axis.y.max(),c=this.axis.get("y").reverse;return this.eachData(function(u,d){for(var f=e.svg.group(),g=this.offset("x",d),p=g-a/2,v=i.y(0),m=0,y=0,x=0;x<r.target.length;x++){var b=u[r.target[x]]+m,w=i.y(b),C={x:p,y:v>w?w:v,width:a,height:Math.abs(v-w)},k=this.getBarElement(d,x).attr(C);this.edgeData[d]||(this.edgeData[d]={}),this.edgeData[d][x]=t.extend({color:this.color(x),dx:0,dy:c?C.height:0,ex:0,ey:c?0:C.height},C),v=w,m=b,y+=u[r.target[x]],f.append(k)}y>s&&(s=y,o=d),y<l&&(l=y,h=d),this.drawStackTooltip(f,d,y,g,v,c?"bottom":"top"),this.setActiveEventOption(f),this.addBarElement(f),n.append(f)}),this.brush.edge&&this.drawStackEdge(n),null!=this.brush.display&&this.setActiveTooltips(h,o),this.setActiveEffectOption(),n}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.scatter",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){this.getSymbolType=function(e,i){var r=this.brush.symbol,n=this.brush.target[e];if(t.typeCheck("function",r)){var a=r.apply(this.chart,[n,i]);return"triangle"==a||"cross"==a||"rectangle"==a||"rect"==a||"circle"==a?{type:"default",uri:a}:{type:"image",uri:a}}return{type:"default",uri:r}},this.createScatter=function(t,e,i,r){var n=this,a=null,o=this.brush.size,s=this.brush.size,h=this.color(e,i),l=this.chart.theme("scatterBorderColor"),c=this.chart.theme("scatterBorderWidth"),u=this.brush.opacity;return"image"==r.type?a=this.chart.svg.image({"xlink:href":r.uri,width:o+c,height:s+c,x:t.x-o/2-c,y:t.y-s/2}):(a="triangle"==r.uri||"cross"==r.uri?this.chart.svg.group({width:o,height:s,opacity:u},function(){"triangle"==r.uri?n.chart.svg.polygon().point(0,s).point(o,s).point(o/2,0):(n.chart.svg.line({stroke:h,"stroke-width":2*c,x1:0,y1:0,x2:o,y2:s}),n.chart.svg.line({stroke:h,"stroke-width":2*c,x1:0,y1:o,x2:s,y2:0}))}).translate(t.x-o/2,t.y-s/2):"rectangle"==r.uri||"rect"==r.uri?this.chart.svg.rect({width:o,height:s,x:t.x-o/2,y:t.y-s/2,opacity:u}):this.chart.svg.ellipse({rx:o/2,ry:s/2,cx:t.x,cy:t.y,opacity:u}),"cross"!=r.uri&&a.attr({fill:h,stroke:l,"stroke-width":c}).hover(function(){if(a!=n.activeScatter){var t={fill:n.chart.theme("scatterHoverColor"),stroke:h,"stroke-width":2*c,opacity:u};if(n.brush.hoverSync)for(var i=0;i<n.cachedSymbol[e].length;i++)t.stroke=n.color(e,i),n.cachedSymbol[e][i].attr(t);else a.attr(t)}},function(){if(a!=n.activeScatter){var t={fill:h,stroke:l,"stroke-width":c,opacity:n.brush.hide?0:u};if(n.brush.hoverSync)for(var i=0;i<n.cachedSymbol[e].length;i++)t.fill=n.color(e,i),n.cachedSymbol[e][i].attr(t);else a.attr(t)}})),a},this.drawScatter=function(e){this.cachedSymbol={};for(var i=this,r=this.chart.svg.group(),n=this.chart.theme("scatterBorderColor"),a=this.chart.theme("scatterBorderWidth"),o=this.brush.opacity,s=!1,h=0;h<e.length;h++)for(var l=0;l<e[h].length;l++)if(this.cachedSymbol[l]||(this.cachedSymbol[l]=[]),!this.brush.hideZero||0!==e[h].value[l]){var c={x:e[h].x[l],y:e[h].y[l],max:e[h].max[l],min:e[h].min[l],value:e[h].value[l]};if(!t.typeCheck(["undefined","null"],c.value)){var u=this.getSymbolType(h,c.value),d=this.createScatter(c,l,h,u),f=this.brush.display;"default"==u.type&&"cross"!=u.uri&&this.cachedSymbol[l].push(d),("max"==f&&c.max||"min"==f&&c.min||"all"==f)&&("all"!=f&&s||(r.append(this.drawTooltip(c.x,c.y,this.format(c.value))),s=!0)),null!=this.brush.activeEvent&&function(t,e,r,s){var h=e.x,l=e.y,c=i.format(e.value);t.on(i.brush.activeEvent,function(e){"default"==s.type&&"cross"!=s.uri&&(null!=i.activeScatter&&i.activeScatter.attr({fill:i.activeScatter.attributes.stroke,stroke:n,"stroke-width":a,opacity:i.brush.hide?0:o}),i.activeScatter=t,i.activeScatter.attr({fill:i.chart.theme("scatterHoverColor"),stroke:r,"stroke-width":2*a,opacity:o})),i.activeTooltip.html(c),i.activeTooltip.translate(h,l)}),t.attr({cursor:"pointer"})}(d,c,this.color(l,h),this.getSymbolType(h,c.value)),this.brush.hide&&d.attr({opacity:0}),this.addEvent(d,l,h),r.append(d)}}return this.activeTooltip=this.drawTooltip(0,0,""),r.append(this.activeTooltip),r},this.drawTooltip=function(t,e,i){return this.chart.text({y:-this.brush.size,"text-anchor":"middle",fill:this.chart.theme("tooltipPointFontColor"),"font-size":this.chart.theme("tooltipPointFontSize"),"font-weight":this.chart.theme("tooltipPointFontWeight"),opacity:this.brush.opacity},i).translate(t,e)},this.draw=function(){return this.drawScatter(this.getXY())},this.drawAnimate=function(){var t=this.chart.area();return this.chart.svg.animateTransform({attributeName:"transform",type:"translate",from:t.x+" "+t.height,to:t.x+" "+t.y,begin:"0s",dur:"0.4s",repeatCount:"1"})}};return e.setup=function(){return{symbol:"circle",size:7,hide:!1,hideZero:!1,hoverSync:!1,activeEvent:null,display:null,opacity:1,clip:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.pie",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=r.default.include("util.math"),i=r.default.include("util.color"),n=function(){var r,n=this,a=0,o=0,s=1,h={};this.setActiveEvent=function(t,i){var r=!0,n=this.chart.theme("pieDisableBackgroundOpacity")||.5;for(var a in t){if((o=t[a]).active){r=!1;break}}for(var a in t){var o;if((o=t[a]).active){var s=this.chart.theme("pieActiveDistance"),h=Math.cos(e.radian(o.centerAngle))*s,l=Math.sin(e.radian(o.centerAngle))*s;o.pie.translate(o.centerX+h,o.centerY+l)}else o.pie.translate(o.centerX,o.centerY);i&&(o.pie.children.length>0&&o.pie.get(0).attr({opacity:r||o.active?1:n}),o.text.children.length>0&&o.text.get(0).attr({opacity:r||o.active?1:n}))}},this.setActiveTextEvent=function(t){for(var i in t){var r=t[i],n=r.active?this.chart.theme("pieActiveDistance"):0,a=r.centerX+Math.cos(e.radian(r.centerAngle))*((r.outerRadius+n)/2),o=r.centerY+Math.sin(e.radian(r.centerAngle))*((r.outerRadius+n)/2);r.text.children.length>0&&r.text.get(0).translate(a,o)}},this.getFormatText=function(t,e,i){var r=t;return"function"==typeof this.brush.format?this.format(r,e,i):e?r+": "+this.format(e):r},this.drawPie=function(t,i,r,n,a,o){var s=this.chart.svg.group();if(360==a){var h=this.chart.svg.circle({cx:t,cy:i,r:r,fill:o,stroke:this.chart.theme("pieBorderColor")||o,"stroke-width":this.chart.theme("pieBorderWidth")});return s.append(h),s}var l=this.chart.svg.path({fill:o,stroke:this.chart.theme("pieBorderColor")||o,"stroke-width":this.chart.theme("pieBorderWidth")}),c=e.rotate(0,-r,e.radian(n)),u=c.x,d=c.y;return l.MoveTo(u,d),c=e.rotate(u,d,e.radian(a)),s.translate(t,i),l.Arc(r,r,0,a>180?1:0,1,c.x,c.y).LineTo(0,0).ClosePath(),s.append(l),s.order=1,s},this.drawPie3d=function(t,i,r,n,a,o){var s=this.chart.svg.group(),h=this.chart.svg.path({fill:o,stroke:this.chart.theme("pieBorderColor")||o,"stroke-width":this.chart.theme("pieBorderWidth")}),l=e.rotate(0,-r,e.radian(n)),c=l.x,u=l.y;h.MoveTo(c,u),l=e.rotate(c,u,e.radian(a)),s.translate(t,i),h.Arc(r,r,0,a>180?1:0,1,l.x,l.y);var d=l.y+10,f=l.x+5,g=c+5,p=u+10;return h.LineTo(f,d),h.Arc(r,r,0,a>180?1:0,0,g,p),h.ClosePath(),s.append(h),s.order=1,s},this.drawText=function(t,i,r,n,h){var l=this.svg.group({visibility:this.brush.showText?"visible":"hidden"}),c=r+90>180;if(""===h||!h)return l;if("inside"==this.brush.showText){var u=t+Math.cos(e.radian(r))*(n/2),d=i+Math.sin(e.radian(r))*(n/2);(h=this.chart.text({"font-size":this.chart.theme("pieInnerFontSize"),fill:this.chart.theme("pieInnerFontColor"),"text-anchor":"middle",y:3},h)).translate(u,d),l.append(h),l.order=2}else{var f=this.chart.theme("pieOuterLineRate");if(Math.abs(r-a)<2)0==o&&(o=f),o-=.05*f,s-=.25;else o=f,s=1;if(o>1.2){var g=this.chart.theme("pieOuterLineSize"),p=n*o,v=(u=t+Math.cos(e.radian(r))*n,d=i+Math.sin(e.radian(r))*n,t+Math.cos(e.radian(r))*p),m=i+Math.sin(e.radian(r))*p,y=c?v-g:v+g,x=this.svg.path({fill:"transparent",stroke:this.chart.theme("pieOuterLineColor"),"stroke-width":this.chart.theme("pieOuterLineWidth"),"stroke-opacity":s});x.MoveTo(u,d).LineTo(v,m).LineTo(y,m),(h=this.chart.text({"font-size":this.chart.theme("pieOuterFontSize"),fill:this.chart.theme("pieOuterFontColor"),"fill-opacity":s,"text-anchor":c?"end":"start",y:3},h)).translate(y+(c?-3:3),m),l.append(h),l.append(x),l.order=0,a=r}}return l},this.drawUnit=function(e,r,a){for(var o=this.getProperty(e),s=o.centerX,l=o.centerY,c=o.outerRadius,u=this.brush.target,d=this.brush.active,f=0,g=0,p=0;p<u.length;p++)g+=r[u[p]];for(p=0;p<u.length;p++)if(0!=r[u[p]]){var v=(y=r[u[p]])/g*360;if(this.brush["3d"]){var m=this.drawPie3d(s,l,c,f,v,i.darken(this.color(p),.5));a.append(m)}f+=v}f=0;for(p=0;p<u.length;p++){var y,x=f+(v=(y=r[u[p]])/g*360)/2-90,b=360==Math.abs(f-v),w=this.drawPie(s,l,c,f,v,this.color(p)),C=this.drawText(s,l,x,c,this.getFormatText(u[p],y,g));h[x]={active:!1,pie:w,text:C,centerX:s,centerY:l,centerAngle:x,outerRadius:c},b||(d==u[p]||-1!=t.inArray(u[p],d)?h[x].active=!0:h[x].active=!1,"inside"==this.brush.showText&&this.setActiveTextEvent(h),this.setActiveEvent(h,!0),null!=this.brush.activeEvent&&function(t,e,i,r,a,o){t.on(n.brush.activeEvent,function(t){h[a].active?h[a].active=!1:h[a].active=!0,"inside"==n.brush.showText&&n.setActiveTextEvent(h),n.setActiveEvent(h,!0)}),t.attr({cursor:"pointer"})}(w,C.get(0),0,0,x)),n.addEvent(w,e,p),a.append(w),a.append(C),f+=v}},this.drawNoData=function(t){var e=this.getProperty(0);t.append(this.drawPie(e.centerX,e.centerY,e.outerRadius,0,360,this.chart.theme("pieNoDataBackgroundColor")))},this.drawBefore=function(){r=this.chart.svg.group()},this.draw=function(){return 0==this.listData().length?this.drawNoData(r):this.eachData(function(t,e){this.drawUnit(e,t,r)}),r},this.getProperty=function(t){var e=this.axis.c(t),i=e.width,r=e.height,n=e.x,a=e.y,o=i;return r<o&&(o=r),{centerX:i/2+n,centerY:r/2+a,outerRadius:o/2}}};return n.setup=function(){return{clip:!1,showText:null,format:null,"3d":!1,active:null,activeEvent:null}},n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(8));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.donut",extend:"chart.brush.pie",component:function(){var t=r.default.include("util.base"),e=r.default.include("util.math"),i=r.default.include("util.color"),n=function(){var r=this,n={};this.drawDonut=function(t,i,r,n,a,o,s){s["stroke-width"]=n-r,o>=360&&(o=359.9999);var h=this.chart.svg.group(),l=this.chart.svg.path(s),c=(Math.abs(n-r),e.rotate(0,-n,e.radian(a))),u=c.x,d=c.y;return l.MoveTo(u,d),c=e.rotate(u,d,e.radian(o)),h.translate(t,i),l.Arc(n,n,0,o>180?1:0,1,c.x,c.y),l.css({"pointer-events":"stroke"}),h.append(l),h.order=1,h},this.drawDonut3d=function(t,i,r,n,a,o,s){var h=this.chart.svg.group(),l=this.chart.svg.path(s),c=Math.abs(n-r);r=(n+=c/2)-c;var u=e.rotate(0,-n,e.radian(a)),d=u.x,f=u.y,g=e.rotate(0,-r,e.radian(a)),p=g.x,v=g.y;l.MoveTo(d,f),u=e.rotate(d,f,e.radian(o)),g=e.rotate(p,v,e.radian(o)),h.translate(t,i),l.Arc(n,n,0,o>180?1:0,1,u.x,u.y);var m=u.y+10,y=u.x+5,x=g.y+10,b=g.x+5,w=d+5,C=f+10,k=p+5,B=v+10;l.LineTo(y,m),l.Arc(n,n,0,o>180?1:0,0,w,C),l.ClosePath(),h.append(l);var A=this.chart.svg.path(s);return A.MoveTo(p,v),A.Arc(r,r,0,o>180?1:0,1,g.x,g.y),A.LineTo(b,x),A.Arc(r,r,0,o>180?1:0,0,k,B),A.ClosePath(),h.append(A),h.order=1,h},this.drawDonut3dBlock=function(t,i,r,n,a,o,s){var h=this.chart.svg.group(),l=this.chart.svg.path(s),c=Math.abs(n-r);r=(n+=c/2)-c;var u=e.rotate(0,-n,e.radian(a)),d=u.x,f=u.y,g=e.rotate(0,-r,e.radian(a)),p=g.x,v=g.y;l.MoveTo(d,f),u=e.rotate(d,f,e.radian(o)),g=e.rotate(p,v,e.radian(o)),h.translate(t,i);var m=u.y+10,y=u.x+5,x=g.y+10,b=g.x+5,w=this.chart.svg.path(s);return w.MoveTo(u.x,u.y).LineTo(y,m).LineTo(b,x).LineTo(g.x,g.y).ClosePath(),h.append(w),h.order=1,h},this.drawUnit=function(e,a,o){for(var s=this.getProperty(e),h=s.centerX,l=s.centerY,c=s.innerRadius,u=s.outerRadius,d=this.brush.target,f=this.brush.active,g=0,p=0,v=0,m=0;m<d.length;m++)p+=a[d[m]];if(this.brush["3d"]){for(m=0;m<d.length;m++){var y=(b=a[d[m]])/p*360,x=this.drawDonut3dBlock(h,l,c,u,g,y,{fill:i.darken(this.color(m),.5)},m==d.length-1);o.append(x),g+=y}g=0;for(m=0;m<d.length;m++){y=(b=a[d[m]])/p*360,x=this.drawDonut3d(h,l,c,u,g,y,{fill:i.darken(this.color(m),.5)},m==d.length-1);o.append(x),g+=y}}g=0;for(m=0;m<d.length;m++)if(0!=a[d[m]]){var b,w=g+(y=(b=a[d[m]])/p*360)/2-90,C=360==Math.abs(g-y),k="inside"==this.brush.showText?this.brush.size+c+u:u,B=this.drawDonut(h,l,c,u,g,y,{stroke:this.color(m),fill:"transparent"}),A=this.drawText(h,l,w,k,this.getFormatText(d[m],b));n[w]={active:!1,pie:B,text:A,centerX:h,centerY:l,centerAngle:w,outerRadius:k},C||(f==d[m]||-1!=t.inArray(d[m],f)?n[w].active=!0:n[w].active=!1,"inside"==this.brush.showText&&this.setActiveTextEvent(n),this.setActiveEvent(n,!1),null!=this.brush.activeEvent&&function(t,e,i,a,o,s){t.on(r.brush.activeEvent,function(t){n[o].active?n[o].active=!1:n[o].active=!0,"inside"==r.brush.showText&&r.setActiveTextEvent(n),r.setActiveEvent(n,!1)}),t.attr({cursor:"pointer"})}(B,A.get(0),0,0,w)),this.addEvent(B,e,m),o.append(B),o.append(A),g+=y,v+=b}this.brush.showValue&&this.drawTotalValue(o,h,l,v)},this.drawNoData=function(t){var e=this.getProperty(0);t.append(this.drawDonut(e.centerX,e.centerY,e.innerRadius,e.outerRadius,0,360,{stroke:this.chart.theme("pieNoDataBackgroundColor"),fill:"transparent"})),this.brush.showValue&&this.drawTotalValue(t,e.centerX,e.centerY,0)},this.drawTotalValue=function(t,e,i,r){var n=this.chart.theme("pieTotalValueFontSize"),a=this.chart.text({"font-size":n,"font-weight":this.chart.theme("pieTotalValueFontWeight"),fill:this.chart.theme("pieTotalValueFontColor"),"text-anchor":"middle",dy:n/3},this.format(r));a.translate(e,i),t.append(a)},this.getProperty=function(t){var e=this.axis.c(t),i=e.width,r=e.height,n=e.x,a=e.y,o=i;r<o&&(o=r),this.brush.size>=o/2&&(this.brush.size=o/4);var s=o/2-this.brush.size/2;return{centerX:i/2+n,centerY:r/2+a,outerRadius:s,innerRadius:s-this.brush.size}}};return n.setup=function(){return{size:50,showValue:!1}},n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));r.default.define("util.keyparser",[],function(){return function(){this.isIndexDepth=function(t){return"string"==typeof t&&-1!=t.indexOf(".")},this.getIndexList=function(t){for(var e=[],i=(""+t).split("."),r=0;r<i.length;r++)e[r]=parseInt(i[r]);return e},this.changeIndex=function(t,e,i){for(var r=this.getIndexList(i).length,n=this.getIndexList(t),a=this.getIndexList(e),o=0;o<r;o++)n.shift();return a.concat(n).join(".")},this.getNextIndex=function(t){var e=this.getIndexList(t),i=e.pop()+1;return e.push(i),e.join(".")},this.getParentIndex=function(t){return this.isIndexDepth(t)?t.substr(0,t.lastIndexOf(".")):null}}}),r.default.define("util.treemap",[],function(){return{sumArray:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e}}}),r.default.define("chart.brush.treemap.node",[],function(){return function(t){var e=this;this.text=t.text,this.value=t.value,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.index=null,this.nodenum=null,this.parent=null,this.children=[],this.depth=0,this.reload=function(t){this.nodenum=isNaN(t)?this.nodenum:t,e.parent&&(null==this.parent.index?this.index=""+this.nodenum:this.index=e.parent.index+"."+this.nodenum),this.parent&&"string"==typeof e.index&&(this.depth=this.index.split(".").length),this.children.length>0&&function t(e){for(var i=e.children,r=0;r<i.length;r++)i[r].children.length>0&&t(i[r])}(this)},this.isLeaf=function(){return 0==this.children.length},this.appendChild=function(t){this.children.push(t)},this.insertChild=function(t,e){var i=this.children.splice(0,t);i.push(e),this.children=i.concat(this.children)},this.removeChild=function(t){for(var e=0;e<this.children.length;e++)this.children[e].index==t&&this.children.splice(e,1)},this.lastChild=function(){return this.children.length>0?this.children[this.children.length-1]:null},this.lastChildLeaf=function(t){var e=t||this.lastChild();return e.isLeaf()?e:this.lastChildLeaf(e.lastChild())}}}),r.default.define("chart.brush.treemap.nodemanager",["util.base","util.keyparser","chart.brush.treemap.node"],function(t,e,i){return function(){var t=this,r=new i({text:null,value:-1,x:-1,y:-1,width:-1,height:-1}),n=new e;function a(t,e,r){var n=new i(t);return n.parent=r||null,n.reload(e),n}function o(t,e){var i=e.children;if(i.length>0)for(var r=0;r<i.length;r++)t.push(i[r]),i[r].children.length>0&&o(t,i[r])}this.appendNode=function(){var e=arguments[0],i=arguments[1];return i?function(e,i){var r=t.getNode(e),n=a(i,r.children.length,r);return r.appendChild(n),n}(e,i):function(t){var e=a(t,r.children.length,r);return r.appendChild(e),e}(e)},this.insertNode=function(e,i){return 0==r.children.length&&0==parseInt(e)?this.appendNode(i):function(e,i){var r=n.getIndexList(e),o=t.getNodeParent(e),s=r[r.length-1],h=a(i,s,o);return o.insertChild(s,h),h}(e,i)},this.updateNode=function(t,e){var i=this.getNode(t);for(var r in e)i.data[r]=e[r];return i.reload(i.nodenum,!0),i},this.getNode=function(t){if(null==t)return r.children;var e=r.children;if(n.isIndexDepth(t)){var i=n.getIndexList(t);return function t(e,i){if(!i)return null;var r=e.shift();return void 0==r?i:t(e,i.children[r])}(i,e[i.shift()])}return e[t]?e[t]:null},this.getNodeAll=function(t){for(var e=[],i=null==t?r.children:[this.getNode(t)],n=0;n<i.length;n++)i[n]&&(e.push(i[n]),i[n].children.length>0&&o(e,i[n]));return e},this.getNodeParent=function(t){var e=n.getIndexList(t);return 1==e.length?r:2==e.length?this.getNode(e[0]):e.length>2?(e.pop(),this.getNode(e.join("."))):void 0},this.getRoot=function(){return r}}}),r.default.define("chart.brush.treemap.container",["util.treemap"],function(t){return function e(i,r,n,a){this.xoffset=i,this.yoffset=r,this.height=a,this.width=n,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var i=[],r=this.xoffset,n=this.yoffset,a=t.sumArray(e)/this.height,o=t.sumArray(e)/this.width;if(this.width>=this.height)for(var s=0;s<e.length;s++)i.push([r,n,r+a,n+e[s]/a]),n+=e[s]/a;else for(s=0;s<e.length;s++)i.push([r,n,r+e[s]/o,n+o]),r+=e[s]/o;return i},this.cutArea=function(t){if(this.width>=this.height){var i=t/this.height,r=this.width-i;return new e(this.xoffset+i,this.yoffset,r,this.height)}var n=t/this.width,a=this.height-n;return new e(this.xoffset,this.yoffset+n,this.width,a)}}}),r.default.define("chart.brush.treemap.calculator",["util.base","util.treemap","chart.brush.treemap.container"],function(t,e,i){function r(t,r,a,o,s){return o=void 0===o?0:o,s=void 0===s?0:s,function(t){var e=[];if(t)for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)e.push(t[i][r]);return e}(function t(i,r,a,o){var s;var h;var l;if(0===i.length)return void o.push(a.getCoordinates(r));s=a.shortestEdge();h=i[0];!function(t,e,i){var r;if(0===t.length)return!0;(r=t.slice()).push(e);var a=n(t,i),o=n(r,i);return a>=o}(r,h,s)?(l=a.cutArea(e.sumArray(r),o),o.push(a.getCoordinates(r)),t(i,[],l,o)):(r.push(h),t(i.slice(1),r,a,o));return o}(function(t,i){for(var r=[],n=i/e.sumArray(t),a=0;a<t.length;a++)r[a]=t[a]*n;return r}(t,r*a),[],new i(o,s,r,a),[]))}function n(t,i){var r=Math.min.apply(Math,t),n=Math.max.apply(Math,t),a=e.sumArray(t);return Math.max(Math.pow(i,2)*n/Math.pow(a,2),Math.pow(a,2)/(Math.pow(i,2)*r))}function a(i){var r=0;if(t.typeCheck("array",i[0]))for(var n=0;n<i.length;n++)r+=a(i[n]);else r=e.sumArray(i);return r}return function e(i,n,o,s,h){s=void 0===s?0:s,h=void 0===h?0:h;var l,c=[],u=[];if(t.typeCheck("array",i[0])){for(var d=0;d<i.length;d++)c[d]=a(i[d]);for(l=r(c,n,o,s,h),d=0;d<i.length;d++)u.push(e(i[d],l[d][2]-l[d][0],l[d][3]-l[d][1],l[d][0],l[d][1]))}else u=r(i,n,o,s,h);return u}}),e.default={name:"chart.brush.treemap",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=r.default.include("chart.brush.treemap.calculator"),i=r.default.include("chart.brush.treemap.nodemanager"),n=3,a=function(){var r=new i,a={};function o(t,e,i,r){r||(r=[]);for(var n=0;n<e.length;n++)0==e[n].children.length?r.push(e[n][t]):o(t,e[n].children,i,[]);return i.push(r),i}function s(t){return 0!=t.width||0!=t.height||0!=t.x||0!=t.y}function h(e,i,r,o,s){var h=e.chart.theme("treemapTitleFontSize"),l=function t(e,i,r){if(0==e.children.length)return{x:Math.min(i,e.x),y:Math.min(r,e.y)};for(var n=0;n<e.children.length;n++)return t(e.children[n],i,r)}(r,e.axis.area("width"),e.axis.area("height")),c=e.chart.text({"font-size":h,"font-weight":"bold",fill:e.chart.theme("treemapTitleFontColor"),x:o+l.x+n,y:s+l.y+h,"text-anchor":"start"},t.typeCheck("function",e.brush.format)?e.format(r):r.text);i.append(c),a[r.index]=!0}function l(t){return t.parent.depth>0?l(t.parent):t.nodenum}this.drawBefore=function(){for(var i=0;i<this.axis.data.length;i++){var n=this.axis.data[i],a=this.getValue(n,"index");r.insertNode(a,{text:this.getValue(n,"text",""),value:this.getValue(n,"value",0),x:this.getValue(n,"x",0),y:this.getValue(n,"y",0),width:this.getValue(n,"width",0),height:this.getValue(n,"height",0)})}var s=r.getNode(),h=o("value",s,[]);!function e(i,n){for(var a=0;a<i.length;a++)if(t.typeCheck("array",i[a]))e(i[a],n[a]);else{var o=r.getNode(i[a]);o.x=n[a][0],o.y=n[a][1],o.width=n[a][2]-n[a][0],o.height=n[a][3]-n[a][1]}}(o("index",s,[]),e(h,this.axis.area("width"),this.axis.area("height")))},this.draw=function(){for(var e=this.svg.group(),i=this.axis.area("x"),o=this.axis.area("y"),c=r.getNodeAll(),u=0;u<c.length;u++)if(this.brush.titleDepth==c[u].depth&&h(this,e,c[u],i,o),s(c[u])){var d=i+c[u].x,f=o+c[u].y,g=c[u].width,p=c[u].height;if(this.brush.showText&&!a[c[u].index]){var v=d+g/2,m=f+p/2,y=this.chart.theme("treemapTextFontSize");"top"==this.brush.textOrient?m=f+y:"bottom"==this.brush.textOrient&&(m=f+p-y/2),"start"==this.brush.textAlign?v=d+n:"end"==this.brush.textAlign&&(v=d+g-n);var x=this.chart.text({"font-size":y,fill:this.chart.theme("treemapTextFontColor"),x:v,y:m,"text-anchor":this.brush.textAlign},t.typeCheck("function",this.brush.format)?this.format(c[u]):c[u].text);e.append(x)}var b=this.svg.rect({stroke:this.chart.theme("treemapNodeBorderColor"),"stroke-width":this.chart.theme("treemapNodeBorderWidth"),x:d,y:f,width:g,height:p,fill:this.color(l(c[u]))});if(t.typeCheck("function",this.brush.nodeColor)){var w=this.brush.nodeColor.call(this.chart,c[u]);b.attr({fill:this.color(w)})}this.addEvent(b,c[u]),e.prepend(b)}return e}};return a.setup=function(){return{textOrient:"top",textAlign:"middle",showText:!0,titleDepth:1,nodeColor:null,clip:!1,format:null}},a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.canvas.base",extend:null,component:function(){return function(t){this.clearContext=function(){t.clearRect(0,0,t.canvas.width,t.canvas.height)},this.drawLine=function(e,i,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;a=a||"#434d6b",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineWidth=o,t.strokeStyle=a,t.stroke()},this.drawCurve=function(e,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16;t.beginPath();var s=e.reduce(function(t,e){return t.push(e[0],e[1]),t},[]),h=getCurvePoints(s,i,r,n,a,o);t.moveTo(h[0],h[1]);for(var l=2;l<h.length-1;l+=2)t.lineTo(h[l],h[l+1])},this.drawDashedLine=function(e,i,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[3,3],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;a=a||"#434d6b",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineWidth=s,t.strokeStyle=a;var h=t.getLineDash();t.setLineDash(o),t.stroke(),t.setLineDash(h)},this.drawLines=function(e){e=e||"#434d6b",t.beginPath();for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];t.moveTo(r[0][0],r[0][1]),r.slice(1).map(function(e){return t.lineTo(e[0],e[1])}),t.lineWidth=1,t.strokeStyle=e,t.stroke()},this.drawRoundRect=function(e,i,r,n,a){t.beginPath(),t.moveTo(e,i+a),t.lineTo(e,i+n-a),t.arcTo(e,i+n,e+a,i+n,a),t.lineTo(e+r-a,i+n),t.arcTo(e+r,i+n,e+r,i+n-a,a),t.lineTo(e+r,i+a),t.arcTo(e+r,i,e+r-a,i,a),t.lineTo(e+a,i),t.arcTo(e,i,e,i+a,a),t.closePath()},this.drawFreeRect=function(e,i,r,n,a,o,s,h,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;l=l||"#ffffff",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineTo(a,o),t.lineTo(s,h),t.closePath(),t.fillStyle=l,null!=c&&(t.lineWidth=2,t.strokeStyle=c,t.stroke()),t.fill()},this.drawFreeRectStroke=function(e,i,r,n,a,o,s,h,l){l=l||"#ffffff",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineTo(a,o),t.lineTo(s,h),t.lineWidth=1,t.strokeStyle=l,t.stroke()},this.drawTriangle=function(e,i,r,n){n=n||"#ffffff",t.beginPath(),t.moveTo(e,i-r),t.lineTo(e-r,i+r),t.lineTo(e+r,i+r),t.closePath(),t.fillStyle=n,t.fill()},this.drawSquare=function(e,i,r,n){n=n||"#ffffff",t.beginPath(),t.moveTo(e-r,i-r),t.lineTo(e-r,i+r),t.lineTo(e+r,i+r),t.lineTo(e+r,i-r),t.closePath(),t.fillStyle=n,t.fill()},this.drawPage=function(e,i,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];drawFreeRect(t,e+i,r,e+i-20,r+14,e+i-20,r+52,e+i,r+38,n,a?"rgba(255,255,255,0.2)":null)},this.drawCircle=function(e,i,r,n){n=n||"white",r=r||1,t.beginPath(),t.arc(e,i,r,0,2*Math.PI),t.fillStyle=n,t.fill()},this.drawBullet=function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:74,n=t.createLinearGradient(e,i,e+r,i);n.addColorStop(0,"#1074fc"),n.addColorStop(1,"rgba(37, 172, 254, 0)"),t.beginPath(),t.arc(e,i,2,Math.PI/2,Math.PI/2*3),t.lineTo(e+r,i-2),t.lineTo(e+r,i+2),t.closePath(),t.fillStyle=n,t.fill(),t.fillStyle=n},this.getCurvePoints=function(t,e,i){var r,n,a,o,s,h,l,c,u,d,f,g,p,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,m=arguments.length>4&&void 0!==arguments[4]&&arguments[4],y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16,x=[],b=[];for(x=t.slice(0),m?(x.unshift(t[t.length-1]),x.unshift(t[t.length-2]),x.unshift(t[t.length-1]),x.unshift(t[t.length-2]),x.push(t[0]),x.push(t[1])):(x.unshift(t[1]),x.unshift(t[0]),x.push(t[t.length-2]),x.push(t[t.length-1])),p=2;p<x.length-4;p+=2)for(g=0;g<=y;g++)a=(x[p+2]-x[p-2])*v,o=(x[p+4]-x[p])*v,s=(x[p+3]-x[p-1])*v,h=(x[p+5]-x[p+1])*v,f=g/y,l=2*Math.pow(f,3)-3*Math.pow(f,2)+1,c=-2*Math.pow(f,3)+3*Math.pow(f,2),u=Math.pow(f,3)-2*Math.pow(f,2)+f,d=Math.pow(f,3)-Math.pow(f,2),r=l*x[p]+c*x[p+2]+u*a+d*o,n=l*x[p+1]+c*x[p+3]+u*s+d*h,b.push(r),n>i?b.push(i):n<e?b.push(e):b.push(n);return b}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.canvas.base.kinetic",extend:null,component:function(){return function(){this.mass=10,this.friction=.1,this.pos=[0,0],this.veloc=[0,0],this.accel=[0,0],this.force=function(t){this.accel=[this.accel[0]+t[0]/this.mass,this.accel[1]+t[1]/this.mass]},this.accelScalar=function(){return Math.sqrt(this.accel[0]*this.accel[0]+this.accel[1]*this.accel[1])},this.velocScalar=function(){return Math.sqrt(this.veloc[0]*this.veloc[0]+this.veloc[1]*this.veloc[1])},this.velocityForce=function(){var t=this.veloc[0]<0?-1:1,e=this.veloc[1]<0?-1:1;return[.5*t*this.mass*this.veloc[0]*this.veloc[0],.5*e*this.mass*this.veloc[1]*this.veloc[1]]},this.distancePos=function(t){return Math.sqrt(Math.pow(this.pos[0]-t[0],2)+Math.pow(this.pos[1]-t[1],2))},this.distance=function(t){return this.distancePos(t.pos)},this.direction=function(t){var e=this.distancePos(t);return 0==e?[0,0]:[(this.pos[0]-t[0])/e,(this.pos[1]-t[1])/e]},this.speed=function(){return Math.sqrt(Math.pow(this.veloc[0],2)+Math.pow(this.veloc[1],2))},this.update=function(){this.veloc=[this.veloc[0]+this.accel[0],this.veloc[1]+this.accel[1]];var t=this.pos[0],e=this.pos[1];Math.abs(this.veloc[0])>2&&(t=this.pos[0]+this.veloc[0]),Math.abs(this.veloc[1])>2&&(e=this.pos[1]+this.veloc[1]),this.pos=[t,e],this.accel=[0,0]},this.draw=function(t,e){}}}}},function(t,e,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=vt(i(0)),a=vt(i(15)),o=vt(i(16)),s=vt(i(17)),h=vt(i(18)),l=vt(i(19)),c=vt(i(20)),u=vt(i(21)),d=vt(i(2)),f=vt(i(1)),g=vt(i(5)),p=vt(i(22)),v=vt(i(23)),m=vt(i(6)),y=vt(i(24)),x=vt(i(25)),b=vt(i(3)),w=vt(i(4)),C=vt(i(26)),k=vt(i(27)),B=vt(i(7)),A=vt(i(28)),F=vt(i(8)),T=vt(i(9)),M=vt(i(10)),S=vt(i(29)),z=vt(i(30)),O=vt(i(31)),E=vt(i(32)),P=vt(i(33)),L=vt(i(34)),_=vt(i(35)),R=vt(i(36)),W=vt(i(37)),D=vt(i(38)),j=vt(i(39)),I=vt(i(40)),N=vt(i(41)),X=vt(i(42)),Y=vt(i(43)),V=vt(i(44)),U=vt(i(46)),H=vt(i(48)),G=vt(i(49)),q=vt(i(50)),Z=vt(i(51)),J=vt(i(52)),K=vt(i(53)),Q=vt(i(54)),$=vt(i(55)),tt=vt(i(56)),et=vt(i(57)),it=vt(i(58)),rt=vt(i(59)),nt=vt(i(60)),at=vt(i(61)),ot=vt(i(62)),st=vt(i(63)),ht=vt(i(64)),lt=vt(i(65)),ct=vt(i(66)),ut=vt(i(67)),dt=vt(i(68)),ft=vt(i(69)),gt=vt(i(70)),pt=vt(i(71));function vt(t){return t&&t.__esModule?t:{default:t}}n.default.use([a.default,o.default,s.default,h.default,l.default,c.default,u.default,d.default,f.default,g.default,p.default,v.default,m.default,y.default,x.default,b.default,w.default,C.default,k.default,B.default,A.default,F.default,T.default,M.default,S.default,z.default,O.default,E.default,P.default,L.default,_.default,R.default,W.default,D.default,j.default,I.default,N.default,X.default,Y.default,V.default,U.default,H.default,G.default,q.default,Z.default,J.default,K.default,Q.default,$.default,tt.default,et.default,it.default,rt.default,nt.default,at.default,ot.default,st.default,ht.default,lt.default,ct.default,ut.default,dt.default,ft.default,gt.default,pt.default]),"object"==("undefined"==typeof window?"undefined":r(window))&&(window.graph=n.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":r(t)},a={},o={},s={},h=a["util.base"]={browser:{webkit:"WebkitAppearance"in document.documentElement.style,mozilla:void 0!==window.mozInnerScreenX,msie:-1!=window.navigator.userAgent.indexOf("Trident")},isTouch:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent),inherit:function(t,e){this.typeCheck("function",t)&&this.typeCheck("function",e)&&(t.parent=e,t.prototype=new e,t.prototype.constructor=t,t.prototype.parent=t.prototype,t.prototype.super=function(t,e){return this.constructor.prototype[t].apply(this,e)})},extend:function(t,e,i){if(this.typeCheck(["object","function"],t)||(t={}),!this.typeCheck(["object","function"],e))return t;for(var r in e)!0===i?n(t[r])?this.extend(t[r],e[r],i):this.typeCheck("undefined",t[r])&&(t[r]=e[r]):n(t[r])?this.extend(t[r],e[r],i):t[r]=e[r];function n(t){return h.typeCheck("object",t)}return t},pxToInt:function(t){return this.typeCheck("string",t)&&-1!=t.indexOf("px")?parseInt(t.split("px").join("")):t},clone:function(t){var e=this.typeCheck("array",t)?[]:{};for(var i in t)this.typeCheck("object",t[i])?e[i]=this.clone(t[i]):e[i]=t[i];return e},deepClone:function(t,e){var i=null;if(e=e||{},this.typeCheck("array",t)){i=new Array(t.length);for(var r=0,n=t.length;r<n;r++)i[r]=this.deepClone(t[r],e)}else if(this.typeCheck("date",t))i=t;else if(this.typeCheck("object",t))for(var a in i={},t)e[a]?i[a]=t[a]:i[a]=this.deepClone(t[a],e);else i=t;return i},runtime:function(t,e){var i=(new Date).getTime();e();var r=(new Date).getTime();console.warn(t+" : "+(r-i)+"ms")},resize:function(t,e){var i=function(){var i=0;return function(){clearTimeout(i),i=setTimeout(t,e)}}();window.addEventListener?window.addEventListener("resize",i):object.attachEvent?window.attachEvent("onresize",i):window.onresize=i},typeCheck:function(t,e){function i(t,e){return"string"==typeof t&&("string"==t?"string"==typeof e:"integer"==t?"number"==typeof e&&e%1==0:"float"==t?"number"==typeof e&&e%1!=0:"number"==t?"number"==typeof e:"boolean"==t?"boolean"==typeof e:"undefined"==t?void 0===e:"null"==t?null===e:"array"==t?e instanceof Array:"date"==t?e instanceof Date:"function"==t?"function"==typeof e:"object"==t&&!("object"!=(void 0===e?"undefined":n(e))||null===e||e instanceof Array||e instanceof Date||e instanceof RegExp))}if("object"==(void 0===t?"undefined":n(t))&&t.length){for(var r=t,a=0;a<r.length;a++)if(i(r[a],e))return!0;return!1}return i(t,e)},typeCheckObj:function(t,e){if("object"==(void 0===t?"undefined":n(t))){var i=this;for(var r in t){var a=t[r];"function"==typeof a&&function(r,n){t[r]=function(){for(var t=arguments,a=e[r],o=0;o<t.length;o++)if(!i.typeCheck(a[o],t[o]))throw new Error("JUI_CRITICAL_ERR: the "+o+"th parameter is not a "+a[o]+" ("+name+")");return n.apply(this,t)}}(r,a)}}},dateFormat:function(t,e,i){var r=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],n=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function s(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var h=i?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var l=(i?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+n[0])).replace(/(^|[^\\])MM/g,"$1"+s(l))).replace(/(^|[^\\])M/g,"$1"+l);var c=i?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+s(c))).replace(/(^|[^\\])d/g,"$1"+c);var u=i?t.getUTCHours():t.getHours();e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+s(u))).replace(/(^|[^\\])H/g,"$1"+u);var d=u>12?u-12:0==u?12:u;e=(e=e.replace(/(^|[^\\])hh+/g,"$1"+s(d))).replace(/(^|[^\\])h/g,"$1"+d);var f=i?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+s(f))).replace(/(^|[^\\])m/g,"$1"+f);var g=i?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+s(g))).replace(/(^|[^\\])s/g,"$1"+g);var p=i?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+s(p,3)),p=Math.round(p/10),e=e.replace(/(^|[^\\])ff/g,"$1"+s(p)),p=Math.round(p/10),e=e.replace(/(^|[^\\])f/g,"$1"+p);var v=u<12?"AM":"PM";e=(e=e.replace(/(^|[^\\])TT+/g,"$1"+v)).replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var m=v.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+m)).replace(/(^|[^\\])t/g,"$1"+m.charAt(0));var y=-t.getTimezoneOffset(),x=i||!y?"Z":y>0?"+":"-";if(!i){var b=(y=Math.abs(y))%60;x+=s(Math.floor(y/60))+":"+s(b)}e=e.replace(/(^|[^\\])K/g,"$1"+x);var w=(i?t.getUTCDay():t.getDay())+1;return e=(e=(e=(e=(e=e.replace(new RegExp(a[0],"g"),a[w])).replace(new RegExp(o[0],"g"),o[w])).replace(new RegExp(r[0],"g"),r[l])).replace(new RegExp(n[0],"g"),n[l])).replace(/\\(.)/g,"$1")},createId:function(t){return[t||"id",+new Date,Math.round(100*Math.random())%100].join("-")},timeLoop:function(t,e){return function(i,r){!function t(n){n<1||(1==n?(i.call(e,n),r.call(e)):setTimeout(function(){n>-1&&i.call(e,n--),n>-1&&t(n)},1))}(t)}},loop:function(t,e){var i=t,r=Math.ceil(t/5);return function(t){for(var n=0,a=1*r,o=2*r,s=3*r,h=4*r,l=a,c=o,u=s,d=h,f=i;n<l&&n<i;)t.call(e,n,1),n++,a<c&&a<i&&(t.call(e,a,2),a++),o<u&&o<i&&(t.call(e,o,3),o++),s<d&&s<i&&(t.call(e,s,4),s++),h<f&&h<i&&(t.call(e,h,5),h++)}},loopArray:function(t,e){var i=t.length,r=i,n=Math.ceil(i/5);return function(i){for(var a=0,o=1*n,s=2*n,h=3*n,l=4*n,c=o,u=s,d=h,f=l,g=r;a<c&&a<r;)i.call(e,t[a],a,1),a++,o<u&&o<r&&(i.call(e,t[o],o,2),o++),s<d&&s<r&&(i.call(e,t[s],s,3),s++),h<f&&h<r&&(i.call(e,t[h],h,4),h++),l<g&&l<r&&(i.call(e,t[l],l,5),l++)}},startsWith:function(t,e,i){return i=i||0,t.lastIndexOf(e,i)===i},endsWith:function(t,e,i){var r=t;(void 0===i||i>r.length)&&(i=r.length),i-=e.length;var n=r.indexOf(e,i);return-1!==n&&n===i},inArray:function(t,e){if(this.typeCheck(["undefined","null"],t)||!this.typeCheck("array",e))return-1;for(var i=0,r=e.length;i<r;i++)if(e[i]==t)return i;return-1},trim:function(t){var e=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");return null==t?"":(t+"").replace(e,"")},param:function(t){var e=[],i=function(t,i){i=h.typeCheck("function",i)?i():null==i?"":i,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(i)};for(var r in t)i(r,t[r]);return e.join("&").replace(/%20/g,"+")},ajax:function(t){var e=null,i="",r=null,n=h.extend({url:null,type:"GET",data:null,async:!0,success:null,fail:null},t);if(this.typeCheck("string",n.url)&&this.typeCheck("function",n.success)){if(this.typeCheck("object",n.data)&&(i=this.param(n.data)),this.typeCheck("undefined",XMLHttpRequest))for(var a=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],o=0,s=a.length;o<s;o++)try{e=new ActiveXObject(a[o]);break}catch(t){}else e=new XMLHttpRequest;null!=e&&(e.open(n.type,n.url,n.async),e.send(i),r=function(){4===e.readyState&&200==e.status?n.success(e):h.typeCheck("function",n.fail)&&n.fail(e)},n.async?e.onreadystatechange=r:r())}},ready:function(){var t,e,i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r={isReady:!1,readyWait:1,holdReady:function(t){t?r.readyWait++:r.ready(!0)},ready:function(e){if(!0===e&&!--r.readyWait||!0!==e&&!r.isReady){if(!document.body)return setTimeout(r.ready,1);if(r.isReady=!0,!0!==e&&--r.readyWait>0)return;t.resolveWith(document,[r])}},bindReady:function(){if(!t){if(t=r._Deferred(),"complete"===document.readyState)return setTimeout(r.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",r.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",r.ready);var i=!1;try{i=null==window.frameElement}catch(t){}document.documentElement.doScroll&&i&&n()}}},_Deferred:function(){var t,e,i,n=[],a={done:function(){if(!i){var e,o,s,h,l,c=arguments;for(t&&(l=t,t=0),e=0,o=c.length;e<o;e++)s=c[e],"array"===(h=r.type(s))?a.done.apply(a,s):"function"===h&&n.push(s);l&&a.resolveWith(l[0],l[1])}return this},resolveWith:function(r,a){if(!i&&!t&&!e){a=a||[],e=1;try{for(;n[0];)n.shift().apply(r,a)}finally{t=[r,a],e=0}}return this},resolve:function(){return a.resolveWith(this,arguments),this},isResolved:function(){return!(!e&&!t)},cancel:function(){return i=1,n=[],this}};return a},type:function(t){return null==t?String(t):i[Object.prototype.toString.call(t)]||"object"}};function n(){if(!r.isReady){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(n,1)}r.ready()}}return document.addEventListener?e=function(){document.removeEventListener("DOMContentLoaded",e,!1),r.ready()}:document.attachEvent&&(e=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),r.ready())}),function(e){r.bindReady(),r.type(e),t.done(e)}}()},l=function(t){for(var e=[],i=0;i<t.length;i++){var r=a[t[i]];if(h.typeCheck(["function","object"],r))e.push(r);else{var n=c(t[i]);null==n?(console.warn("JUI_WARNING_MSG: '"+t[i]+"' is not loaded"),e.push(null)):e.push(n)}}return e},c=function(t){var e=null;t+=".";for(var i in a)if(-1!=i.indexOf(t)&&h.typeCheck(["function","object"],a[i])){var r=i.split(t).join("");-1==r.indexOf(".")&&(null==e&&(e={}),e[r]=a[i])}return e},u={ready:function(){var t=[],e=2==arguments.length?arguments[1]:arguments[0],i=2==arguments.length?arguments[0]:null;if(!h.typeCheck(["array","null"],i)||!h.typeCheck("function",e))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");h.ready(function(){i&&(t=l(i)),e.apply(null,t)})},defineUI:function(t,e,i,r){if(!(h.typeCheck("string",t)&&h.typeCheck("array",e)&&h.typeCheck("function",i)&&h.typeCheck(["string","undefined"],r)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(h.typeCheck("function",s[t]))throw new Error("JUI_CRITICAL_ERR: '"+t+"' is already exist");if(h.typeCheck("undefined",r)&&(r="core"),!h.typeCheck("function",s[r]))throw new Error("JUI_CRITICAL_ERR: Parents are the only function");if(!0!==o[r])throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");var n=l(e),c=i.apply(null,n);h.inherit(c,s[r]),a[t]=s[r].init({type:t,class:c}),s[t]=c,o[t]=!0},redefineUI:function(t,e,i,r,n){n||!0!==o[t]||(a[t]=null,s[t]=null,o[t]=!1),(!n||n&&!0!==o[t])&&this.defineUI(t,e,i,r)},createUIObject:function(t,e,i,r,n,a){var o=new t.class,s=u.defineOptions(t.class,n||{});o.init.prototype=o,o.init.prototype.selector=e,o.init.prototype.root=r,o.init.prototype.options=s,o.init.prototype.event=new Array,o.init.prototype.timestamp=(new Date).getTime(),o.init.prototype.index=i,o.init.prototype.module=t,h.typeCheck("function",a)&&a(o,s);var l=new o.init;for(var c in s.event)l.on(c,s.event[c]);return r.jui=l,l},define:function(t,e,i,r){if(!(h.typeCheck("string",t)&&h.typeCheck("array",e)&&h.typeCheck("function",i)&&h.typeCheck(["string","undefined","null"],r)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(h.typeCheck("function",s[t]))throw new Error("JUI_CRITICAL_ERR: '"+t+"' is already exist");var n=l(e),c=i.apply(null,n);if(h.typeCheck("function",s[r])){if(!0!==o[r])throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");h.inherit(c,s[r])}a[t]=c,s[t]=c,o[t]=!0},redefine:function(t,e,i,r,n){n||!0!==o[t]||(a[t]=null,s[t]=null,o[t]=!1),(!n||n&&!0!==o[t])&&this.define(t,e,i,r)},defineOptions:function(t,e,i){for(var r=function t(e,i){if(h.typeCheck("function",e)){if(h.typeCheck("function",e.setup)){var r=e.setup();for(var n in r)h.typeCheck("undefined",i[n])&&(i[n]=r[n])}t(e.parent,i)}return i}(t,{}),n=Object.keys(r),a=Object.keys(e),o=0;o<a.length;o++){var s=a[o];if(-1==h.inArray(s,n)&&-1==h.inArray(s,i))throw new Error("JUI_CRITICAL_ERR: '"+s+"' is not an option")}return h.extend(e,r,!0),e},include:function(t){if(!h.typeCheck("string",t))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");var e=a[t];if(h.typeCheck(["function","object"],e))return e;var i=c(t);return null==i?(console.warn("JUI_WARNING_MSG: '"+t+"' is not loaded"),null):i},includeAll:function(){var t=[];for(var e in a)t.push(a[e]);return t},use:function(){for(var t=[],e=0;e<arguments.length;e++)if(h.typeCheck("array",arguments[e]))for(var i=arguments[e],r=0;r<i.length;r++)h.typeCheck("object",i[r])&&t.push(i[r]);else h.typeCheck("object",arguments[e])&&t.push(arguments[e]);for(e=0;e<t.length;e++){var a=t[e];if("object"==(void 0===a?"undefined":n(a))){if("string"!=typeof a.name)return;if("function"!=typeof a.component)return;null!=a.extend&&null==u.include(a.extend)&&console.warn("JUI_WARNING_MSG: '"+a.extend+"' module should be imported in first"),"core"==a.extend?u.redefineUI(a.name,[],a.component,a.extend):u.redefine(a.name,[],a.component,a.extend)}}}},d={name:"util.dom",extend:null,component:function(){var t=u.include("util.base");return{find:function(){var e=arguments;if(1==e.length){if(t.typeCheck("string",e[0]))return document.querySelectorAll(e[0])}else if(2==e.length&&t.typeCheck("object",e[0])&&t.typeCheck("string",e[1]))return e[0].querySelectorAll(e[1]);return[]},each:function(e,i){if(t.typeCheck("function",i)){var r=null;t.typeCheck("string",e)?r=document.querySelectorAll(e):t.typeCheck("array",e)&&(r=e),null!=r&&Array.prototype.forEach.call(r,function(t,e){i.apply(t,[e,t])})}},attr:function(e,i){if(t.typeCheck(["string","array"],e)){var r=document.querySelectorAll(e);if(t.typeCheck("object",i))for(var n=0;n<r.length;n++)for(var a in i)r[n].setAttribute(a,i[a]);else if(t.typeCheck("string",i)&&r.length>0)return r[0].getAttribute(i)}},remove:function(t){this.each(t,function(){this.parentNode.removeChild(this)})},offset:function(t){var e,i,r={top:0,left:0},a=t&&t.ownerDocument;if(a){e=a.documentElement;return"undefined"!==n(t.getBoundingClientRect)&&(r=t.getBoundingClientRect()),i=function(t){return function(t){return null!=t&&t==t.window}(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(a),{top:r.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}}}}},f={name:"util.math",extend:null,component:function(){var t=u.include("util.base");function e(t,e){for(var i=[],r=0,n=t.length;r<n;r++){for(var a=0,o=0,s=t[r].length;o<s;o++)a+=t[r][o]*e[o];i.push(a)}return i}return{rotate:function(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}},resize:function(t,e,i,r){var n=r/i;return i>=t&&n<=1?(i=t,r=e*n):r>=e&&(r=e,i=t/n),{width:i,height:r}},radian:function(t){return t*Math.PI/180},degree:function(t){return 180*t/Math.PI},angle:function(t,e,i,r){var n=i-t,a=r-e;return Math.atan2(a,n)},interpolateNumber:function(t,e){var i=e-t;return function(e){return t+i*e}},interpolateRound:function(t,e){var i=e-t;return function(e){return Math.round(t+i*e)}},getFixed:function(t,e){var i=(t+"").split("."),r=i.length<2?0:i[1].length,n=(e+"").split("."),a=n.length<2?0:n[1].length;return r>a?r:a},fixed:function(t){var e=this.getFixed(t,0),i=Math.pow(10,e),r=function(t){return Math.round(t*i)/i};return r.plus=function(t,e){return Math.round(t*i+e*i)/i},r.minus=function(t,e){return Math.round(t*i-e*i)/i},r.multi=function(t,e){return Math.round(t*i*(e*i))/(i*i)},r.div=function(t,e){var r=t*i/(e*i),n=Math.pow(10,this.getFixed(r,0));return Math.round(r*n)/n},r.remain=function(t,e){return Math.round(t*i%(e*i))/i},r},round:function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},plus:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i+e*i)/i},minus:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i-e*i)/i},multi:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i*(e*i))/(i*i)},div:function(t,e){var i=Math.pow(10,this.getFixed(t,e)),r=t*i/(e*i),n=Math.pow(10,this.getFixed(r,0));return Math.round(r*n)/n},remain:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i%(e*i))/i},nice:function(t,e,i,r){if(r=r||!1,t>e)var n=t,a=e;else a=t,n=e;var o,s,h=i,l=0,c=[];function u(t,e){var i=Math.floor(Math.log(t)/Math.LN10),r=t/Math.pow(10,i);return niceFraction=e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10,niceFraction*Math.pow(10,i)}return c=r?u(n-a,!1):n-a,l=r?u(c/h,!0):c/h,o=r?Math.floor(a/l)*l:a,s=r?Math.floor(n/l)*l:n,{min:o,max:s,range:c,spacing:l}},matrix:function(i,r){return t.typeCheck("array",r[0])?function(t,i){for(var r=[],n=[],a=0,o=i.length;a<o;a++)r[a]=[],n[a]=[];for(a=0,o=i.length;a<o;a++)for(var s=0,h=i[a].length;s<h;s++)r[s].push(i[a][s]);for(a=0,o=r.length;a<o;a++){var l=e(t,r[a]);for(s=0,h=l.length;s<h;s++)n[s].push(l[s])}return n}(i,r):e(i,r)},matrix3d:function(t,e){return e[0]instanceof Array||e[0]instanceof Float32Array?function(t,e){var i=[new Float32Array(4),new Float32Array(4),new Float32Array(4),new Float32Array(4)],r=[new Float32Array([e[0][0],e[1][0],e[2][0],e[3][0]]),new Float32Array([e[0][1],e[1][1],e[2][1],e[3][1]]),new Float32Array([e[0][2],e[1][2],e[2][2],e[3][2]]),new Float32Array([e[0][3],e[1][3],e[2][3],e[3][3]])];return i[0][0]=t[0][0]*r[0][0]+t[0][1]*r[0][1]+t[0][2]*r[0][2]+t[0][3]*r[0][3],i[1][0]=t[1][0]*r[0][0]+t[1][1]*r[0][1]+t[1][2]*r[0][2]+t[1][3]*r[0][3],i[2][0]=t[2][0]*r[0][0]+t[2][1]*r[0][1]+t[2][2]*r[0][2]+t[2][3]*r[0][3],i[3][0]=t[3][0]*r[0][0]+t[3][1]*r[0][1]+t[3][2]*r[0][2]+t[3][3]*r[0][3],i[0][1]=t[0][0]*r[1][0]+t[0][1]*r[1][1]+t[0][2]*r[1][2]+t[0][3]*r[1][3],i[1][1]=t[1][0]*r[1][0]+t[1][1]*r[1][1]+t[1][2]*r[1][2]+t[1][3]*r[1][3],i[2][1]=t[2][0]*r[1][0]+t[2][1]*r[1][1]+t[2][2]*r[1][2]+t[2][3]*r[1][3],i[3][1]=t[3][0]*r[1][0]+t[3][1]*r[1][1]+t[3][2]*r[1][2]+t[3][3]*r[1][3],i[0][2]=t[0][0]*r[2][0]+t[0][1]*r[2][1]+t[0][2]*r[2][2]+t[0][3]*r[2][3],i[1][2]=t[1][0]*r[2][0]+t[1][1]*r[2][1]+t[1][2]*r[2][2]+t[1][3]*r[2][3],i[2][2]=t[2][0]*r[2][0]+t[2][1]*r[2][1]+t[2][2]*r[2][2]+t[2][3]*r[2][3],i[3][2]=t[3][0]*r[2][0]+t[3][1]*r[2][1]+t[3][2]*r[2][2]+t[3][3]*r[2][3],i[0][3]=t[0][0]*r[3][0]+t[0][1]*r[3][1]+t[0][2]*r[3][2]+t[0][3]*r[3][3],i[1][3]=t[1][0]*r[3][0]+t[1][1]*r[3][1]+t[1][2]*r[3][2]+t[1][3]*r[3][3],i[2][3]=t[2][0]*r[3][0]+t[2][1]*r[3][1]+t[2][2]*r[3][2]+t[2][3]*r[3][3],i[3][3]=t[3][0]*r[3][0]+t[3][1]*r[3][1]+t[3][2]*r[3][2]+t[3][3]*r[3][3],i}(t,e):function(t,e){var i=new Float32Array(4);return i[0]=t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2]+t[0][3]*e[3],i[1]=t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2]+t[1][3]*e[3],i[2]=t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2]+t[2][3]*e[3],i[3]=t[3][0]*e[0]+t[3][1]*e[1]+t[3][2]*e[2]+t[3][3]*e[3],i}(t,e)},inverseMatrix3d:function(t){return function(t){var e=[new Float32Array(4),new Float32Array(4),new Float32Array(4),new Float32Array(4)],i=t[0][0],r=t[0][1],n=t[0][2],a=t[0][3],o=t[1][0],s=t[1][1],h=t[1][2],l=t[1][3],c=t[2][0],u=t[2][1],d=t[2][2],f=t[2][3],g=t[3][0],p=t[3][1],v=t[3][2],m=t[3][3];e[0][0]=h*f*p-l*d*p+l*u*v-s*f*v-h*u*m+s*d*m,e[0][1]=a*d*p-n*f*p-a*u*v+r*f*v+n*u*m-r*d*m,e[0][2]=n*l*p-a*h*p+a*s*v-r*l*v-n*s*m+r*h*m,e[0][3]=a*h*u-n*l*u-a*s*d+r*l*d+n*s*f-r*h*f,e[1][0]=l*d*g-h*f*g-l*c*v+o*f*v+h*c*m-o*d*m,e[1][1]=n*f*g-a*d*g+a*c*v-i*f*v-n*c*m+i*d*m,e[1][2]=a*h*g-n*l*g-a*o*v+i*l*v+n*o*m-i*h*m,e[1][3]=n*l*c-a*h*c+a*o*d-i*l*d-n*o*f+i*h*f,e[2][0]=s*f*g-l*u*g+l*c*p-o*f*p-s*c*m+o*u*m,e[2][1]=a*u*g-r*f*g-a*c*p+i*f*p+r*c*m-i*u*m,e[2][2]=r*l*g-a*s*g+a*o*p-i*l*p-r*o*m+i*s*m,e[2][3]=a*s*c-r*l*c-a*o*u+i*l*u+r*o*f-i*s*f,e[3][0]=h*u*g-s*d*g-h*c*p+o*d*p+s*c*v-o*u*v,e[3][1]=r*d*g-n*u*g+n*c*p-i*d*p-r*c*v+i*u*v,e[3][2]=n*s*g-r*h*g-n*o*p+i*h*p+r*o*v-i*s*v,e[3][4]=r*h*c-n*s*c+n*o*u-i*h*u-r*o*d+i*s*d;var y=1/(i*e[0][0]+o*e[0][1]+c*e[0][2]+g*e[0][3]);return 0===y?e=[new Float32Array([1,0,0,0]),new Float32Array([0,1,0,0]),new Float32Array([0,0,1,0]),new Float32Array([0,0,0,1])]:(e[0][0]*=y,e[0][1]*=y,e[0][2]*=y,e[0][3]*=y,e[1][0]*=y,e[1][1]*=y,e[1][2]*=y,e[1][3]*=y,e[2][0]*=y,e[2][1]*=y,e[2][2]*=y,e[2][3]*=y,e[3][0]*=y,e[3][1]*=y,e[3][2]*=y,e[3][4]*=y),e}(t)},scaleValue:function(t,e,i,r,n){return(n-r)*((t-(e=e==i?0:e))/(i-e))+r}}}};u.use(f);var g={name:"util.color",extend:null,component:function(){var t=u.include("util.base"),e=u.include("util.math");var i={regex:/(linear|radial)\((.*)\)(.*)/i,format:function(t,e){if("hex"==e){var i=t.r.toString(16);t.r<16&&(i="0"+i);var r=t.g.toString(16);t.g<16&&(r="0"+r);var n=t.b.toString(16);return t.b<16&&(n="0"+n),"#"+[i,r,n].join("").toUpperCase()}return"rgb"==e?void 0===t.a?"rgb("+[t.r,t.g,t.b].join(",")+")":"rgba("+[t.r,t.g,t.b,t.a].join(",")+")":t},scale:function(){var t,r;function n(e,n){var a={r:parseInt(t.r+(r.r-t.r)*e,10),g:parseInt(t.g+(r.g-t.g)*e,10),b:parseInt(t.b+(r.b-t.b)*e,10)};return i.format(a,n)}return n.domain=function(e,a){return t=i.rgb(e),r=i.rgb(a),n},n.ticks=function(t){for(var i=1/t,r=0,a=[];r<=1;){var o=n(r,"hex");a.push(o),r=e.plus(r,i)}return a},n},map:function(t,e){var r=[];e=e||5;for(var n=i.scale(),a=0,o=t.length-1;a<o;a++)if(0==a)r=n.domain(t[a],t[a+1]).ticks(e);else{var s=n.domain(t[a],t[a+1]).ticks(e);s.shift(),r=r.concat(s)}return r},rgb:function(e){if("string"==typeof e){if(e.indexOf("rgb(")>-1){for(var i=0,r=(n=e.replace("rgb(","").replace(")","").split(",")).length;i<r;i++)n[i]=parseInt(t.trim(n[i]),10);return{r:n[0],g:n[1],b:n[2],a:1}}if(e.indexOf("rgba(")>-1){for(i=0,r=(n=e.replace("rgba(","").replace(")","").split(",")).length;i<r;i++)n[i]=r-1==i?parseFloat(t.trim(n[i])):parseInt(t.trim(n[i]),10);return{r:n[0],g:n[1],b:n[2],a:n[3]}}if(0==e.indexOf("#")){var n=[];if(3==(e=e.replace("#","")).length)for(i=0,r=e.length;i<r;i++){var a=e.substr(i,1);n.push(parseInt(a+a,16))}else for(i=0,r=e.length;i<r;i+=2)n.push(parseInt(e.substr(i,2),16));return{r:n[0],g:n[1],b:n[2],a:1}}}return e},HSVtoRGB:function(t,e,i){360==t&&(t=0);var r=e*i,n=r*(1-Math.abs(t/60%2-1)),a=i-r,o=[];return 0<=t&&t<60?o=[r,n,0]:60<=t&&t<120?o=[n,r,0]:120<=t&&t<180?o=[0,r,n]:180<=t&&t<240?o=[0,n,r]:240<=t&&t<300?o=[n,0,r]:300<=t&&t<360&&(o=[r,0,n]),{r:Math.ceil(255*(o[0]+a)),g:Math.ceil(255*(o[1]+a)),b:Math.ceil(255*(o[2]+a))}},RGBtoHSV:function(t,e,i){var r=t/255,n=e/255,a=i/255,o=Math.max(r,n,a),s=o-Math.min(r,n,a),h=0;0==s?h=0:o==r?h=(n-a)/s%6*60:o==n?h=60*((a-r)/s+2):o==a&&(h=60*((r-n)/s+4)),h<0&&(h=360+h);return{h:h,s:0==o?0:s/o,v:o}},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},lighten:function(t,e){t=t.replace(/[^0-9a-f]/gi,""),e=e||0;var i,r,n=[];for(r=0;r<6;r+=2)i=parseInt(t.substr(r,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),n.push(("00"+i).substr(i.length));return"#"+n.join("")},darken:function(t,e){return this.lighten(t,-e)},parse:function(t){return this.parseGradient(t)},parseGradient:function(t){var e=t.match(this.regex);if(!e)return t;var i=this.trim(e[1]);return{type:i+"Gradient",attr:this.parseAttr(i,this.trim(e[2])),children:this.parseStop(this.trim(e[3]))}},parseStop:function(t){for(var e=t.split(","),i=[],r=0,n=e.length;r<n;r++){var a=(t=e[r]).split(" ");0!=a.length&&(1==a.length?i.push({type:"stop",attr:{"stop-color":a[0]}}):2==a.length?i.push({type:"stop",attr:{offset:a[0],"stop-color":a[1]}}):3==a.length&&i.push({type:"stop",attr:{offset:a[0],"stop-color":a[1],"stop-opacity":a[2]}}))}var o=-1,s=-1;for(r=0,n=i.length;r<n;r++){t=i[r];if(0==r?t.offset||(t.offset=0):r==n-1&&(t.offset||(t.offset=1)),-1==o&&void 0===t.offset)o=r;else if(-1==s&&void 0===t.offset){for(var h=(s=r)-o,l=i[s].offset.indexOf("%")>-1?parseFloat(i[s].offset)/100:i[s].offset,c=i[o].offset.indexOf("%")>-1?parseFloat(i[o].offset)/100:i[o].offset,u=(l-c)/h,d=c+u,f=o+1;f<s;f++)i[f].offset=d,d+=u;o=s,s=-1}}return i},parseAttr:function(t,e){if("linear"!=t){for(r=0,n=(i=e.split(",")).length;r<n;r++)-1==i[r].indexOf("%")&&(i[r]=parseFloat(i[r]));return{cx:i[0],cy:i[1],r:i[2],fx:i[3],fy:i[4]}}switch(e){case"":case"left":return{x1:0,y1:0,x2:1,y2:0,direction:e||"left"};case"right":return{x1:1,y1:0,x2:0,y2:0,direction:e};case"top":return{x1:0,y1:0,x2:0,y2:1,direction:e};case"bottom":return{x1:0,y1:1,x2:0,y2:0,direction:e};case"top left":return{x1:0,y1:0,x2:1,y2:1,direction:e};case"top right":return{x1:1,y1:0,x2:0,y2:1,direction:e};case"bottom left":return{x1:0,y1:1,x2:1,y2:0,direction:e};case"bottom right":return{x1:1,y1:1,x2:0,y2:0,direction:e};default:for(var i,r=0,n=(i=e.split(",")).length;r<n;r++)-1==i[r].indexOf("%")&&(i[r]=parseFloat(i[r]));return{x1:i[0],y1:i[1],x2:i[2],y2:i[3]}}},colorHash:function(t,e){var i=0;return t&&(i=function(t){var e=0,i=1,r=0;if(t){for(var n=0;n<t.length&&!(n>6);n++)e+=i*(t.charCodeAt(n)%10),r+=9*i,i*=.7;r>0&&(e/=r)}return e}(t=(t=t.replace(/.*`/,"")).replace(/\(.*/,""))),"function"==typeof e?e(i):{r:200+Math.round(55*i),g:0+Math.round(230*(1-i)),b:0+Math.round(55*(1-i))}}};return i.map.parula=function(t){return i.map(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},i.map.jet=function(t){return i.map(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},i.map.hsv=function(t){return i.map(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},i.map.hot=function(t){return i.map(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},i.map.pink=function(t){return i.map(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},i.map.bone=function(t){return i.map(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},i.map.copper=function(t){return i.map(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)},i}},p={name:"collection",extend:null,component:function(){var t=function(t,e,i,r){this.type=t,this.selector=e,this.options=i,this.destroy=function(){for(var t=0;t<r.length;t++)r[t].destroy()};for(var n=0;n<r.length;n++)this.push(r[n])};return t.prototype=Object.create(Array.prototype),t}},v={name:"manager",extend:null,component:function(){var t=u.include("util.base"),e=new function(){var i=[],r=[];this.add=function(t){i.push(t)},this.emit=function(t,e,r){for(var n=[],a=0;a<i.length;a++){t!=(o=i[a]).selector&&t!=o.type||n.push(o)}for(a=0;a<n.length;a++)for(var o=n[a],s=0;s<o.length;s++)o[s].emit(e,r)},this.get=function(e){if(t.typeCheck("integer",e))return i[e];if(t.typeCheck("string",e)){for(var r=0;r<i.length;r++){if(e==(a=i[r]).selector)return 1==a.length?a[0]:a}var n=[];for(r=0;r<i.length;r++){var a;e==(a=i[r]).type&&n.push(a)}return n}},this.getAll=function(){return i},this.remove=function(e){if(t.typeCheck("integer",e))return i.splice(e,1)[0]},this.shift=function(){return i.shift()},this.pop=function(){return i.pop()},this.size=function(){return i.length},this.addClass=function(t){r.push(t)},this.getClass=function(e){if(t.typeCheck("integer",e))return r[e];if(t.typeCheck("string",e))for(var i=0;i<r.length;i++)if(e==r[i].type)return r[i];return null},this.getClassAll=function(){return r},this.create=function(i,r,n){var a=e.getClass(i);if(t.typeCheck("null",a))throw new Error("JUI_CRITICAL_ERR: '"+i+"' does not exist");return a.class(r,n)}};return e}};u.use(d,v,p);var m={name:"core",extend:null,component:function(){var t=u.include("util.base"),e=u.include("util.dom"),i=u.include("manager"),r=u.include("collection"),a=function(){this.emit=function(e,i){if(t.typeCheck("string",e)){for(var r,n=0;n<this.event.length;n++){var a=this.event[n];if(a.type==e.toLowerCase()){var o=t.typeCheck("array",i)?i:[i];r=a.callback.apply(this,o)}}return r}},this.on=function(e,i){t.typeCheck("string",e)&&t.typeCheck("function",i)&&this.event.push({type:e.toLowerCase(),callback:i,unique:!1})},this.off=function(e){for(var i=[],r=0;r<this.event.length;r++){var n=this.event[r];(t.typeCheck("function",e)&&n.callback!=e||t.typeCheck("string",e)&&n.type!=e.toLowerCase())&&i.push(n)}this.event=i},this.setOption=function(e,i){if(t.typeCheck("object",e))for(var r in e)this.options[r]=e[r];else this.options[e]=i},this.destroy=function(){if(this.__proto__)for(var t in this.__proto__)delete this.__proto__[t]}};return a.build=function(n){return function(a,o){var s=[],h=[];t.typeCheck("string",a)?h=e.find(a):t.typeCheck("object",a)?h.push(a):h.push(document.createElement("div"));for(var l=0,c=h.length;l<c;l++)s[l]=u.createUIObject(n,a,l,h[l],o);return i.add(new r(n.type,a,o,s)),0==s.length?null:1==s.length?s[0]:s}},a.init=function(t){var e=null;return"object"===(void 0===t?"undefined":n(t))&&(e=a.build(t),i.addClass({type:t.type,class:e})),e},a.setup=function(){return{event:{}}},a}},y={name:"util.time",extend:null,component:function(){var t=u.include("util.base"),e={MILLISECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,years:"years",months:"months",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds",milliseconds:"milliseconds",weeks:"weeks",diff:function(t,i,r){var n=+i-+r;return"seconds"==t?Math.abs(Math.floor(n/e.MILLISECOND)):"minutes"==t?Math.abs(Math.floor(n/e.MINUTE)):"hours"==t?Math.abs(Math.floor(n/e.HOUR)):"days"==t?Math.abs(Math.floor(n/e.DAY)):n},add:function(t){if(arguments.length<=2)return t;if(arguments.length>2){for(var e=new Date(+t),i=1;i<arguments.length;i+=2){var r="string"==typeof arguments[i]?this[arguments[i]]:arguments[i],n=arguments[i+1];this.years==r?e.setFullYear(e.getFullYear()+n):this.months==r?e.setMonth(e.getMonth()+n):this.days==r?e.setDate(e.getDate()+n):this.hours==r?e.setHours(e.getHours()+n):this.minutes==r?e.setMinutes(e.getMinutes()+n):this.seconds==r?e.setSeconds(e.getSeconds()+n):this.milliseconds==r?e.setMilliseconds(e.getMilliseconds()+n):this.weeks==r&&e.setDate(e.getDate()+7*n)}return e}},format:function(e,i,r){return t.dateFormat(e,i,r)}};return e}};u.use(f);var x={name:"util.transform",extend:null,component:function(){var t=u.include("util.math");return function(e){function i(i){for(var r=0,n=e.length;r<n;r++)e[r]=t.matrix(i,e[r]);return e}this.matrix=function(){var e=arguments,i=e[0];return"move"==i?[new Float32Array([1,0,e[1]]),new Float32Array([0,1,e[2]]),new Float32Array([0,0,1])]:"scale"==i?[new Float32Array([e[1],0,0]),new Float32Array([0,e[2],0]),new Float32Array([0,0,1])]:"rotate"==i?[new Float32Array([Math.cos(t.radian(e[1])),-Math.sin(t.radian(e[1])),0]),new Float32Array([Math.sin(t.radian(e[1])),Math.cos(t.radian(e[1])),0]),new Float32Array([0,0,1])]:"move3d"==i?[new Float32Array([1,0,0,e[1]]),new Float32Array([0,1,0,e[2]]),new Float32Array([0,0,1,e[3]]),new Float32Array([0,0,0,1])]:"scale3d"==i?[new Float32Array([e[1],0,0,0]),new Float32Array([0,e[2],0,0]),new Float32Array([0,0,e[3],0]),new Float32Array([0,0,0,1])]:"rotate3dz"==i?[new Float32Array([Math.cos(t.radian(e[1])),-Math.sin(t.radian(e[1])),0,0]),new Float32Array([Math.sin(t.radian(e[1])),Math.cos(t.radian(e[1])),0,0]),new Float32Array([0,0,1,0]),new Float32Array([0,0,0,1])]:"rotate3dx"==i?[new Float32Array([1,0,0,0]),new Float32Array([0,Math.cos(t.radian(e[1])),-Math.sin(t.radian(e[1])),0]),new Float32Array([0,Math.sin(t.radian(e[1])),Math.cos(t.radian(e[1])),0]),new Float32Array([0,0,0,1])]:"rotate3dy"==i?[new Float32Array([Math.cos(t.radian(e[1])),0,Math.sin(t.radian(e[1])),0]),new Float32Array([0,1,0,0]),new Float32Array([-Math.sin(t.radian(e[1])),0,Math.cos(t.radian(e[1])),0]),new Float32Array([0,0,0,1])]:void 0},this.move=function(t,e){return i(this.matrix("move",t,e))},this.move3d=function(t,e,r){return i(this.matrix("move3d",t,e,r))},this.scale=function(t,e){return i(this.matrix("scale",t,e))},this.scale3d=function(t,e,r){return i(this.matrix("scale3d",t,e,r))},this.rotate=function(t){return i(this.matrix("rotate",t))},this.rotate3dz=function(t){return i(this.matrix("rotate3dz",t))},this.rotate3dx=function(t){return i(this.matrix("rotate3dx",t))},this.rotate3dy=function(t){return i(this.matrix("rotate3dy",t))},this.custom=function(t){return i(t)},this.merge=function(){for(var e=arguments,r=this.matrix.apply(this,e[0]),n=1;n<e.length;n++)r=t.matrix(r,this.matrix.apply(this,e[n]));return i(r)},this.merge2=function(i){for(var r=0,n=e.length;r<n;r++){for(var a=i.apply(null,e[r]),o=this.matrix.apply(this,a[0]),s=1;s<a.length;s++)o=t.matrix(o,this.matrix.apply(this,a[s]));e[r]=t.matrix(o,e[r])}}}}},b={name:"util.canvas.base",extend:null,component:function(){return function(t){this.clearContext=function(){t.clearRect(0,0,t.canvas.width,t.canvas.height)},this.drawLine=function(e,i,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;a=a||"#434d6b",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineWidth=o,t.strokeStyle=a,t.stroke()},this.drawCurve=function(e,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16;t.beginPath();var s=e.reduce(function(t,e){return t.push(e[0],e[1]),t},[]),h=getCurvePoints(s,i,r,n,a,o);t.moveTo(h[0],h[1]);for(var l=2;l<h.length-1;l+=2)t.lineTo(h[l],h[l+1])},this.drawDashedLine=function(e,i,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[3,3],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;a=a||"#434d6b",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineWidth=s,t.strokeStyle=a;var h=t.getLineDash();t.setLineDash(o),t.stroke(),t.setLineDash(h)},this.drawLines=function(e){e=e||"#434d6b",t.beginPath();for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];t.moveTo(r[0][0],r[0][1]),r.slice(1).map(function(e){return t.lineTo(e[0],e[1])}),t.lineWidth=1,t.strokeStyle=e,t.stroke()},this.drawRoundRect=function(e,i,r,n,a){t.beginPath(),t.moveTo(e,i+a),t.lineTo(e,i+n-a),t.arcTo(e,i+n,e+a,i+n,a),t.lineTo(e+r-a,i+n),t.arcTo(e+r,i+n,e+r,i+n-a,a),t.lineTo(e+r,i+a),t.arcTo(e+r,i,e+r-a,i,a),t.lineTo(e+a,i),t.arcTo(e,i,e,i+a,a),t.closePath()},this.drawFreeRect=function(e,i,r,n,a,o,s,h,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;l=l||"#ffffff",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineTo(a,o),t.lineTo(s,h),t.closePath(),t.fillStyle=l,null!=c&&(t.lineWidth=2,t.strokeStyle=c,t.stroke()),t.fill()},this.drawFreeRectStroke=function(e,i,r,n,a,o,s,h,l){l=l||"#ffffff",t.beginPath(),t.moveTo(e,i),t.lineTo(r,n),t.lineTo(a,o),t.lineTo(s,h),t.lineWidth=1,t.strokeStyle=l,t.stroke()},this.drawTriangle=function(e,i,r,n){n=n||"#ffffff",t.beginPath(),t.moveTo(e,i-r),t.lineTo(e-r,i+r),t.lineTo(e+r,i+r),t.closePath(),t.fillStyle=n,t.fill()},this.drawSquare=function(e,i,r,n){n=n||"#ffffff",t.beginPath(),t.moveTo(e-r,i-r),t.lineTo(e-r,i+r),t.lineTo(e+r,i+r),t.lineTo(e+r,i-r),t.closePath(),t.fillStyle=n,t.fill()},this.drawPage=function(e,i,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];drawFreeRect(t,e+i,r,e+i-20,r+14,e+i-20,r+52,e+i,r+38,n,a?"rgba(255,255,255,0.2)":null)},this.drawCircle=function(e,i,r,n){n=n||"white",r=r||1,t.beginPath(),t.arc(e,i,r,0,2*Math.PI),t.fillStyle=n,t.fill()},this.drawBullet=function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:74,n=t.createLinearGradient(e,i,e+r,i);n.addColorStop(0,"#1074fc"),n.addColorStop(1,"rgba(37, 172, 254, 0)"),t.beginPath(),t.arc(e,i,2,Math.PI/2,Math.PI/2*3),t.lineTo(e+r,i-2),t.lineTo(e+r,i+2),t.closePath(),t.fillStyle=n,t.fill(),t.fillStyle=n},this.getCurvePoints=function(t,e,i){var r,n,a,o,s,h,l,c,u,d,f,g,p,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,m=arguments.length>4&&void 0!==arguments[4]&&arguments[4],y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16,x=[],b=[];for(x=t.slice(0),m?(x.unshift(t[t.length-1]),x.unshift(t[t.length-2]),x.unshift(t[t.length-1]),x.unshift(t[t.length-2]),x.push(t[0]),x.push(t[1])):(x.unshift(t[1]),x.unshift(t[0]),x.push(t[t.length-2]),x.push(t[t.length-1])),p=2;p<x.length-4;p+=2)for(g=0;g<=y;g++)a=(x[p+2]-x[p-2])*v,o=(x[p+4]-x[p])*v,s=(x[p+3]-x[p-1])*v,h=(x[p+5]-x[p+1])*v,f=g/y,l=2*Math.pow(f,3)-3*Math.pow(f,2)+1,c=-2*Math.pow(f,3)+3*Math.pow(f,2),u=Math.pow(f,3)-2*Math.pow(f,2)+f,d=Math.pow(f,3)-Math.pow(f,2),r=l*x[p]+c*x[p+2]+u*a+d*o,n=l*x[p+1]+c*x[p+3]+u*s+d*h,b.push(r),n>i?b.push(i):n<e?b.push(e):b.push(n);return b}}}},w=function(){var t=document.createElement("canvas").getContext("2d"),e=t&&(t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio)||1;return(window.devicePixelRatio||1)/e}();function C(t){1!==w&&(!function(t,e){for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)}({fillRect:"all",clearRect:"all",strokeRect:"all",moveTo:"all",lineTo:"all",arc:[0,1,2],arcTo:"all",bezierCurveTo:"all",isPointinPath:"all",isPointinStroke:"all",quadraticCurveTo:"all",rect:"all",translate:"all",createRadialGradient:"all",createLinearGradient:"all"},function(e,i){t[i]=function(t){return function(){var i=void 0,r=void 0,n=Array.prototype.slice.call(arguments);if("all"===e)n=n.map(function(t){return t*w});else if(Array.isArray(e))for(i=0,r=e.length;i<r;i++)n[e[i]]*=w;return t.apply(this,n)}}(t[i])}),t.stroke=function(t){return function(){this.lineWidth*=w,t.apply(this,arguments),this.lineWidth/=w}}(t.stroke),t.fillText=function(t){return function(){var e=Array.prototype.slice.call(arguments);e[1]*=w,e[2]*=w,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,e,i){return e*w+i}),t.apply(this,e),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,e,i){return e/w+i})}}(t.fillText),t.strokeText=function(t){return function(){var e=Array.prototype.slice.call(arguments);e[1]*=w,e[2]*=w,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,e,i){return e*w+i}),t.apply(this,e),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(t,e,i){return e/w+i})}}(t.strokeText))}var k={name:"util.canvas.hidpi",extend:null,component:function(){return{polyfills:function(){C(CanvasRenderingContext2D.prototype),function(t){t.getContext=function(t){return function(e){var i=t.call(this,e);return"2d"===e&&w>1&&(this.style.height=this.height+"px",this.style.width=this.width+"px",this.width*=w,this.height*=w),i}}(t.getContext)}(HTMLCanvasElement.prototype)},apply:function(t){C(t)},pixelRatio:w}}},B={name:"util.svg.element",extend:null,component:function(){return function t(){var e=[];this.create=function(t,e){this.element=document.createElementNS("http://www.w3.org/2000/svg",t),this.children=[],this.parent=null,this.styles={},this.attributes={},this.order=0,this.attr(e)},this.each=function(t){if("function"==typeof t){for(var e=0,i=this.children.length;e<i;e++){var r=this.children[e];t.apply(r,[e,r])}return this.children}},this.get=function(t){return this.children[t]?this.children[t]:null},this.index=function(t){for(var e=0;e<this.children.length;e++)if(t==this.children[e])return e;return-1},this.append=function(e){return e instanceof t&&(e.parent&&e.remove(),this.children.push(e),e.parent=this),this},this.prepend=function(t){return this.insert(0,t)},this.insert=function(t,e){return e.parent&&e.remove(),this.children.splice(t,0,e),e.parent=this,this},this.remove=function(){for(var t=[],e=this.parent.children,i=0;i<e.length&&e[i]!=this;i++)t.push(e[i]);return this.parent.children=t,this},this.attr=function(t){if(void 0!==t&&t){if("string"==typeof t)return this.attributes[t]||this.element.getAttribute(t);for(var e in t)this.attributes[e]=t[e],-1!=e.indexOf("xlink:")?this.element.setAttributeNS("http://www.w3.org/1999/xlink",e,t[e]):this.element.setAttribute(e,t[e]);return this}},this.css=function(t){var e=[];for(var i in t)this.styles[i]=t[i];for(var i in t)e.push(i+":"+t[i]);return this.attr({style:e.join(";")}),this},this.html=function(t){return this.element.innerHTML=t,this},this.text=function(t){for(var e=this.element.childNodes,i=0;i<e.length;i++)this.element.removeChild(e[i]);return this.element.appendChild(document.createTextNode(t)),this},this.on=function(t,i){var r=function(t){"function"==typeof i&&i.call(this,t)};return this.element.addEventListener(t,r,!1),e.push({type:t,callback:r}),this},this.off=function(t){if(t){var i=[];for(r=0,n=e.length;r<n;r++)(a=e[r]).type!=t?i.push(a):this.element.removeEventListener(a.type,a.callback,!1);e=i}else for(var r=0,n=e.length;r<n;r++){var a=e.shift();this.element.removeEventListener(a.type,a.callback,!1)}return this},this.hover=function(t,i){var r=function(e){"function"==typeof t&&t.call(this,e)},n=function(t){"function"==typeof i&&i.call(this,t)};return this.element.addEventListener("mouseover",r,!1),this.element.addEventListener("mouseout",n,!1),e.push({type:"mouseover",callback:r}),e.push({type:"mouseout",callback:n}),this},this.size=function(){var t={width:0,height:0},e=this.element.getBoundingClientRect();if(!e||0==e.width&&0==e.height){for(var i=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],r=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],n=window.getComputedStyle(this.element),a=0;a<i.length;a++)t.height+=parseFloat(n[i[a]]);for(a=0;a<r.length;a++)t.width+=parseFloat(n[r[a]]);t.width=t.width||this.element.getAttribute("width"),t.height=t.height||this.element.getAttribute("height")}else t.width=e.width,t.height=e.height;return isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t},this.is=function(t){return this instanceof jui.include(t)}}}},A={name:"util.svg.element.transform",extend:"util.svg.element",component:function(){var t=u.include("util.base");return function(){var e={translate:null,scale:null,rotate:null,skew:null,matrix:null};function i(t){var i=[];for(var r in e)e[r]&&i.push(e[r]);t.attr({transform:i.join(" ")})}function r(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e.join(",")}this.translate=function(){return e.translate="translate("+r(arguments)+")",i(this),this},this.rotate=function(t,r,n){if(1==arguments.length)var a=t;else 3==arguments.length&&(a=t+" "+r+","+n);return e.rotate="rotate("+a+")",i(this),this},this.scale=function(){return e.scale="scale("+r(arguments)+")",i(this),this},this.skew=function(){return e.skew="skew("+r(arguments)+")",i(this),this},this.matrix=function(){return e.matrix="matrix("+r(arguments)+")",i(this),this},this.data=function(e){var i=this.attr("transform");return t.typeCheck("string",i)?i.match({translate:/[^translate()]+/g,rotate:/[^rotate()]+/g,scale:/[^scale()]+/g,skew:/[^skew()]+/g,matrix:/[^matrix()]+/g}[e])[0]:null}}}},F={name:"util.svg.element.path",extend:"util.svg.element.transform",component:function(){var t=u.include("util.base");return function(){var e=[];this.moveTo=function(t,i,r){return e.push((r||"m")+t+","+i),this},this.MoveTo=function(t,e){return this.moveTo(t,e,"M")},this.lineTo=function(t,i,r){return e.push((r||"l")+t+","+i),this},this.LineTo=function(t,e){return this.lineTo(t,e,"L")},this.hLineTo=function(t,i){return e.push((i||"h")+t),this},this.HLineTo=function(t){return this.hLineTo(t,"H")},this.vLineTo=function(t,i){return e.push((i||"v")+t),this},this.VLineTo=function(t){return this.vLineTo(t,"V")},this.curveTo=function(t,i,r,n,a,o,s){return e.push((s||"c")+t+","+i+" "+r+","+n+" "+a+","+o),this},this.CurveTo=function(t,e,i,r,n,a){return this.curveTo(t,e,i,r,n,a,"C")},this.sCurveTo=function(t,i,r,n,a){return e.push((a||"s")+t+","+i+" "+r+","+n),this},this.SCurveTo=function(t,e,i,r){return this.sCurveTo(t,e,i,r,"S")},this.qCurveTo=function(t,i,r,n,a){return e.push((a||"q")+t+","+i+" "+r+","+n),this},this.QCurveTo=function(t,e,i,r){return this.qCurveTo(t,e,i,r,"Q")},this.tCurveTo=function(t,i,r,n,a){return e.push((a||"t")+t+","+i+" "+r+","+n),this},this.TCurveTo=function(t,e,i,r){return this.tCurveTo(t,e,i,r,"T")},this.arc=function(t,i,r,n,a,o,s,h){return n=n?1:0,a=a?1:0,e.push((h||"a")+t+","+i+" "+r+" "+n+","+a+" "+o+","+s),this},this.Arc=function(t,e,i,r,n,a,o){return this.arc(t,e,i,r,n,a,o,"A")},this.closePath=function(t){return e.push(t||"z"),this},this.ClosePath=function(){return this.closePath("Z")},this.join=function(){e.length>0&&(this.attr({d:e.join(" ")}),e=[])},this.length=function(){var i=t.createId(),r=e.join(" "),n=document.createElement("svg"),a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"id",i),a.setAttributeNS(null,"d",r),n.appendChild(a),document.body.appendChild(n);var o=document.getElementById(i).getTotalLength();return document.body.removeChild(n),o}}}},T={name:"util.svg.element.path.rect",extend:"util.svg.element.path",component:function(){return function(){this.round=function(t,e,i,r,n,a){i=i||0,r=r||0,n=n||0,a=a||0,this.MoveTo(0,i).Arc(i,i,0,0,1,i,0).HLineTo(t-r).Arc(r,r,0,0,1,t,r).VLineTo(e-n).Arc(n,n,0,0,1,t-n,e).HLineTo(a).Arc(a,a,0,0,1,0,e-a).ClosePath().join()}}}},M={name:"util.svg.element.path.symbol",extend:"util.svg.element.path",component:function(){return function(){var t="";this.template=function(t,e){var i=t,r=half_r=t/2,n=e/2,a="a"+half_r+","+half_r+" 0 1,1 "+i+",0",o="a"+half_r+","+half_r+" 0 1,1 "+-i+",0",s={triangle:["m0,"+-n,"l"+r+","+e,"l"+-t+",0","l"+r+","+-e].join(" "),rect:["m"+-r+","+-n,"l"+t+",0","l0,"+e,"l"+-t+",0","l0,"+-e].join(" "),cross:["m"+-r+","+-n,"l"+t+","+e,"m0,"+-e,"l"+-t+","+e].join(" "),circle:["m"+-i+",0",a,o].join(" ")};return s.rectangle=s.rect,s},this.join=function(){t.length>0&&(this.attr({d:t}),t="")},this.add=function(e,i,r){t+=" M"+e+","+i+r},this.triangle=function(t,e,i,r){return this.MoveTo(t,e).moveTo(0,-r/2).lineTo(i/2,r).lineTo(-i,0).lineTo(i/2,-r)},this.rect=this.rectangle=function(t,e,i,r){return this.MoveTo(t,e).moveTo(-i/2,-r/2).lineTo(i,0).lineTo(0,r).lineTo(-i,0).lineTo(0,-r)},this.cross=function(t,e,i,r){return this.MoveTo(t,e).moveTo(-i/2,-r/2).lineTo(i,r).moveTo(0,-r).lineTo(-i,r)},this.circle=function(t,e,i){return this.MoveTo(t,e).moveTo(-i,0).arc(i/2,i/2,0,1,1,i,0).arc(i/2,i/2,0,1,1,-i,0)}}}},S={name:"util.svg.element.poly",extend:"util.svg.element.transform",component:function(){return function(){var t=[];this.point=function(e,i){return t.push(e+","+i),this},this.join=function(){if(t.length>0){var e=t[0];t.push(e),this.attr({points:t.join(" ")}),t=[]}}}}};u.use(B,A,F,M,T,S);var z={name:"util.svg.base",extend:null,component:function(){var t=u.include("util.base"),e=u.include("util.svg.element"),i=u.include("util.svg.element.transform"),r=u.include("util.svg.element.path"),n=u.include("util.svg.element.path.symbol"),a=u.include("util.svg.element.path.rect"),o=u.include("util.svg.element.poly"),s=null,h=function(){this.create=function(t,e,i,r){return t.create(e,i),t},this.createChild=function(t,e,i,r){return this.create(t,e,i,r)},this.custom=function(t,i,r){return this.create(new e,t,i,r)},this.defs=function(t){return this.create(new e,"defs",null,t)},this.symbol=function(t,i){return this.create(new e,"symbol",t,i)},this.g=this.group=function(t,e){return this.create(new i,"g",t,e)},this.marker=function(t,i){return this.create(new e,"marker",t,i)},this.a=function(t,e){return this.create(new i,"a",t,e)},this.switch=function(t,i){return this.create(new e,"switch",t,i)},this.use=function(t){return this.create(new e,"use",t)},this.rect=function(t,e){return this.create(new i,"rect",t,e)},this.line=function(t,e){return this.create(new i,"line",t,e)},this.circle=function(t,e){return this.create(new i,"circle",t,e)},this.text=function(e,r){return 2==arguments.length?t.typeCheck("function",r)?this.create(new i,"text",e,r):this.create(new i,"text",e).text(r):this.create(new i,"text",e)},this.textPath=function(i,r){return t.typeCheck("string",r)?this.create(new e,"textPath",i).text(r):this.create(new e,"textPath",i)},this.tref=function(i,r){return t.typeCheck("string",r)?this.create(new e,"tref",i).text(r):this.create(new e,"tref",i)},this.tspan=function(i,r){return t.typeCheck("string",r)?this.create(new e,"tspan",i).text(r):this.create(new e,"tspan",i)},this.ellipse=function(t,e){return this.create(new i,"ellipse",t,e)},this.image=function(t,e){return this.create(new i,"image",t,e)},this.path=function(t,e){return this.create(new r,"path",t,e)},this.pathSymbol=function(t,e){return this.create(new n,"path",t,e)},this.pathRect=function(t,e){return this.create(new a,"path",t,e)},this.polyline=function(t,e){return this.create(new o,"polyline",t,e)},this.polygon=function(t,e){return this.create(new o,"polygon",t,e)},this.pattern=function(t,i){return this.create(new e,"pattern",t,i)},this.mask=function(t,i){return this.create(new e,"mask",t,i)},this.clipPath=function(t,i){return this.create(new e,"clipPath",t,i)},this.linearGradient=function(t,i){return this.create(new e,"linearGradient",t,i)},this.radialGradient=function(t,i){return this.create(new e,"radialGradient",t,i)},this.filter=function(t,i){return this.create(new e,"filter",t,i)},this.foreignObject=function(t,e){return this.create(new i,"foreignObject",t,e)},this.stop=function(t){return this.createChild(new e,"stop",t)},this.animate=function(t){return this.createChild(new e,"animate",t)},this.animateColor=function(t){return this.createChild(new e,"animateColor",t)},this.animateMotion=function(t){return this.createChild(new e,"animateMotion",t)},this.animateTransform=function(t){return this.createChild(new e,"animateTransform",t)},this.mpath=function(t){return this.createChild(new e,"mpath",t)},this.set=function(t){return this.createChild(new e,"set",t)},this.feBlend=function(t){return this.createChild(new e,"feBlend",t)},this.feColorMatrix=function(t){return this.createChild(new e,"feColorMatrix",t)},this.feComponentTransfer=function(t){return this.createChild(new e,"feComponentTransfer",t)},this.feComposite=function(t){return this.createChild(new e,"feComposite",t)},this.feConvolveMatrix=function(t){return this.createChild(new e,"feConvolveMatrix",t)},this.feDiffuseLighting=function(t){return this.createChild(new e,"feDiffuseLighting",t)},this.feDisplacementMap=function(t){return this.createChild(new e,"feDisplacementMap",t)},this.feFlood=function(t){return this.createChild(new e,"feFlood",t)},this.feGaussianBlur=function(t){return this.createChild(new e,"feGaussianBlur",t)},this.feImage=function(t){return this.createChild(new e,"feImage",t)},this.feMerge=function(t,i){return this.createChild(new e,"feMerge",t,i)},this.feMergeNode=function(t){return this.createChild(new e,"feMergeNode",t)},this.feMorphology=function(t){return this.createChild(new e,"feMorphology",t)},this.feOffset=function(t){return this.createChild(new e,"feOffset",t)},this.feSpecularLighting=function(t){return this.createChild(new e,"feSpecularLighting",t)},this.feTile=function(t){return this.createChild(new e,"feTile",t)},this.feTurbulence=function(t){return this.createChild(new e,"feTurbulence",t)}};return h.create=function(t,e,i){return null==s&&(s=new h),s.custom(t,e,i)},h}};u.use(f,g,z);var O={name:"util.svg.base3d",extend:"util.svg.base",component:function(){var t=u.include("util.base"),e=u.include("util.math"),i=u.include("util.color");return function(){this.rect3d=function(t,r,n,a,o){var s=this,h=e.radian(a),l=r,c=n,u=Math.cos(h)*o,d=Math.sin(h)*o,f=r+u,g=n+d;return s.group({},function(){s.path({fill:i.lighten(t,.15),stroke:i.lighten(t,.15)}).MoveTo(u,0).LineTo(f,0).LineTo(l,d).LineTo(0,d),s.path({fill:t,stroke:t}).MoveTo(0,d).LineTo(0,g).LineTo(l,g).LineTo(l,d),s.path({fill:i.darken(t,.2),stroke:i.darken(t,.2)}).MoveTo(l,g).LineTo(f,c).LineTo(f,0).LineTo(l,d)})},this.cylinder3d=function(r,n,a,o,s,h){var l=this,c=e.radian(o),u=n/2,d=u*(h=void 0==h?1:0==h?.01:h),f=Math.cos(c)*s/2,g=Math.sin(c)*s/2,p=t.createId("cylinder3d");return l.group({},function(){l.ellipse({fill:i.darken(r,.05),"fill-opacity":.85,stroke:i.darken(r,.05),rx:u,ry:g,cx:u,cy:a}).translate(f,g),l.path({fill:"url(#"+p+")","fill-opacity":.85,stroke:r}).MoveTo(u-d,g).LineTo(0,a).Arc(u,g,0,0,0,n,a).LineTo(u+d,g).Arc(u+d,g,0,0,1,u-d,g).translate(f,g),l.ellipse({fill:i.lighten(r,.2),"fill-opacity":.95,stroke:i.lighten(r,.2),rx:u*h,ry:g*h,cx:u,cy:g}).translate(f,g),l.linearGradient({id:p,x1:"100%",x2:"0%",y1:"0%",y2:"0%"},function(){l.stop({offset:"0%","stop-color":i.lighten(r,.15)}),l.stop({offset:"33.333333333333336%","stop-color":i.darken(r,.2)}),l.stop({offset:"66.66666666666667%","stop-color":i.darken(r,.2)}),l.stop({offset:"100%","stop-color":i.lighten(r,.15)})})})}}}};u.use(O);var E={name:"util.svg",extend:"util.svg.base3d",component:function(){var t=u.include("util.base"),e=u.include("util.svg.element"),i=u.include("util.svg.element.transform"),r=u.include("util.svg.element.path"),n=u.include("util.svg.element.poly"),a=function(a,o){var s=this,h=null,l=null,c=null,u={},d=0,f=!1;function g(t){var e=t.children;(function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].order>0)return!0;return!1})(e)&&e.sort(function(t,e){return t.order-e.order});for(var i=0,a=e.length;i<a;i++){var o=e[i];o&&(o.children.length>0&&g(o),(o instanceof r||o instanceof n)&&o.join(),o.parent==t&&t.element.appendChild(o.element))}}function p(t){for(var e=t.children,i=0,r=e.length;i<r;i++){var n=e[i];n&&(n.off(),n.children.length>0&&p(n))}}this.create=function(e,i,r,n){return e.create(i,r),0==d?l.append(e):u[d].append(e),t.typeCheck("function",n)&&(u[++d]=e,n.call(e),d--),e},this.createChild=function(t,e,i,r){if(t.parent==l)throw new Error("JUI_CRITICAL_ERR: Parents are required elements of the '"+e+"'");return this.create(t,e,i,r)},this.size=function(){if(2!=arguments.length)return h.size();var t=arguments[0],e=arguments[1];h.attr({width:t,height:e})},this.clear=function(t){l.each(function(){this.element.parentNode&&l.element.removeChild(this.element)}),p(l),!0===t&&(c.each(function(){this.element.parentNode&&c.element.removeChild(this.element)}),p(c))},this.reset=function(t){this.clear(t),l.children=[],!0===t&&(c.children=[])},this.render=function(t){this.clear(),g(!1===f||!0===t?h:l),f=!0},this.download=function(e){t.typeCheck("string",e)&&(e=e.split(".")[0]);var i=document.createElement("a");i.download=e?e+".svg":"svg.svg",i.href=this.toDataURI(),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)},this.downloadImage=function(e,i){i=i||"image/png";var r=new Image,n=this.size(),a=this.toDataURI().replace('width="100%"','width="'+n.width+'"').replace('height="100%"','height="'+n.height+'"');r.onload=function(){var n=document.createElement("canvas");n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0);var a=n.toDataURL(i);t.typeCheck("string",e)&&(e=e.split(".")[0]);var o=document.createElement("a");o.download=e?e+".png":"svg.png",o.href=a,document.body.appendChild(o),o.click(),o.parentNode.removeChild(o)},r.src=a},this.exportCanvas=function(t){var e=new Image,i=this.size(),r=this.toDataURI().replace('width="100%"','width="'+i.width+'"').replace('height="100%"','height="'+i.height+'"');e.onload=function(){t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0)},e.src=r},this.toXML=function(){var t=a.innerHTML;return['<?xml version="1.0" encoding="utf-8"?>',(t=t.replace('xmlns="http://www.w3.org/2000/svg"',"")).replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')].join("\n")},this.toDataURI=function(){var e=this.toXML();return(t.browser.mozilla||t.browser.msie)&&(e=encodeURIComponent(e)),t.browser.msie?"data:image/svg+xml,"+e:"data:image/svg+xml;utf8,"+e},this.autoRender=function(t,e){d>0||(e?l.append(t):c.append(t))},this.getTextSize=function(t,e){if(""==t)return{width:0,height:0};e=e||{};var i=document.body||h.element,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"width",500),r.setAttributeNS(null,"height",100),r.setAttributeNS(null,"x",-2e4),r.setAttributeNS(null,"y",-2e4);var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttributeNS(null,"x",-200),n.setAttributeNS(null,"y",-200),n.appendChild(document.createTextNode(t)),e.fontSize&&n.setAttributeNS(null,"font-size",e.fontSize),e.fontFamily&&n.setAttributeNS(null,"font-family",e.fontFamily),e.bold&&n.setAttributeNS(null,"font-weight",e.bold),e.style&&n.setAttributeNS(null,"font-style",e.style),r.appendChild(n),i.appendChild(r);var a=n.getBoundingClientRect();return i.removeChild(r),{width:a.width,height:a.height}},s.root=h=new e,l=new i,c=new i,h.create("svg",o),l.create("g"),c.create("g"),l.translate(.5,.5),c.translate(.5,.5),a.appendChild(h.element),h.append(l),h.append(c)};return a.createObject=function(t){var i=new e;if(i.create(t.type,t.attr),t.children instanceof Array)for(var r=0,n=t.children.length;r<n;r++)i.append(a.createObject(t.children[r]));return i},a}};u.use([f]);var P={name:"util.scale.linear",extend:null,component:function(){var t=u.include("util.math");return function e(){var i=[0,1],r=[0,1],n=!1,a=!1,o={},s=null,h=null,l=null,c=null,u=null,d=null,f=null,g=null,p=0,v=null,m=null;function y(t){if(c<t)return a?y(c):r[0]+Math.abs(t-i[0])*p;if(l>t)return a?y(l):r[0]-Math.abs(t-i[0])*p;var e=(t-i[0])/f;return v(e)}return y.cache=function(){return o},y.min=function(){return Math.min.apply(Math,i)},y.max=function(){return Math.max.apply(Math,i)},y.rangeMin=function(){return Math.min.apply(Math,r)},y.rangeMax=function(){return Math.max.apply(Math,r)},y.rate=function(t,e){return y(y.max()*(t/e))},y.clamp=function(t){a=t||!1},y.domain=function(t){if(!arguments.length)return i;for(var e=0;e<t.length;e++)i[e]=t[e];return l=y.min(),c=y.max(),f=i[1]-i[0],this},y.range=function(e){if(!arguments.length)return r;for(var i=0;i<e.length;i++)r[i]=e[i];return s=t.interpolateRound(r[0],r[1]),h=t.interpolateNumber(r[0],r[1]),u=y.rangeMin(),d=y.rangeMax(),g=Math.abs(d-u),p=g/f,v=n?s:h,this},y.rangeRound=function(t){return n=!0,y.range(t)},y.rangeBand=function(){return m},y.invert=function(t){return e().domain(r).range(i)(t)},y.ticks=function(e,r,n,a){a=a||!1;var o=y.max();if(0==i[0]&&0==i[1])return[];for(var s=t.nice(i[0],i[1],e||10,r||!1),h=[],l=a?s.max:s.min,c=a?s.min:s.max,u=s.spacing,d=t.fixed(u);a?c<=l:l<=c;)h.push(l),l=a?d.minus(l,u):d.plus(l,u);if(a){h[0]!=o&&h.unshift(o);for(var f=0,g=h.length;f<g;f++)h[f]=Math.abs(h[f]-o)}else h[h.length-1]!=c&&l>c&&h.push(c),i[0]>i[1]&&h.reverse();var p=y(h[0]),v=y(h[1]);return m=Math.abs(v-p),h},y}}},L={name:"util.scale.log",extend:null,component:function(){var t=u.include("util.base"),e=u.include("util.scale.linear");return function(i){var r=i||10,n=e(),a=[],o=null,s=null;function h(t){return t<0?-Math.log(Math.abs(t))/Math.log(r):t>0?Math.log(t)/Math.log(r):0}function l(t){return t<0?-Math.pow(r,Math.abs(t)):t>0?Math.pow(r,t):0}function c(t){return Math.pow(r,(t+"").length-1)<t}function u(t){return Math.pow(r,(t+"").length)}var d=function(t){var e=t;return t>o?e=o:t<s&&(e=s),n(h(e))};return t.extend(d,n),d.log=function(){for(var t=[],e=0;e<a.length;e++)t[e]=h(a[e]);return t},d.domain=function(t){if(!arguments.length)return a;for(var e=0;e<t.length;e++)a[e]=t[e];if(o=Math.max.apply(Math,a),s=Math.min.apply(Math,a),c(o)&&(a[1]=o=u(o)),c(Math.abs(s))){var i=u(Math.abs(s));a[0]=s=s<0?-i:i}return n.domain(d.log()),d},d.base=function(t){return n.domain(d.log()),d},d.invert=function(t){return l(n.invert(t))},d.ticks=function(t,e,i){var r=n.ticks(t,e,i||1e20,!0);r[r.length-1]<n.max()&&r.push(n.max());for(var a=[],o=0,s=r.length;o<s;o++)a[o]=l(r[o]);return a},d}}},R={name:"util.scale.ordinal",extend:null,component:function(){return function(){var t=[],e=[],i=0,r={},n=!1;function a(i){var n=""+i;if(void 0!==r[n])return r[n];for(var a=-1,o=0;o<t.length;o++)if("string"==typeof i&&t[o]===i){a=o;break}return a>-1?(r[n]=e[a],e[a]):void 0!==e[i]?(r[n]=e[i],e[i]):null}return a.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},a.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},a.rangePoints=function(r,o){o=o||0;for(var s=t.length,h=(r[1]-r[0]-o)/s,l=[],c=0;c<t.length;c++)l[c]=0==c?r[0]+o/2+h/2:l[c-1]+h;return e=l,i=h,n=!0,a},a.rangeBands=function(r,o,s){o=o||0,s=s||0;for(var h=t.length-1,l=(r[1]-r[0])/h,c=[],u=0;u<t.length;u++)c[u]=0==u?r[0]:l+c[u-1];return i=l,e=c,n=!1,a},a.rangeBand=function(){return i},a.invert=function(t){var r=Math.min(e[0],e[1]);if(n){var a=t;a<(r-=i/2)&&(a=r);var o=Math.abs(a-r)/i;return Math.floor(o)}return o=Math.abs(t-r)/i,Math.ceil(o)},a}}},W={name:"util.scale.time",extend:null,component:function(){var t=u.include("util.time"),e=u.include("util.scale.linear");return function(){var i,r=[],n=e(),a=n.domain;return n.domain=function(t){if(!arguments.length)return a.call(n);for(var e=0;e<t.length;e++)r[e]=+t[e];return a.call(n,r)},n.min=function(){return Math.min(r[0],r[r.length-1])},n.max=function(){return Math.max(r[0],r[r.length-1])},n.rate=function(t,e){return n(n.max()*(t/e))},n.ticks=function(e,a){for(var o=r[0],s=r[1],h=[];o<s;)h.push(new Date(+o)),o=t.add(o,e,a);h.push(new Date(+o));var l=n(h[1]),c=n(h[2]);return i=c-l,h},n.realTicks=function(e,a){var o=r[0],s=r[1],h=[],l=new Date(+o),c=null;for(e==t.years?c=new Date(l.getFullYear(),0,1):e==t.months?c=new Date(l.getFullYear(),l.getMonth(),1):e==t.days||e==t.weeks?c=new Date(l.getFullYear(),l.getMonth(),l.getDate()):e==t.hours?c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),0,0,0):e==t.minutes?c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),0,0):e==t.seconds?c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),0):e==t.milliseconds&&(c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds())),c=t.add(c,e,a);+c<+s;)h.push(new Date(+c)),c=t.add(c,e,a);var u=n(h[1]),d=n(h[2]);return i=d-u,h},n.rangeBand=function(){return i},n.invert=function(t){var i=e().domain(n.range()).range(n.domain());return new Date(i(t))},n}}};u.use([f,y]);var D={name:"util.scale",extend:null,component:function(){var t=u.include("util.math"),e=u.include("util.time"),i={circle:function(){var t=[],e=[],i=0;function r(t){}return r.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},r.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},r.rangePoints=function(n,a){a=a||0;for(var o=t.length,s=(n[1]-n[0]-a)/o,h=[],l=0;l<t.length;l++)h[l]=0==l?n[0]+a/2+s/2:h[l-1]+s;return e=h,i=s,r},r.rangeBands=function(n,a,o){a=a||0,o=o||0;for(var s=t.length-1,h=(n[1]-n[0])/s,l=[],c=0;c<t.length;c++)l[c]=0==c?n[0]:h+l[c-1];return i=h,e=l,r},r.rangeBand=function(){return i},r},ordinal:function(){var t=[],e=[],i=0,r={};function n(i){var n=""+i;if(void 0!==r[n])return r[n];for(var a=-1,o=0;o<t.length;o++)if("string"==typeof i&&t[o]===i){a=o;break}return a>-1?(r[n]=e[a],e[a]):void 0!==e[i]?(t[i]=i,r[n]=e[i],e[i]):null}return n.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},n.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},n.rangePoints=function(r,a){a=a||0;for(var o=t.length,s=(r[1]-r[0]-a)/o,h=[],l=0;l<t.length;l++)h[l]=0==l?r[0]+a/2+s/2:h[l-1]+s;return e=h,i=s,n},n.rangeBands=function(r,a,o){a=a||0,o=o||0;for(var s=t.length-1,h=(r[1]-r[0])/s,l=[],c=0;c<t.length;c++)l[c]=0==c?r[0]:h+l[c-1];return i=h,e=l,n},n.rangeBand=function(){return i},n.invert=function(t){return Math.ceil(t/i)},n},time:function(){var t,r=[],n=i.linear(),a=n.domain;return n.domain=function(t){if(!arguments.length)return a.call(n);for(var e=0;e<t.length;e++)r[e]=+t[e];return a.call(n,r)},n.min=function(){return Math.min(r[0],r[r.length-1])},n.max=function(){return Math.max(r[0],r[r.length-1])},n.rate=function(t,e){return n(n.max()*(t/e))},n.ticks=function(i,a){for(var o=r[0],s=r[1],h=[];o<s;)h.push(new Date(+o)),o=e.add(o,i,a);h.push(new Date(+o));var l=n(h[1]),c=n(h[2]);return t=c-l,h},n.realTicks=function(i,a){var o=r[0],s=r[1],h=[],l=new Date(+o),c=null;for(i==e.years?c=new Date(l.getFullYear(),0,1):i==e.months?c=new Date(l.getFullYear(),l.getMonth(),1):i==e.days||i==e.weeks?c=new Date(l.getFullYear(),l.getMonth(),l.getDate()):i==e.hours?c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),0,0,0):i==e.minutes?c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),0,0):i==e.seconds?c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),0):i==e.milliseconds&&(c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds())),c=e.add(c,i,a);+c<+s;)h.push(new Date(+c)),c=e.add(c,i,a);var u=n(h[1]),d=n(h[2]);return t=d-u,h},n.rangeBand=function(){return t},n.invert=function(t){var e=i.linear().domain(n.range()).range(n.domain());return new Date(e(t))},n},log:function(t){var e=t||10,r=i.linear(),n=[],a=null,o=null;function s(t){return t<0?-Math.log(Math.abs(t))/Math.log(e):t>0?Math.log(t)/Math.log(e):0}function h(t){return t<0?-Math.pow(e,Math.abs(t)):t>0?Math.pow(e,t):0}function l(t){return Math.pow(e,(t+"").length-1)<t}function c(t){return Math.pow(e,(t+"").length)}var u=function(t){var e=t;return t>a?e=a:t<o&&(e=o),r(s(e))};return $.extend(u,r),u.log=function(){for(var t=[],e=0;e<n.length;e++)t[e]=s(n[e]);return t},u.domain=function(t){if(!arguments.length)return n;for(var e=0;e<t.length;e++)n[e]=t[e];if(a=Math.max.apply(Math,n),o=Math.min.apply(Math,n),l(a)&&(n[1]=a=c(a)),l(Math.abs(o))){var i=c(Math.abs(o));n[0]=o=o<0?-i:i}return r.domain(u.log()),u},u.base=function(t){return r.domain(u.log()),u},u.invert=function(t){return h(r.invert(t))},u.ticks=function(t,e,i){var n=r.ticks(t,e,i||1e20,!0);n[n.length-1]<r.max()&&n.push(r.max());for(var a=[],o=0,s=n.length;o<s;o++)a[o]=h(n[o]);return a},u},linear:function(){var e=[0,1],r=[0,1],n=!1,a=!1,o={},s=null,h=null,l=null,c=null,u=null,d=null,f=null,g=null,p=0,v=null,m=null;function y(t){if(c<t)return a?y(c):r[0]+Math.abs(t-e[0])*p;if(l>t)return a?y(l):r[0]-Math.abs(t-e[0])*p;var i=(t-e[0])/f;return v(i)}return y.cache=function(){return o},y.min=function(){return Math.min.apply(Math,e)},y.max=function(){return Math.max.apply(Math,e)},y.rangeMin=function(){return Math.min.apply(Math,r)},y.rangeMax=function(){return Math.max.apply(Math,r)},y.rate=function(t,e){return y(y.max()*(t/e))},y.clamp=function(t){a=t||!1},y.domain=function(t){if(!arguments.length)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return l=y.min(),c=y.max(),f=e[1]-e[0],this},y.range=function(e){if(!arguments.length)return r;for(var i=0;i<e.length;i++)r[i]=e[i];return s=t.interpolateRound(r[0],r[1]),h=t.interpolateNumber(r[0],r[1]),u=y.rangeMin(),d=y.rangeMax(),g=Math.abs(d-u),p=g/f,v=n?s:h,this},y.rangeRound=function(t){return n=!0,y.range(t)},y.rangeBand=function(){return m},y.invert=function(t){return i.linear().domain(r).range(e)(t)},y.ticks=function(i,r,n,a){a=a||!1;var o=y.max();if(0==e[0]&&0==e[1])return[];for(var s=t.nice(e[0],e[1],i||10,r||!1),h=[],l=a?s.max:s.min,c=a?s.min:s.max,u=s.spacing,d=t.fixed(u);a?c<=l:l<=c;)h.push(l),l=a?d.minus(l,u):d.plus(l,u);if(a){h[0]!=o&&h.unshift(o);for(var f=0,g=h.length;f<g;f++)h[f]=Math.abs(h[f]-o)}else h[h.length-1]!=c&&l>c&&h.push(c),e[0]>e[1]&&h.reverse();var p=y(h[0]),v=y(h[1]);return m=Math.abs(v-p),h},y}};return i}},j={name:"chart.vector",extend:null,component:function(){return function t(e,i,r){this.x=e||0,this.y=i||0,this.z=r||0,this.add=function(e){return e instanceof t?new t(this.x+e.x,this.y+e.y,this.z+e.z):new t(this.x+e,this.y+e,this.z+e)},this.subtract=function(e){return e instanceof t?new t(this.x-e.x,this.y-e.y,this.z-e.z):new t(this.x-e,this.y-e,this.z-e)},this.multiply=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y,this.z*e.z):new t(this.x*e,this.y*e,this.z*e)},this.dotProduct=function(t){var e=this.x*t.x+this.y*t.y+this.z*t.z;return Math.acos(e/(this.getMagnitude()*t.getMagnitude()))},this.crossProduct=function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},this.normalize=function(){var t=this.getMagnitude();this.x/=t,this.y/=t,this.z/=t},this.getMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}}}},I={name:"chart.draw",extend:null,component:function(){var t=u.include("util.base"),e=function(){this.render=function(){if(!t.typeCheck("function",this.draw))throw new Error("JUI_CRITICAL_ERR: 'draw' method must be implemented");t.typeCheck("function",this.drawBefore)&&this.drawBefore();var e=this.draw();t.typeCheck("function",this.drawAnimate)&&(!1!==(this.grid||this.brush||this.widget||this.map).animate&&this.drawAnimate(e));return t.typeCheck("function",this.drawAfter)&&this.drawAfter(e),e},this.format=function(){return((this.grid||this.brush||this.widget).format||this.chart.format).apply(this.chart,arguments)},this.balloonPoints=function(t,e,i,r){var n=[];return"top"==t?(n.push([0,0].join(",")),n.push([e,0].join(",")),n.push([e,i].join(",")),n.push([e/2+r/2,i].join(",")),n.push([e/2,i+r].join(",")),n.push([e/2-r/2,i].join(",")),n.push([0,i].join(",")),n.push([0,0].join(","))):"bottom"==t?(n.push([0,r].join(",")),n.push([e/2-r/2,r].join(",")),n.push([e/2,0].join(",")),n.push([e/2+r/2,r].join(",")),n.push([e,r].join(",")),n.push([e,r+i].join(",")),n.push([0,r+i].join(",")),n.push([0,r].join(","))):"left"==t?(n.push([0,0].join(",")),n.push([e,0].join(",")),n.push([e,i/2-r/2].join(",")),n.push([e+r,i/2].join(",")),n.push([e,i/2+r/2].join(",")),n.push([e,i].join(",")),n.push([0,i].join(",")),n.push([0,0].join(","))):"right"==t?(n.push([0,0].join(",")),n.push([e,0].join(",")),n.push([e,i].join(",")),n.push([0,i].join(",")),n.push([0,i/2+r/2].join(",")),n.push([0-r,i/2].join(",")),n.push([0,i/2-r/2].join(",")),n.push([0,0].join(","))):(n.push([0,0].join(",")),n.push([e,0].join(",")),n.push([e,i].join(",")),n.push([0,i].join(",")),n.push([0,0].join(","))),n.join(" ")},this.on=function(e,i){var r=this;return this.chart.on(e,function(){if(t.startsWith(e,"axis.")&&t.typeCheck("integer",r.axis.index)){var n=r.chart.axis(r.axis.index),a=arguments[0];t.typeCheck("object",n)&&arguments[1]==r.axis.index&&i.apply(r,[a])}else i.apply(r,arguments)},"render")},this.calculate3d=function(){var e=this.axis.area("width"),i=this.axis.area("height"),r=this.axis.area("x"),n=this.axis.area("y"),a=this.axis.depth,o=this.axis.degree,s=this.axis.perspective,h=arguments;t.typeCheck("integer",o.x)||(o.x=0),t.typeCheck("integer",o.y)||(o.y=0),t.typeCheck("integer",o.z)||(o.z=0);for(var l=0;l<h.length;l++)h[l].perspective=s,h[l].rotate(Math.max(e,i,a),o,r+e/2,n+i/2,a/2)}};return e.setup=function(){return{type:null,animate:!1}},e}},N={name:"chart.axis",extend:null,component:function(){var t=u.include("util.base"),e=function(e,i,r){var n=this,a=null,o={},s={},h="",l=null,c="",d=null;function f(e,i){return t.typeCheck("string",e)&&e.indexOf("%")>-1?i*(parseFloat(e.replace("%",""))/100):e}function g(i,r){if(("x"==r||"y"==r||"z"==r)&&!t.typeCheck("object",i[r]))return null;i[r]=i[r]||{},"x"==r?i[r].orient="top"==i[r].orient?"top":"bottom":"y"==r?i[r].orient="right"==i[r].orient?"right":"left":"z"==r?i[r].orient="center":"c"==r&&(i[r].type=i[r].type||"panel",i[r].orient="custom"),i[r].type=i[r].type||"block";var a=u.include("chart.grid."+i[r].type);u.defineOptions(a,i[r]);var o=new a(e,i,i[r]);o.chart=e,o.axis=i,o.grid=i[r],o.svg=e.svg;var s=o.render();return n.isFull3D()||("left"==i[r].orient?s.root.translate(e.area("x")+n.area("x")-i[r].dist,e.area("y")):"right"==i[r].orient?s.root.translate(e.area("x")+n.area("x2")+i[r].dist,e.area("y")):"bottom"==i[r].orient?s.root.translate(e.area("x"),e.area("y")+n.area("y2")+i[r].dist):"top"==i[r].orient?s.root.translate(e.area("x"),e.area("y")+n.area("y")-i[r].dist):s.root&&s.root.translate(e.area("x")+n.area("x"),e.area("y")+n.area("y"))),s.scale.type=i[r].type,s.scale.root=s.root,s.scale}function p(t){var e=n.origin,i=n.buffer,r=Math.ceil(e.length/i);n.page=t<1?1:t>r?r:t,n.start=(n.page-1)*i,n.end=n.start+i,n.end>e.length&&(n.start=e.length-i,n.end=e.length),n.end<=e.length&&(n.start=n.start<0?0:n.start,n.data=e.slice(n.start,n.end),e.length>0&&n.page++)}function v(t,e){var i=n.origin;n.end=e>i.length?i.length:e,n.start=t<0?0:t,n.data=i.slice(n.start,n.end)}function m(t){var e=n.area("y"),i=n.area("x");return t.chartY>e&&t.chartY<e+n.area("height")&&t.chartX>i&&t.chartX<i+n.area("width")&&(t.axisX=t.chartX-i,t.axisY=t.chartY-e,!0)}this.getValue=function(e,i,n){var a=e[r.keymap[i]];return t.typeCheck("undefined",a)?(a=e[i],t.typeCheck("undefined",a)?n:a):a},this.reload=function(i){var p=e.area();t.extend(this,{x:i.x,y:i.y,z:i.z,c:i.c,map:i.map}),s=t.typeCheck("integer",i.padding)?{left:i.padding,right:i.padding,bottom:i.padding,top:i.padding}:i.padding,o=function(t,i){return t.x=f(t.x,e.area("width")),t.y=f(t.y,e.area("height")),t.width=f(t.width,e.area("width")),t.height=f(t.height,e.area("height")),t.x2=t.x+t.width,t.y2=t.y+t.height,t.x+=i.left||0,t.y+=i.top||0,t.x2-=i.right||0,t.y2-=i.bottom||0,t.width=t.x2-t.x,t.height=t.y2-t.y,t}(t.extend(i.area,{x:0,y:0,width:p.width,height:p.height},!0),s),l&&(l.remove(),l=null),h="axis-clip-id-"+e.index+"."+r.index,l=e.svg.clipPath({id:h},function(){e.svg.rect({x:o.x,y:o.y,width:o.width,height:o.height})}),e.appendDefs(l),d&&(d.remove(),d=null),c="axis-clip-rect-id-"+e.index,d=e.svg.clipPath({id:c},function(){e.svg.rect({x:0,y:0,width:o.width,height:o.height})}),e.appendDefs(d),this.root=function(){var t=e.theme("axisBorderWidth"),i=s.left+s.right,r=s.top+s.bottom,n=e.svg.rect({rx:e.theme("axisBorderRadius"),ry:e.theme("axisBorderRadius"),fill:e.theme("axisBackgroundColor"),"fill-opacity":e.theme("axisBackgroundOpacity"),stroke:e.theme("axisBorderColor"),"stroke-width":t,width:o.width+i-t,height:o.height+r-t,x:o.x-s.left,y:o.y-s.top});return n.translate(e.area("x"),e.area("y")),n}(),this.x=g(this,"x"),this.y=g(this,"y"),this.z=g(this,"z"),this.c=g(this,"c"),this.map=function(i,r){if("map"==r&&!t.typeCheck("object",i[r]))return null;i[r]=i[r]||{};var o=u.include("chart.map");u.defineOptions(o,i[r]),null==a&&(a=new o(e,i,i[r])),a.chart=e,a.axis=i,a.map=i[r],a.svg=e.svg;var s=a.render();return s.root.translate(e.area("x")+n.area("x"),e.area("y")+n.area("y")),s.scale.type=i[r].type,s.scale.root=s.root,s.scale}(this,"map"),this.buffer=i.buffer,this.shift=i.shift,this.index=i.index,this.page=i.page,this.start=i.start,this.end=i.end,this.degree=i.degree,this.depth=i.depth,this.perspective=i.perspective},this.area=function(e){return t.typeCheck("undefined",o[e])?o:o[e]},this.padding=function(e){return t.typeCheck("undefined",s[e])?s:s[e]},this.get=function(t){return{area:o,padding:s,clipId:h,clipRectId:c}[t]||r[t]},this.set=function(n,a,o){t.typeCheck("object",a)?!0===o?(i[n]=t.deepClone(a),r[n]=t.deepClone(a)):(t.extend(i[n],a),t.extend(r[n],a)):(i[n]=a,r[n]=a),e.isRender()&&e.render()},this.updateGrid=this.set,this.update=function(e){this.origin=t.typeCheck("array",e)?e:[e],this.page=1,this.start=0,this.end=0,this.screen(1)},this.screen=function(t){p(t),this.end<=this.origin.length&&e.isRender()&&e.render()},this.next=function(){var t=this.origin,i=this.buffer,r=this.shift;this.start+=r;var n=this.start+i>t.length;this.end=n?t.length:this.start+i,this.start=n?t.length-i:this.start,this.start=this.start<0?0:this.start,this.data=t.slice(this.start,this.end),e.isRender()&&e.render()},this.prev=function(){var t=this.origin,i=this.buffer,r=this.shift;this.start-=r;var n=this.start<0;this.end=n?i:this.start+i,this.start=n?0:this.start,this.data=t.slice(this.start,this.end),e.isRender()&&e.render()},this.zoom=function(t,i){t!=i&&(v(t,i),e.isRender()&&e.render())},this.isFull3D=function(){return!t.typeCheck(["undefined","null"],this.z)},t.extend(n,{data:r.data,origin:r.origin,buffer:r.buffer,shift:r.shift,index:r.index,page:r.page,start:r.start,end:r.end,degree:r.degree,depth:r.depth,perspective:r.perspective}),n.origin=n.data,n.start>0||n.end>0?v(n.start,n.end):p(n.page),function(){var t=!1,i=r.index;e.on("chart.mousemove",function(r){m(r)?t||(e.emit("axis.mouseover",[r,i]),t=!0):t&&(e.emit("axis.mouseout",[r,i]),t=!1),m(r)&&e.emit("axis.mousemove",[r,i])}),e.on("bg.mousemove",function(r){!m(r)&&t&&(e.emit("axis.mouseout",[r,i]),t=!1)}),e.on("chart.mousedown",function(t){m(t)&&e.emit("axis.mousedown",[t,i])}),e.on("chart.mouseup",function(t){m(t)&&e.emit("axis.mouseup",[t,i])}),e.on("chart.click",function(t){m(t)&&e.emit("axis.click",[t,i])}),e.on("chart.dblclick",function(t){m(t)&&e.emit("axis.dblclick",[t,i])}),e.on("chart.rclick",function(t){m(t)&&e.emit("axis.rclick",[t,i])}),e.on("chart.mousewheel",function(t){m(t)&&e.emit("axis.mousewheel",[t,i])})}(),n.reload(r)};return e.setup=function(){return{extend:null,x:null,y:null,z:null,c:null,map:null,data:[],origin:[],keymap:{},area:{},padding:{top:0,bottom:0,left:0,right:0},buffer:1e4,shift:1,page:1,start:0,end:0,degree:{x:0,y:0,z:0},depth:0,perspective:.9}},e}};u.use([d,E]);var X={name:"chart.map",extend:null,component:function(){var t=u.include("util.base"),e=u.include("util.dom"),i=u.include("util.svg"),r=function(){var r=this,n={},a=null,o={},s=1,h=0,l=0;function c(e){for(var n=[],a=0,o=e.length;a<o;a++)if(t.typeCheck("object",e[a])){var s={};t.typeCheck("string",e[a].style)&&(s=l(e[a].style),delete e[a].style);var h=i.createObject({type:null!=e[a].d?"path":"polygon",attr:e[a]});h.attr(t.extend(s,{fill:r.chart.theme("mapPathBackgroundColor"),"fill-opacity":r.chart.theme("mapPathBackgroundOpacity"),stroke:r.chart.theme("mapPathBorderColor"),"stroke-width":r.chart.theme("mapPathBorderWidth"),"stroke-opacity":r.chart.theme("mapPathBorderOpacity")})),n.push({path:h,data:e[a]})}function l(e){for(var i={},r=e.split(";"),n=0;n<r.length;n++)if(-1!=r[n].indexOf(":")){var a=r[n].split(":");i[t.trim(a[0])]=t.trim(a[1])}return i}return n}function u(e){if(t.typeCheck("string",e.id)){for(var i=[],r=e.childNodes,n=0,a=r.length;n<a;n++){var o=r[n],s=o.nodeName.toLowerCase();if(1==o.nodeType)if("g"==s)i=i.concat(u(o));else if("path"==s||"polygon"==s){var h={group:e.id};for(var l in o.attributes){var c=o.attributes[l];c.specified&&d(c.name)&&(h[c.name]=f(c))}t.typeCheck("string",h.id)&&t.extend(h,g(h.id)),i.push(h)}}return i}}function d(t){return"group"==t||"id"==t||"title"==t||"x"==t||"y"==t||"d"==t||"points"==t||"class"==t||"style"==t}function f(t){return"x"==t.name||"y"==t.name?parseFloat(t.value):t.value}function g(t){for(var e=r.axis.data,i=0;i<e.length;i++){if(r.axis.getValue(e[i],"id",null)==t)return e[i]}return null}function p(){for(var e=r.chart.svg.group(),i=function(e){return t.typeCheck("array",n[e])?c(n[e]):(n[e]=[],t.ajax({url:e,async:!1,success:function(i){var a=i.responseXML,o=a.getElementsByTagName("svg"),s=a.getElementsByTagName("style");if(1==o.length){for(var h=o[0].childNodes,l=0,c=h.length;l<c;l++){var p=h[l],v=p.nodeName.toLowerCase();if(1==p.nodeType)if("g"==v)n[e]=n[e].concat(u(p));else if("path"==v||"polygon"==v){var m={};for(var y in p.attributes){var x=p.attributes[y];x.specified&&d(x.name)&&(m[x.name]=f(x))}t.typeCheck("string",m.id)&&t.extend(m,g(m.id)),n[e].push(m)}}for(l=0;l<s.length;l++)r.svg.root.element.appendChild(s[l])}},fail:function(t){throw new Error("JUI_CRITICAL_ERR: Failed to load resource")}}),c(n[e]))}(r.map.path),a=0,s=i.length;a<s;a++){var h=i[a].path,l=i[a].data;e.append(h),t.typeCheck("string",l.id)&&(o[l.id]=i[a])}return e}function v(){var t=r.map.width,e=r.map.height;return{x:(t*s-t)/2+h,y:(e*s-e)/2+l}}this.scale=function(e){if(t.typeCheck("string",e)){var i=null,n=null,a=null,h=null,l=v();if(t.typeCheck("object",o[e])){if(a=o[e].path,null!=(h=o[e].data).x){var c=r.axis.getValue(h,"dx",0);i=(parseFloat(h.x)+c)*s-l.x}if(null!=h.y){var u=r.axis.getValue(h,"dy",0);n=(parseFloat(h.y)+u)*s-l.y}}return{x:i,y:n,path:a,data:h}}},this.scale.each=function(t){for(var e in o)t.apply(this,[e,o[e]])},this.scale.size=function(){return{width:r.map.width,height:r.map.height}},this.scale.scale=function(t){return!t||t<0?s:(s=t,a.scale(s),this.view(h,l),s)},this.scale.view=function(e,i){var r={x:h,y:l};if(!t.typeCheck("number",e)||!t.typeCheck("number",i))return r;h=e,l=i;var n=v();return a.translate(-n.x,-n.y),{x:h,y:l}},this.draw=function(){var t=this.chart.svg.group();return s=this.map.scale,h=this.map.viewX,l=this.map.viewY,a=p(),t.append(a),1!=this.map.scale&&this.scale.scale(s),0==this.map.viewX&&0==this.map.viewY||this.scale.view(h,l),this.map.hide&&t.attr({visibility:"hidden"}),{root:t,scale:this.scale}},this.drawAfter=function(t){t.root.attr({"clip-path":"url(#"+this.axis.get("clipRectId")+")"}),setTimeout(function(){r.scale.each(function(t,i){!function(t,i){var n=r.chart;function a(t){var i=e.offset(n.root),r=t.pageX-i.left,a=t.pageY-i.top;t.bgX=r,t.bgY=a,t.chartX=r-n.padding("left"),t.chartY=a-n.padding("top")}t.on("click",function(t){a(t),n.emit("map.click",[i,t])}),t.on("dblclick",function(t){a(t),n.emit("map.dblclick",[i,t])}),t.on("contextmenu",function(t){a(t),n.emit("map.rclick",[i,t]),t.preventDefault()}),t.on("mouseover",function(t){a(t),n.emit("map.mouseover",[i,t])}),t.on("mouseout",function(t){a(t),n.emit("map.mouseout",[i,t])}),t.on("mousemove",function(t){a(t),n.emit("map.mousemove",[i,t])}),t.on("mousedown",function(t){a(t),n.emit("map.mousedown",[i,t])}),t.on("mouseup",function(t){a(t),n.emit("map.mouseup",[i,t])})}(i.path,i)})},1)}};return r.setup=function(){return{scale:1,viewX:0,viewY:0,hide:!1,path:"",width:-1,height:-1}},r}};u.use(d,E,g,N);var Y={name:"chart.builder",extend:"core",component:function(){var t=u.include("util.base"),e=u.include("util.dom"),i=u.include("util.svg"),r=u.include("util.color"),n=u.include("chart.axis"),a=u.include("util.canvas.hidpi");t.resize(function(){for(var e=u.get("chart.builder"),i=0;i<e.length;i++)for(var r=e[i],n=0;n<r.length;n++)t.typeCheck("function",r[n].resize)&&r[n].resize()},1e3);var o=function(){var o,s,h,l=[],c=[],d=[],f=null,g={},p=!1,v=null,m={render:[],renderAll:[]},y={main:null,buffer:null,sub:null},x={},b=0;function w(t,i){var r=!1;function n(i){var r=e.offset(t.root),n=i.pageX-r.left,a=i.pageY-r.top;if(i.bgX=n,i.bgY=a,i.chartX=n-t.padding("left"),i.chartY=a-t.padding("top"),!(i.chartX<0||i.chartX>t.area("width")||i.chartY<0||i.chartY>t.area("height")))return!0}i.on("click",function(e){n(e)?t.emit("chart.click",[e]):t.emit("bg.click",[e])}),i.on("dblclick",function(e){n(e)?t.emit("chart.dblclick",[e]):t.emit("bg.dblclick",[e])}),i.on("contextmenu",function(e){n(e)?t.emit("chart.rclick",[e]):t.emit("bg.rclick",[e]),e.preventDefault()}),i.on("mousemove",function(e){n(e)?r?t.emit("chart.mousemove",[e]):(t.emit("chart.mouseover",[e]),r=!0):(r&&(t.emit("chart.mouseout",[e]),r=!1),t.emit("bg.mousemove",[e]))}),i.on("mousedown",function(e){n(e)?t.emit("chart.mousedown",[e]):t.emit("bg.mousedown",[e])}),i.on("mouseup",function(e){n(e)?t.emit("chart.mouseup",[e]):t.emit("bg.mouseup",[e])}),i.on("mouseover",function(e){n(e)||t.emit("bg.mouseover",[e])}),i.on("mouseout",function(e){n(e)||t.emit("bg.mouseout",[e])}),i.on("mousewheel",function(e){n(e)?t.emit("chart.mousewheel",[e]):t.emit("bg.mousewheel",[e])})}function C(e,r){if(!t.typeCheck("undefined",r)&&g[r])return"url(#"+g[r]+")";var n="gradient-"+b;e.attr.id=n;var a=i.createObject(e);return f.append(a),t.typeCheck("undefined",r)||(g[r]=n),"url(#"+n+")"}function k(e){if(t.typeCheck("string",e)){if(e=e.replace("url(#","").replace(")",""),g[e])return"url(#"+e+")";if(-1==e.indexOf("pattern-"))return!1;var r=e.split("-"),n=r.pop(),a=u.include("chart."+r.join("."));return!!a&&("function"==typeof(o=a[n])&&(o=o.call(o)),o.attr&&!o.attr.id&&(o.attr.id=e),o=i.createObject(o),f.append(o),g[e]=e,"url(#"+e+")")}if(e.attr.id=e.attr.id||"pattern-"+b,g[e.attr.id])return"url(#"+e.attr.id+")";var o=i.createObject(e);return f.append(o),g[e.attr.id]=e.attr.id,"url(#"+e.attr.id+")"}function B(e){if(t.typeCheck("undefined",e))return"none";if(t.typeCheck("object",e))return"pattern"==e.type?k(e):C(e);if("string"==typeof e){var i=k(e);if(i)return i}var n=r.parse(e);return n==e?e:C(n,e)}function A(e){var i={};t.typeCheck("string",e)?(t.extend(i,u.include("chart.theme."+e)),t.extend(i,v.style)):t.typeCheck("object",e)&&(t.extend(h,v.style),t.extend(h,e),t.extend(i,h)),h=i}function F(t,e){var i=e.match(/{([^{}]+)}/g);if(null!=i)for(var r=0;r<i.length;r++){var n=i[r].substring(1,i[r].length-1);e=e.replace(i[r],t.icon(n))}return e}function T(e){var i=e.svg.size();return{width:t.typeCheck("integer",v.width)?v.width:i.width,height:t.typeCheck("integer",v.height)?v.height:i.height}}function M(t,e){var i=a.pixelRatio,r=T(t),n=y[e];n.restore(),n.clearRect(0,0,r.width*i,r.height*i),n.save(),"main"==e&&n.translate(s.x,s.y)}this.init=function(){b=this.index=u.size(),function(e){var i=(v=t.deepClone(e.options,{data:!0,bind:!0})).padding;o=t.typeCheck("integer",i)?{left:i,right:i,bottom:i,top:i}:i,t.typeCheck("array",v.axis)||(v.axis=[v.axis]),t.typeCheck("array",v.brush)||(v.brush=[v.brush]),t.typeCheck("array",v.widget)||(v.widget=[v.widget]),0==v.axis.length&&v.axis.push({data:[]});for(var r=0;r<v.axis.length;r++){var n=v.axis[r];t.extend(n,v.axis[n.extend],!0)}}(this),A(v.theme),function(t){t.style.position="relative",t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.MozUserSelect="none",t.setAttribute("unselectable","on")}(this.root),this.svg=new i(this.root,{width:v.width,height:v.height,"buffered-rendering":"dynamic"}),v.canvas?(!function(t){var e=T(t),i=a.pixelRatio,r=function(r){var n=document.createElement("CANVAS");n.width=e.width*i,n.height=e.height*i,n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.width=e.width+"px",n.style.height=e.height+"px",n.getContext&&(y[r]=n.getContext("2d"),a.apply(y[r]),"buffer"!=r&&t.root.appendChild(n)),"sub"==r&&(n.on=function(t,e){return n.addEventListener(t,function(t){"function"==typeof e&&e.call(this,t)},!1),this})};for(var n in y)r(n)}(this),w(this,e.find(this.root,"CANVAS")[1])):w(this,this.svg.root),function(){var e=v.icon;if(t.typeCheck(["string","array"],e.path)){for(var i=t.typeCheck("string",e.path)?[e.path]:e.path,r=[],n=0;n<i.length;n++){var a=i[n],o="url("+a+") ";-1!=a.indexOf(".eot")?o+="format('embedded-opentype')":-1!=a.indexOf(".woff")?o+="format('woff')":-1!=a.indexOf(".ttf")?o+="format('truetype')":-1!=a.indexOf(".svg")&&(o+="format('svg')"),r.push(o)}!function(t){(function(){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet})().insertRule(t,0)}("@font-face {font-family: "+e.type+"; font-weight: normal; font-style: normal; src: "+r.join(",")+"}")}}(),this.render()},this.get=function(t,e){var i={axis:l,brush:c,widget:d,padding:o,area:s};return i[t][e]?i[t][e]:i[t]||i},this.axis=function(t){return 0==arguments.length?l:l[t]},this.area=function(e){return t.typeCheck("undefined",s[e])?s:s[e]},this.padding=function(e){return t.typeCheck("undefined",o[e])?o:o[e]},this.color=function(e,i){var r=null;if(1==arguments.length?t.typeCheck("string",e)?r=e:t.typeCheck("integer",e)&&(r=n(e)):t.typeCheck(["array","object"],i)?(r=i[e],t.typeCheck("integer",r)&&(r=n(r))):r=n(),g[r])return"url(#"+g[r]+")";function n(t){var i=h.colors,r=t||e;return r>i.length-1?i[i.length-1]:i[r]}return B(r)},this.icon=function(t){return u.include("chart.icon."+v.icon.type)[t]},this.text=function(e,i){return t.typeCheck("string",i)?i=F(this,i):t.typeCheck("undefined",i)&&(i=""),this.svg.text(e,i)},this.texts=function(e,i,r){for(var n=this.svg.group(),a=0;a<i.length;a++)if(t.typeCheck("string",i[a])){var o=(e["font-size"]||10)*(r||1);n.append(this.svg.text(t.extend({y:a*o},e,!0),F(this,i[a])))}return n},this.theme=function(t,e,i){if(0==arguments.length)return h;if(1==arguments.length)return t.indexOf("Color")>-1&&null!=h[t]?B(h[t]):h[t];if(3==arguments.length){var r=t?e:i;return r.indexOf("Color")>-1&&null!=h[r]?B(h[r]):h[r]}},this.format=function(){if(0!=arguments.length){var e=v.format;return t.typeCheck("function",e)?e.apply(this,arguments):arguments[0]}},this.on=function(e,i,r){t.typeCheck("string",e)&&t.typeCheck("function",i)&&(this.event.push({type:e.toLowerCase(),callback:i}),"render"!=r&&"renderAll"!=r||m[r].push(i))},this.render=function(e){this.svg.reset(e),function(t,e){for(var i=0;i<m.render.length;i++)t.off(m.render[i]);if(m.render=[],!0===e){for(i=0;i<m.renderAll.length;i++)t.off(m.renderAll[i]);m.renderAll=[]}}(this,e),function(t){var e=t.svg.size(),i={width:e.width-(o.left+o.right),height:e.height-(o.top+o.bottom),x:o.left,y:o.top};i.width<0&&(i.width=0),i.height<0&&(i.height=0),i.x2=i.x+i.width,i.y2=i.y+i.height,s=i}(this),this.options.canvas&&(M(this,"main"),M(this,"buffer"),e&&M(this,"sub")),function(e){c=t.deepClone(v.brush),d=t.deepClone(v.widget),f=e.svg.defs(),g={}}(this),function(e){for(var i=t.deepClone(v.axis,{data:!0,origin:!0}),r=0;r<i.length;r++)u.defineOptions(n,i[r]),i[r].index=r,l[r]?l[r].reload(i[r]):l[r]=new n(e,v.axis[r],i[r])}(this),function(e){var i=c;if(null!=i)for(var r=0;r<i.length;r++){var n=u.include("chart.brush."+i[r].type);u.defineOptions(n,i[r]);var a=l[i[r].axis];if(i[r].target)t.typeCheck("string",i[r].target)&&(i[r].target=[i[r].target]);else{var o=[];if(a)for(var s in a.data[0])o.push(s);i[r].target=o}i[r].index=r;var h=new n(e,a,i[r]);h.chart=e,h.axis=a,h.brush=i[r],h.svg=e.svg,h.canvas=y.buffer,h.render()}}(this),function(t,e){var i=d;if(null!=i)for(var r=0;r<i.length;r++){var n=u.include("chart.widget."+i[r].type);u.defineOptions(n,i[r]),i[r].index=r;var a=new n(t,l[0],i[r]);if(a.chart=t,a.axis=l[0],a.widget=i[r],a.svg=t.svg,a.canvas=y.sub,p&&!a.isRender()&&!0!==e)return;var o=a.render();a.isRender()||t.svg.autoRender(o,!1)}}(this,e),this.options.canvas&&y.main.drawImage(y.buffer.canvas,0,0),this.svg.root.css({"font-family":this.theme("fontFamily")+","+v.icon.type,background:this.theme("backgroundColor")}),this.svg.render(e),this.emit("render",[p]),p=!0},this.appendDefs=function(t){f.append(t)},this.addBrush=function(t){v.brush.push(t),this.isRender()&&this.render()},this.removeBrush=function(t){v.brush.splice(t,1),this.isRender()&&this.render()},this.updateBrush=function(e,i,r){!0===r?v.brush[e]=i:t.extend(v.brush[e],i),this.isRender()&&this.render()},this.addWidget=function(t){v.widget.push(t),this.isRender()&&this.render()},this.removeWidget=function(t){v.widget.splice(t,1),this.isRender()&&this.render()},this.updateWidget=function(e,i,r){!0===r?v.widget[e]=i:t.extend(v.widget[e],i),this.isRender()&&this.render()},this.setTheme=function(t){A(t),this.isRender()&&this.render(!0)},this.setSize=function(t,i){if(2==arguments.length&&(v.width=t,v.height=i),this.svg.size(v.width,v.height),v.canvas)for(var r=a.pixelRatio,n=e.find(this.root,"CANVAS"),o=T(this),s=0;s<n.length;s++)n[s].width=o.width*r,n[s].height=o.height*r,n[s].style.width=o.width+"px",n[s].style.height=o.height+"px";this.isRender()&&this.render(!0)},this.isFullSize=function(){return"100%"==v.width||v.height,!0},this.resize=function(){this.isFullSize()&&this.setSize(),this.isRender()||this.render(!0)},this.isRender=function(){return!p||v.render},this.setCache=function(t,e){x[t]=e},this.getCache=function(t,e){return void 0===x[t]?e:x[t]}};return o.setup=function(){return{width:"100%",height:"100%",padding:{top:50,bottom:50,left:50,right:50},theme:"classic",style:{},brush:[],widget:[],axis:[],bind:null,format:null,render:!0,icon:{type:"classic",path:null},canvas:!1}},o}},V={name:"chart.plane",extend:"core",component:function(){var t=u.include("util.base"),e=u.include("chart.builder"),i=function(){var i=null,r=[],n=[],a=[],o=0,s={},h={};this.init=function(){var e=this.options,i={type:"range",step:e.step,line:e.line};s.x=t.extend({domain:e.x},i),s.y=t.extend({domain:e.y},i),s.x.orient="bottom",s.y.orient="left",s.z=t.extend({domain:e.z},i),s.depth=e.depth-2*e.padding,s.degree={x:e.dx,y:e.dy,z:e.dz},s.perspective=e.perspective,h.extend=0,h.x={hide:!0},h.y={hide:!0},h.z={hide:!0},"2d"==e.dimension&&(s.perspective=1,s.degree.x=0,s.degree.y=0,s.degree.z=0,s.z.hideText=!0)},this.push=function(e){t.typeCheck("array",e)&&(r[o]||r.push(t.extend({},0==o?s:h)),r[o].data||(r[o].data=[]),r[o].data.push(e))},this.commit=function(t,e){var i=this.options;n.push({type:"canvas.dot3d",color:o,axis:o,symbol:t||i.symbol,size:2*(e||i.r)}),o++},this.append=function(e,i,a){var l=this.options;r.push(t.extend({},0==o?s:h)),r[o].data=e,n.push({type:"canvas.dot3d",color:o,axis:o,symbol:i||l.symbol,size:2*(a||l.r)}),o++},this.render=function(){var h=this.options;if("3d"==h.dimension&&a.push({type:"polygon.rotate3d"}),null!=i&&(i.root.innerHTML="",i=null),0==r.length&&r.push(s),i=e(this.root,{padding:h.padding,width:h.width,height:h.height,axis:r,brush:n,widget:a,canvas:!0,render:!1,style:{gridFaceBackgroundOpacity:.1}}),t.typeCheck("array",h.colors)){for(var l=[],c=0;c<h.colors.length;c++)l.push(i.color(h.colors[c]));i.setTheme({colors:l})}r=[],n=[],a=[],o=0,i.render()}};return i.setup=function(){return{dimension:"2d",width:500,height:500,depth:500,padding:50,x:[-100,100],y:[-100,100],z:[-100,100],step:4,line:!0,symbol:"dot",r:2,perspective:.9,dx:10,dy:5,dz:0,colors:null}},i}},U={name:"chart.animation",extend:"core",component:function(){var t=u.include("util.base"),e=u.include("chart.builder"),i=function(){var t=void 0,i=-1,r=0,n=0;this.init=function(){var i=this.options;if(t=i.interval,delete i.interval,i.axis.length&&i.axis.length>1)throw new Error("JUI_CRITICAL_ERR: the real-time module allows only a single axes");this.builder=e(this.selector,i)},this.run=function(e){var a=this,o=Date.now();if(0==n&&(n=o),o-r>t||0==t){var s=(o-r)/1e3;s>1&&(s=1),this.builder.setCache("tpf",s),this.builder.setCache("fps",1/s),"function"==typeof e&&e.call(this,o-n),this.render(),r=o}i=requestAnimationFrame(function(){a.run(e)})},this.stop=function(){-1!=i&&(cancelAnimationFrame(i),i=-1)},this.set=function(t,e,i){this.builder.axis(0).set(t,e,i)},this.update=function(t){this.builder.axis(0).update(t)},this.render=function(t){this.builder.render(t)}};return i.setup=function(){return t.extend({render:!1,canvas:!0,interval:0},Y.component().setup(),!0)},i}};u.use([j,x,f]);var H={name:"chart.polygon.core",extend:null,component:function(){var t=u.include("util.base"),e=u.include("chart.vector"),i=u.include("util.transform"),r=u.include("util.math");return function(){this.perspective=.9,this.rotate=function(n,a,o,s,h){var l=this.perspective,c=new i(this.vertices),u=c.matrix("move3d",o,s,h);u=r.matrix3d(u,c.matrix("rotate3dx",a.x)),u=r.matrix3d(u,c.matrix("rotate3dy",a.y)),u=r.matrix3d(u,c.matrix("rotate3dz",a.z)),u=r.matrix3d(u,c.matrix("move3d",-o,-s,-h)),this.vertices=c.custom(u);for(var d=0,f=this.vertices.length;d<f;d++){var g=Math.abs(this.vertices[d][2]-n),p=r.scaleValue(g,0,n,l,1),v=new i,m=v.matrix("move3d",o,s,n/2);m=r.matrix3d(m,v.matrix("scale3d",p,p,p)),m=r.matrix3d(m,v.matrix("move3d",-o,-s,-n/2)),this.vertices[d]=r.matrix3d(m,this.vertices[d]),t.typeCheck("array",this.vectors)&&(null==this.vectors[d]?this.vectors[d]=new e(this.vertices[d][0],this.vertices[d][1],this.vertices[d][2]):(this.vectors[d].x=this.vertices[d][0],this.vectors[d].y=this.vertices[d][1],this.vectors[d].z=this.vertices[d][2]))}},this.min=function(){for(var t={x:this.vertices[0][0],y:this.vertices[0][1],z:this.vertices[0][2]},e=1,i=this.vertices.length;e<i;e++)t.x=Math.min(t.x,this.vertices[e][0]),t.y=Math.min(t.y,this.vertices[e][1]),t.z=Math.min(t.z,this.vertices[e][2]);return t},this.max=function(){for(var t={x:this.vertices[0][0],y:this.vertices[0][1],z:this.vertices[0][2]},e=1,i=this.vertices.length;e<i;e++)t.x=Math.max(t.x,this.vertices[e][0]),t.y=Math.max(t.y,this.vertices[e][1]),t.z=Math.max(t.z,this.vertices[e][2]);return t}}}};u.use(H);var G={name:"chart.polygon.grid",extend:"chart.polygon.core",component:function(){return function(t,e,i,r,n,a){e=(n=n||0)+e,i=(a=a||0)+i;var o={center:[new Float32Array([n,a,r,1]),new Float32Array([e,a,r,1]),new Float32Array([e,i,r,1]),new Float32Array([n,i,r,1])],horizontal:[new Float32Array([n,i,0,1]),new Float32Array([e,i,0,1]),new Float32Array([e,i,r,1]),new Float32Array([n,i,r,1])],vertical:[new Float32Array([e,a,0,1]),new Float32Array([e,i,0,1]),new Float32Array([e,i,r,1]),new Float32Array([e,a,r,1])]};this.vertices=o[t],this.vectors=[]}}};u.use(H);var q={name:"chart.polygon.line",extend:"chart.polygon.core",component:function(){return function(t,e,i,r,n,a){this.vertices=[new Float32Array([t,e,i,1]),new Float32Array([r,n,a,1])],this.vectors=[]}}};u.use(H);var Z={name:"chart.polygon.point",extend:"chart.polygon.core",component:function(){return function(t,e,i){this.vertices=[new Float32Array([t,e,i,1])],this.vectors=[]}}};u.use(H);var J={name:"chart.polygon.cube",extend:"chart.polygon.core",component:function(){return function(t,e,i,r,n,a){this.vertices=[new Float32Array([t,e,i,1]),new Float32Array([t+r,e,i,1]),new Float32Array([t+r,e,i+a,1]),new Float32Array([t,e,i+a,1]),new Float32Array([t,e+n,i,1]),new Float32Array([t+r,e+n,i,1]),new Float32Array([t+r,e+n,i+a,1]),new Float32Array([t,e+n,i+a,1])],this.faces=[[0,1,2,3],[3,2,6,7],[0,3,7,4],[1,2,6,5],[0,1,5,4],[4,5,6,7]],this.vectors=[]}}};u.use(I);var K={name:"chart.grid.draw2d",extend:"chart.draw",component:function(){var t=u.include("util.base");return function(){this.createGridX=function(t,e,i,r,n){var a=this.getLineOption(),o=this.chart.svg.group().translate(i,0),s=this.chart.theme("gridTickBorderSize");return o.append(this.line({y2:"bottom"==t?s:-s,stroke:this.color(r,"gridActiveBorderColor","gridXAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),a&&this.drawValueLine(t,o,r,a,e,n),o},this.createGridY=function(t,e,i,r,n){var a=this.getLineOption(),o=this.chart.svg.group().translate(0,i),s=this.chart.theme("gridTickBorderSize");return o.append(this.line({x2:"left"==t?-s:s,stroke:this.color(r,"gridActiveBorderColor","gridYAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),a&&this.drawValueLine(t,o,r,a,e,n),o},this.fillRectObject=function(t,e,i,r,n,a,o){e.type.indexOf("gradient")>-1?t.append(this.chart.svg.rect({x:r,y:n,height:o,width:a,fill:this.chart.color(e.fill?e.fill:"linear("+i+") "+this.chart.theme("gridPatternColor")+",0.5 "+this.chart.theme("backgroundColor")),"fill-opacity":this.chart.theme("gridPatternOpacity")})):e.type.indexOf("rect")>-1&&t.append(this.chart.svg.rect({x:r,y:n,height:o,width:a,fill:this.chart.color(e.fill?e.fill:this.chart.theme("gridPatternColor")),"fill-opacity":this.chart.theme("gridPatternOpacity")}))},this.drawAxisLine=function(e,i,r){var n="top"==e||"bottom"==e;i.append(this.chart.svg.line(t.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color(n?"gridXAxisBorderColor":"gridYAxisBorderColor"),"stroke-width":this.chart.theme(n?"gridXAxisBorderWidth":"gridYAxisBorderWidth"),"stroke-opacity":1},r)))},this.drawPattern=function(t,e,i,r){if(!this.grid.hide&&t&&e&&i){var n=this.getLineOption(),a="left"==t||"right"==t,o=this.chart.svg.group();if(o.translate(this.axis.area("x")+this.chart.area("x"),this.axis.area("y")+this.chart.area("y")),n&&(n.type.indexOf("gradient")>-1||n.type.indexOf("rect")>-1))for(var s=0;s<i.length-1;s+=2){var h=Math.abs(i[s+1]-i[s]),l=i[s]-(r?h/2:0),c=a?0:l,u=a?l:0,d=a?this.axis.area("width"):h,f=a?h:this.axis.area("height");this.fillRectObject(o,n,t,c,u,d,f)}}},this.drawBaseLine=function(t,e){var i=this.getGridSize(),r={};"bottom"==t||"top"==t?r={x1:i.start,x2:i.end}:"left"!=t&&"right"!=t||(r={y1:i.start,y2:i.end}),this.drawAxisLine(t,e,r)},this.drawValueLine=function(e,i,r,n,a,o){var s={},h=!1;if("top"==e?(h=this.checkDrawLineY(a,o),s={x1:0,x2:0,y1:0,y2:this.axis.area("height")}):"bottom"==e?(h=this.checkDrawLineY(a,o),s={x1:0,x2:0,y1:0,y2:-this.axis.area("height")}):"left"==e?(h=this.checkDrawLineX(a,o),s={x1:0,x2:this.axis.area("width"),y1:0,y2:0}):"right"==e&&(h=this.checkDrawLineX(a,o),s={x1:0,x2:-this.axis.area("width"),y1:0,y2:0}),h){var l=this.line(t.extend({stroke:this.chart.theme(r,"gridActiveBorderColor","gridBorderColor"),"stroke-width":this.chart.theme(r,"gridActiveBorderWidth","gridBorderWidth")},s));if(n.type.indexOf("dashed")>-1){var c=this.chart.theme("gridBorderDashArray");l.attr({"stroke-dasharray":"none"!=c&&c?c:"3,3"})}i.append(l)}},this.drawValueText=function(t,e,i,r,n,a,o){this.grid.hideText||("top"==t?e.append(this.getTextRotate(this.chart.text({x:a,y:-(this.chart.theme("gridTickBorderSize")+2*this.chart.theme("gridTickPadding")),dy:this.chart.theme("gridXFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridXFontColor"),"text-anchor":"middle","font-size":this.chart.theme("gridXFontSize"),"font-weight":this.chart.theme("gridXFontWeight")},n))):"bottom"==t?e.append(this.getTextRotate(this.chart.text({x:a,y:this.chart.theme("gridTickBorderSize")+2*this.chart.theme("gridTickPadding"),dy:this.chart.theme("gridXFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridXFontColor"),"text-anchor":"middle","font-size":this.chart.theme("gridXFontSize"),"font-weight":this.chart.theme("gridXFontWeight")},n))):"left"==t?e.append(this.getTextRotate(this.chart.text({x:-this.chart.theme("gridTickBorderSize")-this.chart.theme("gridTickPadding"),y:a,dy:this.chart.theme("gridYFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridYFontColor"),"text-anchor":"end","font-size":this.chart.theme("gridYFontSize"),"font-weight":this.chart.theme("gridYFontWeight")},n))):"right"==t&&e.append(this.getTextRotate(this.chart.text({x:this.chart.theme("gridTickBorderSize")+this.chart.theme("gridTickPadding"),y:a,dy:this.chart.theme("gridYFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridYFontColor"),"text-anchor":"start","font-size":this.chart.theme("gridYFontSize"),"font-weight":this.chart.theme("gridYFontWeight")},n))))},this.drawImage=function(e,i,r,n,a,o){if(t.typeCheck("function",this.grid.image)){var s=this.grid.image.apply(this.chart,[r,n]);if(t.typeCheck("object",s)){var h=this.chart.svg.image({"xlink:href":s.uri,width:s.width,height:s.height});"top"==e||"bottom"==e?h.attr({x:"block"==this.grid.type?this.scale.rangeBand()/2-s.width/2:-s.width/2}):"left"!=e&&"right"!=e||h.attr({y:"block"==this.grid.type?this.scale.rangeBand()/2-s.height/2:-s.height/2}),"bottom"==e?h.attr({y:s.dist}):"top"==e?h.attr({y:-(s.dist+s.height)}):"left"==e?h.attr({x:-(s.dist+s.width)}):"right"==e&&h.attr({x:s.dist}),h.translate(a,o),i.append(h)}}}}}};u.use(I,G,q,Z);var Q={name:"chart.grid.draw3d",extend:"chart.draw",component:function(){u.include("util.base");var t=u.include("chart.polygon.grid"),e=u.include("chart.polygon.line"),i=u.include("chart.polygon.point");return function(){this.createGridX=function(t,e,i,r,n){var a=this.getLineOption(),o=this.svg.group();return a&&this.drawValueLine(t,o,r,a,e,i,n),o},this.createGridY=function(t,e,i,r,n){var a=this.getLineOption(),o=this.svg.group();return a&&this.drawValueLine(t,o,r,a,e,i,n),o},this.drawCenter=function(t,e,i,r,n){var a=this.svg.group(),o=this.getLineOption();o&&this.drawValueLineCenter(a,e,o),this.drawValueTextCenter(a,e,i,r,n),t.append(a)},this.drawBaseLine=function(t,e){var i=this.svg.group();this.drawAxisLine(t,i),e.append(i)},this.drawAxisLine=function(e,i){var r="top"==e||"bottom"==e,n=r?"gridXAxisBorderColor":"gridYAxisBorderColor",a=r?"gridXAxisBorderWidth":"gridYAxisBorderWidth";"center"==e&&(n="gridZAxisBorderColor",a="gridZAxisBorderWidth");var o=this.svg.polygon({stroke:this.chart.theme(n),"stroke-width":this.chart.theme(a),"stroke-opacity":1,fill:this.chart.theme("gridFaceBackgroundColor"),"fill-opacity":this.chart.theme("gridFaceBackgroundOpacity")}),s=null,h=this.axis.area("width"),l=this.axis.area("height"),c=this.axis.area("x"),u=this.axis.area("y"),d=this.axis.depth;s="center"==e?new t("center",h,l,d,c,u):r?new t("horizontal",h,l="bottom"==e?l:0,d,c,u):new t("vertical",h="right"==e?h:0,l,d,c,u),this.calculate3d(s);for(var f=0;f<s.vectors.length;f++)o.point(s.vectors[f].x,s.vectors[f].y);"center"==e?!0!==this.axis.get("y").hide&&i.append(o):i.append(o)},this.drawValueLine=function(t,i,r,n,a,o,s){var h=!1,l=this.axis.area("width"),c=this.axis.area("height"),u=this.axis.area("x"),d=this.axis.area("y"),f=this.axis.depth,g=null,p=null;if("top"==t?(h=this.checkDrawLineY(a,s),g=new e(o,d,0,o,d,f),p=new e(o,d,f,o,d+c,f)):"bottom"==t?(h=this.checkDrawLineY(a,s),g=new e(o,d+c,0,o,d+c,f),p=new e(o,d+c,f,o,d,f)):"left"==t?(h=this.checkDrawLineX(a,s),g=new e(u,o,0,u,o,f),p=new e(u,o,f,u+l,o,f)):"right"==t&&(h=this.checkDrawLineX(a,s),g=new e(u+l,o,0,u+l,o,f),p=new e(u+l,o,f,u,o,f)),h){this.calculate3d(g,p);var v=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:g.vectors[0].x,y1:g.vectors[0].y,x2:g.vectors[1].x,y2:g.vectors[1].y}),m=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:p.vectors[0].x,y1:p.vectors[0].y,x2:p.vectors[1].x,y2:p.vectors[1].y});if(n.type.indexOf("dashed")>-1){var y=this.chart.theme("gridBorderDashArray"),x="none"!=y&&y?y:"3,3";v.attr({"stroke-dasharray":x}),m.attr({"stroke-dasharray":x})}i.append(v),!0!==this.axis.get("y").hide&&i.append(m)}},this.drawValueLineCenter=function(t,i,r){for(var n="block"!=this.grid.type?i.length-1:i.length,a=this.axis.area("width"),o=this.axis.area("height"),s=this.axis.area("x"),h=this.axis.area("y"),l=this.axis.depth,c="left"==this.axis.get("y").orient?0:a,u="top"==this.axis.get("x").orient?0:o,d=1;d<n;d++){var f=d*(l/n),g=new e(s,h+u,f,s+a,h+u,f),p=new e(s+c,h,f,s+c,h+o,f);this.calculate3d(g,p);var v=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:g.vectors[0].x,y1:g.vectors[0].y,x2:g.vectors[1].x,y2:g.vectors[1].y}),m=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:p.vectors[0].x,y1:p.vectors[0].y,x2:p.vectors[1].x,y2:p.vectors[1].y});if(r.type.indexOf("dashed")>-1){var y=this.chart.theme("gridBorderDashArray"),x="none"!=y&&y?y:"3,3";v.attr({"stroke-dasharray":x}),m.attr({"stroke-dasharray":x})}t.append(v),!0!==this.axis.get("y").hide&&t.append(m)}},this.drawValueText=function(t,e,r,n,a){if(!this.grid.hideText){var o="left"==t||"right"==t,s=this.chart.theme("gridTickBorderSize"),h=this.chart.theme("gridTickPadding"),l=this.axis.area("width"),c=this.axis.area("height"),u=this.axis.area("x"),d=this.axis.area("y"),f=0,g=0;"top"==t?(f=n,g=d+-(s+2*h)):"bottom"==t?(f=n,g=d+(c+s+2*h)):"left"==t?(f=u+-(s+h),g=n):"right"==t&&(f=u+(l+s+h),g=n);var p=new i(f,g,0);this.calculate3d(p),e.append(this.getTextRotate(this.chart.text({x:p.vectors[0].x,y:p.vectors[0].y,dx:o?0:this.chart.theme("gridXFontSize")/3,dy:o?this.chart.theme("gridYFontSize")/3:0,fill:this.chart.theme(o?"gridYFontColor":"gridXFontColor"),"text-anchor":o?"left"==t?"end":"start":"middle","font-size":this.chart.theme(o?"gridYFontSize":"gridXFontSize"),"font-weight":this.chart.theme(o?"gridYFontWeight":"gridXFontWeight")},a)))}},this.drawValueTextCenter=function(t,e,r,n,a){if(!this.grid.hideText)for(var o=this.chart.theme("gridTickBorderSize")+this.chart.theme("gridTickPadding"),s="left"==this.axis.get("y").orient,h="top"==this.axis.get("x").orient,l="block"!=this.grid.type?e.length-1:e.length,c=this.axis.area("width"),u=this.axis.area("height"),d=this.axis.depth,f=this.axis.area("x")+(s?c+o:-o),g=this.axis.area("y")+(h?-o:u+o),p=0;p<e.length;p++){var v=this.format(e[p],p),m=new i(f,g,p*(d/l)+a);this.calculate3d(m),t.append(this.getTextRotate(this.chart.text({x:m.vectors[0].x,y:m.vectors[0].y,fill:this.chart.theme("gridZFontColor"),"text-anchor":s?"start":"end","font-size":this.chart.theme("gridZFontSize"),"font-weight":this.chart.theme("gridZFontWeight")},v)))}},this.drawPattern=function(){},this.drawImage=function(){}}}};u.use([f,I,K,Q]);var tt={name:"chart.grid.core",extend:"chart.draw",component:function(){var t=u.include("util.base"),e=u.include("util.math"),i=u.include("chart.grid.draw2d"),r=u.include("chart.grid.draw3d"),a=function(){this.wrapper=function(t,e){return t},this.line=function(e){return this.chart.svg.line(t.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),"stroke-dasharray":this.chart.theme("gridBorderDashArray"),"stroke-opacity":this.chart.theme("gridBorderOpacity")},e))},this.color=function(t){var e=this.grid.color;return 3==arguments.length?null!=e?this.chart.color(e):this.chart.theme.apply(this.chart,arguments):null!=e?this.chart.color(e):this.chart.theme(t)},this.data=function(t,e){return this.axis.data&&this.axis.data[t]?this.axis.data[t][e]||this.axis.data[t]:this.axis.data||[]},this.getGridSize=function(){var t=this.grid.orient,i=this.axis.depth,r=this.axis.degree,n="left"==t||"right"==t?this.axis.area("y"):this.axis.area("x"),a="left"==t||"right"==t?this.axis.area("height"):this.axis.area("width"),o={start:n,size:a,end:n+a};if(this.axis.isFull3D())"center"==t&&(o.start=0,o.size=i,o.end=i);else if(i>0||r>0){var s=e.radian(360-r),h=Math.cos(s)*i,l=Math.sin(s)*i;"left"==t?(o.start=o.start-l,o.size=o.size-l):"bottom"==t&&(o.end=o.end-h,o.size=o.size-h)}return o},this.getDefaultOffset=function(){var t=this.grid.orient,e=this.axis.area(),i=e.width,r=e.height,n="left"==t||"right"==t?e.y:e.x,a="left"==t||"right"==t?r:i;return{start:n,size:a,end:n+a}},this.getTextRotate=function(e){var i=this.grid.textRotate;if(null==i)return e;t.typeCheck("function",i)&&(i=i.apply(this.chart,[e]));var r=e.attr("x"),n=e.attr("y");return e.rotate(i,r,n),e},this.getLineOption=function(){var t=this.grid.line;return"string"==typeof t?t={type:t||"solid"}:"number"==typeof t?t={type:"solid","stroke-width":t}:"object"!==(void 0===t?"undefined":n(t))&&(t=!!t)&&(t={type:"solid"}),t&&"string"==!t.type&&(t.type=t.type.split(/ /g)),t},this.checkDrawLineY=function(t,e){var i=this.axis.get("y");if(!i.hide){if("left"==i.orient&&0==t&&!this.grid.realtime)return!1;if("right"==i.orient&&e)return!1}return!0},this.checkDrawLineX=function(t,e){var i=this.axis.get("x");if(!i.hide){if("top"==i.orient&&0==t)return!1;if("bottom"==i.orient&&e&&!this.grid.realtime)return!1}return!0},this.drawTop=function(e,i,r,n,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),l=r[o]-a,c=o==s-1&&"block"!=this.grid.type,u=!1;if(this.drawImage("top",e,i[o],o,l,0),h||0===h){t.typeCheck("function",n)&&(u=n(i[o]));var d=this.createGridX("top",o,l,u,c);this.drawValueText("top",d,o,r[o],h,a,u),e.append(d)}}},this.drawBottom=function(e,i,r,n,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),l=r[o]-a,c=o==s-1&&"block"!=this.grid.type,u=!1;if(this.drawImage("bottom",e,i[o],o,l,0),h||0===h){t.typeCheck("function",n)&&(u=n(i[o]));var d=this.createGridX("bottom",o,l,u,c);this.drawValueText("bottom",d,o,r[o],h,a,u),e.append(d)}}},this.drawLeft=function(e,i,r,n,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),l=r[o]-a,c=o==s-1&&"block"!=this.grid.type,u=!1;if(this.drawImage("left",e,i[o],o,0,l),h||0===h){t.typeCheck("function",n)&&(u=n(i[o]));var d=this.createGridY("left",o,l,u,c);this.drawValueText("left",d,o,r[o],h,a,u),e.append(d)}}},this.drawRight=function(e,i,r,n,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),l=r[o]-a,c=o==s-1&&"block"!=this.grid.type,u=!1;if(this.drawImage("right",e,i[o],o,0,l),h||0===h){t.typeCheck("function",n)&&(u=n(i[o]));var d=this.createGridY("right",o,l,u,c);this.drawValueText("right",d,o,r[o],h,a,u),e.append(d)}}},this.drawGrid=function(){var e=this.chart.svg.group(),n=this[this.grid.orient],a=this.axis.isFull3D()?r:i;return this.scale=this.wrapper(this.scale,this.grid.key),t.typeCheck("function",n)&&(a.call(this),n.call(this,e)),this.grid.hide&&e.attr({display:"none"}),{root:e,scale:this.scale}},this.drawAfter=function(t){t.root.attr({class:"grid-"+this.grid.type}),t.root.translate(this.chart.area("x"),this.chart.area("y"))}};return a.setup=function(){return{dist:0,orient:null,hide:!1,color:null,title:null,line:!1,format:null,image:null,textRotate:null}},a}},et={name:"chart.grid.block",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=u.include("util.scale"),i=function(){this.center=function(t){this.drawCenter(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.domain,this.points,!0),this.drawTop(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("top",t),t.append(this.createGridX("top",this.domain.length,this.end,null,!0))},this.bottom=function(t){this.drawPattern("bottom",this.domain,this.points,!0),this.drawBottom(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("bottom",t),t.append(this.createGridX("bottom",this.domain.length,this.end,null,!0))},this.left=function(t){this.drawPattern("left",this.domain,this.points,!0),this.drawLeft(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("left",t),t.append(this.createGridY("left",this.domain.length,this.end,null,!0))},this.right=function(t){this.drawPattern("right",this.domain,this.points,!0),this.drawRight(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("right",t),t.append(this.createGridY("right",this.domain.length,this.end,null,!0))},this.initDomain=function(){var e=[];if(t.typeCheck("string",this.grid.domain)){var i=this.grid.domain,r=this.data();if(this.grid.reverse)var n=r.length-1,a=0,o=-1;else n=0,a=r.length-1,o=1;for(var s=n;this.grid.reverse?s>=a:s<=a;s+=o)e.push(r[s][i])}else t.typeCheck("function",this.grid.domain)?e=this.grid.domain.call(this.chart):t.typeCheck("array",this.grid.domain)&&(e=this.grid.domain);return this.grid.reverse&&e.reverse(),e},this.wrapper=function(e,i){var r=e,n=this,a=n.domain.length,o=n.grid.reverse;return i?t.extend(function(t){return r("number"==typeof t&&i?n.axis.data[t][i]:o?a-t-1:t)},r):r},this.drawBefore=function(){var t=this.initDomain(),i=this.getGridSize(),r=[i.start,i.end];this.scale=e.ordinal().domain(t),this.scale.rangePoints(r),this.start=i.start,this.size=i.size,this.end=i.end,this.points=this.scale.range(),this.domain=this.scale.domain(),this.band=this.scale.rangeBand(),this.half_band=this.band/2,this.bar=6,this.reverse=this.grid.reverse},this.draw=function(){return this.drawGrid("block")}};return i.setup=function(){return{domain:null,reverse:!1,max:10,hideText:!1,key:null}},i}},it={name:"chart.grid.date",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=u.include("util.scale"),i=u.include("util.time"),r=function(){this.center=function(t){this.drawCenter(t,this.ticks,this.values,null,0),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.ticks,this.values),this.drawTop(t,this.ticks,this.values,null,0),this.drawBaseLine("top",t)},this.bottom=function(t){this.drawPattern("bottom",this.ticks,this.values),this.drawBottom(t,this.ticks,this.values,null,0),this.drawBaseLine("bottom",t)},this.left=function(t){this.drawPattern("left",this.ticks,this.values),this.drawLeft(t,this.ticks,this.values,null,0),this.drawBaseLine("left",t)},this.right=function(t){this.drawPattern("right",this.ticks,this.values),this.drawRight(t,this.ticks,this.values,null,0),this.drawBaseLine("right",t)},this.wrapper=function(e,i){var r=e,n=this;return i?t.extend(function(t){return r("number"==typeof t?n.axis.data[t][i]:+t)},r):r},this.initDomain=function(){var e=[],i=[],r=this.grid.min||void 0,n=this.grid.max||void 0,a=this.data(),o=[];if(t.typeCheck("string",this.grid.domain)){if(a.length>0){var s=this.grid.domain;o.push(+a[0][s]),o.push(+a[a.length-1][s])}}else if(t.typeCheck("function",this.grid.domain))for(var h=a.length;h--;){var l=this.grid.domain.call(this.chart,a[h]);t.typeCheck("array",l)?(o[h]=Math.max.apply(Math,l),o.push(Math.min.apply(Math,l))):o[h]=l}else o=this.grid.domain;return t.typeCheck("undefined",r)&&o.length>0&&(r=Math.min.apply(Math,o)),t.typeCheck("undefined",n)&&o.length>0&&(n=Math.max.apply(Math,o)),e=[r,n],i=this.grid.interval,this.grid.reverse&&e.reverse(),t.typeCheck("function",i)?this.interval=i.call(this.chart,e):this.interval=i,e},this.drawBefore=function(){var t=this.initDomain(),r=this.getGridSize(),n=[r.start,r.end];if(this.scale=e.time().domain(t).range(n),this.scale.clamp(this.grid.clamp),this.ticks=[],null!=this.grid.realtime&&i[this.grid.realtime]==this.grid.realtime)var a=this.scale.realTicks(this.grid.realtime,this.interval);else a=this.scale.ticks("milliseconds",this.interval);"string"==typeof this.grid.format&&function(t,e){t.format=function(t){return i.format(t,e)}}(this.grid,this.grid.format),this.start=r.start,this.size=r.size,this.end=r.end,this.bar=6,this.values=[];for(var o=0,s=a.length;o<s;o++){var h=this.scale(a[o]);h>=r.start&&h<=r.end&&(this.values.push(h),this.ticks.push(a[o]))}},this.draw=function(){return this.drawGrid("date")}};return r.setup=function(){return{domain:null,interval:1e3,min:null,max:null,reverse:!1,key:null,realtime:null,hideText:!1}},r}},rt={name:"chart.grid.dateblock",extend:"chart.grid.date",component:function(){var t=u.include("util.base"),e=u.include("util.scale"),i=u.include("util.time");return function(){this.wrapper=function(t,e){var i=t,r=this;return i.rangeBand=function(){return r.grid.unit},i},this.initDomain=function(){var e=[],i=[],r=this.grid.min||void 0,n=this.grid.max||void 0,a=this.data(),o=[];if(t.typeCheck("string",this.grid.domain)){var s=this.grid.domain;o.push(+a[0][s]),o.push(+a[a.length-1][s])}else if(t.typeCheck("function",this.grid.domain))for(var h=a.length;h--;){var l=this.grid.domain.call(this.chart,a[h]);t.typeCheck("array",l)?(o[h]=+Math.max.apply(Math,l),o.push(+Math.min.apply(Math,l))):o[h]=+l}else o=this.grid.domain;return t.typeCheck("undefined",r)&&(r=Math.min.apply(Math,o)),t.typeCheck("undefined",n)&&(n=Math.max.apply(Math,o)),e=[r,n],i=this.grid.interval,this.grid.reverse&&e.reverse(),t.typeCheck("function",i)?e.interval=i.call(this.chart,e):e.interval=i,e},this.drawBefore=function(){var r=this.initDomain(),n=this.getGridSize(),a=[n.start,n.end],o=e.time().domain(r).rangeRound(a);null!=this.grid.realtime&&i[this.grid.realtime]==this.grid.realtime?this.ticks=o.realTicks(this.grid.realtime,r.interval):this.ticks=o.ticks("milliseconds",r.interval);var s=this.axis.data.length-1,h=this.grid.unit=Math.abs(a[0]-a[1])/s;"string"==typeof this.grid.format&&function(t,e){t.format=function(t){return i.format(t,e)}}(this.grid,this.grid.format),this.start=n.start,this.size=n.size,this.end=n.end,this.bar=6,this.values=[];var l=0;for(s=this.ticks.length;l<s;l++)this.values[l]=o(this.ticks[l]);var c=this;this.scale=t.extend(function(t){return c.start+t*h},o)},this.draw=function(){return this.drawGrid("dateblock")}}}},nt={name:"chart.grid.fullblock",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=u.include("util.scale"),i=function(){this.center=function(t){this.drawCenter(t,this.domain,this.points,null,0),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.domain,this.points),this.drawTop(t,this.domain,this.points,null,0),this.drawBaseLine("top",t)},this.bottom=function(t){this.drawPattern("bottom",this.domain,this.points),this.drawBottom(t,this.domain,this.points,null,0),this.drawBaseLine("bottom",t)},this.left=function(t){this.drawPattern("left",this.domain,this.points),this.drawLeft(t,this.domain,this.points,null,0),this.drawBaseLine("left",t)},this.right=function(t){this.drawPattern("right",this.domain,this.points),this.drawRight(t,this.domain,this.points,null,0),this.drawBaseLine("right",t)},this.initDomain=function(){var e=[];if(t.typeCheck("string",this.grid.domain)){var i=this.grid.domain,r=this.data();if(this.grid.reverse)var n=r.length-1,a=0,o=-1;else n=0,a=r.length-1,o=1;for(var s=n;this.grid.reverse?s>=a:s<=a;s+=o)e.push(r[s][i])}else t.typeCheck("function",this.grid.domain)?e=this.grid.domain.call(this.chart):t.typeCheck("array",this.grid.domain)&&(e=this.grid.domain);return this.grid.reverse&&e.reverse(),e},this.wrapper=function(e,i){var r=e,n=this,a=n.domain.length,o=n.grid.reverse;return i?t.extend(function(t){return r("number"==typeof t&&i?n.axis.data[t][i]:o?a-t:t)},r):r},this.drawBefore=function(){var t=this.initDomain(),i=this.getGridSize();this.scale=e.ordinal().domain(t);var r=[i.start,i.end];this.scale.rangeBands(r),this.start=i.start,this.size=i.size,this.end=i.end,this.points=this.scale.range(),this.domain=this.scale.domain(),this.band=this.scale.rangeBand(),this.half_band=0,this.bar=6,this.reverse=this.grid.reverse},this.draw=function(){return this.drawGrid("fullblock")}};return i.setup=function(){return{domain:null,reverse:!1,max:10,hideText:!1}},i}};u.use([f]);var at={name:"chart.grid.radar",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=u.include("util.math"),i=function(){var i=this,r=[];function n(t,e,r,n,a,o){var s=Math.abs(a),h=e,l=r;t.append(i.chart.svg.circle({cx:h,cy:l,r:s,"fill-opacity":0,stroke:i.color("gridBorderColor"),"stroke-width":i.chart.theme("gridBorderWidth")}))}function a(t,r,n,a,o,s,h){var l=i.chart.svg.group(),c=[];c.push([r+a,n+o]);for(var u=a,d=o,f=0;f<s;f++){var g=e.rotate(u,d,h);u=g.x,d=g.y,c.push([r+g.x,n+g.y])}var p=i.chart.svg.path({fill:"none",stroke:i.color("gridBorderColor"),"stroke-width":i.chart.theme("gridBorderWidth")});for(f=0;f<c.length;f++){var v=c[f];0==f?p.MoveTo(v[0],v[1]):p.LineTo(v[0],v[1])}p.LineTo(c[0][0],c[0][1]),l.append(p),t.append(l)}function o(t){var r=i.grid.max,n=i.chart.padding("left"),a=i.chart.padding("top");return function(o,s){var h=s/r,l=(Math.abs(t.y1)-Math.abs(t.y2))*h,c=2*Math.PI/i.domain.length,u=t.x1,d=t.y1,f=-l,g=e.rotate(0,f,c*o);return{x:n+u+g.x,y:a+d+g.y}}}this.initDomain=function(){var e=[];if(t.typeCheck("string",this.grid.domain)){var i=this.grid.domain,r=this.data();if(this.grid.reverse)var n=r.length-1,a=0,o=-1;else n=0,a=r.length-1,o=1;for(var s=n;this.grid.reverse?s>=a:s<=a;s+=o)e.push(r[s][i])}else e=t.typeCheck("function",this.grid.domain)?this.grid.domain(this.chart,this.grid):this.grid.domain;return this.grid.reverse&&e.reverse(),e},this.drawBefore=function(){this.domain=this.initDomain()},this.draw=function(){var t=this.axis.area("width"),i=this.axis.area("height"),s=t;i<s&&(s=i);var h=s/2,l=this.axis.area("x")+t/2,c=this.axis.area("y")+i/2,u=-h,d=0,f=this.domain.length,g=this.grid.step,p=2*Math.PI/f,v=Math.abs(u)/g,m=this.chart.svg.group(),y=this.chart.svg.group();m.append(y),r=[];for(var x=0;x<f;x++){var b=l+d,w=c+u;y.append(this.chart.svg.line({x1:l,y1:c,x2:b,y2:w,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),r[x]={x1:l,y1:c,x2:b,y2:w};var C=w,k=b,B="middle";w>c?C=w+20:w<c&&(C=w-10),b>l?(B="start",k+=10):b<l&&(B="end",k-=10),this.grid.hideText||y.append(this.chart.text({x:k,y:C,"text-anchor":B,"font-size":this.chart.theme("gridCFontSize"),"font-weight":this.chart.theme("gridCFontWeight"),fill:this.chart.theme("gridCFontColor")},this.domain[x]));var A=e.rotate(d,u,p);d=A.x,u=A.y}if(!this.grid.line)return{root:y,scale:o(r[0])};u=-h;var F=0,T=this.grid.max/this.grid.step;for(x=0;x<g;x++)0==x&&this.grid.extra?u+=v:("circle"==this.grid.shape?n(y,l,c,0,u):a(y,l,c,0,u,f,p),this.grid.hideText||y.append(this.chart.text({x:l,y:c+(u+v-5),"font-size":this.chart.theme("gridCFontSize"),"font-weight":this.chart.theme("gridCFontWeight"),fill:this.chart.theme("gridCFontColor")},this.grid.max-F+"")),u+=v,F+=T);return this.grid.hide&&y.attr({display:"none"}),{root:y,scale:o(r[0])}}};return i.setup=function(){return{domain:null,reverse:!1,max:100,step:10,line:!0,hideText:!1,extra:!1,shape:"radial"}},i}};u.use([f,D]);var ot={name:"chart.grid.range",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=u.include("util.math"),i=u.include("util.scale"),r=function(){this.center=function(t){var e=this.scale.min(),i=this.scale.max();this.drawCenter(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawTop(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("top",t)},this.bottom=function(t){this.drawPattern("bottom",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawBottom(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("bottom",t)},this.left=function(t){this.drawPattern("left",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawLeft(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("left",t)},this.right=function(t){this.drawPattern("right",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawRight(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("right",t)},this.wrapper=function(e,i){var r=e,n=this;return i?t.extend(function(t){return r(n.axis.data[t][i])},r):r},this.initDomain=function(){var i=[],r=this.grid.min||void 0,n=this.grid.max||void 0,a=this.data(),o=[],s=!1;if(t.typeCheck("string",this.grid.domain)){var h=this.grid.domain;o=new Array(a.length);for(var l=a.length;l--;){var c=a[l][h];t.typeCheck("array",c)?(o[l]=Math.max(c),o.push(Math.min(c))):(o[l]=c,o.push(0))}}else if(t.typeCheck("function",this.grid.domain)){o=new Array(a.length);var u=!1;for(l=a.length;l--;){c=this.grid.domain.call(this.chart,a[l]);t.typeCheck("array",c)?(o[l]=Math.max.apply(Math,c),o.push(Math.min.apply(Math,c))):(o[l]=c,u||(o.push(0),u=!0))}}else o=this.grid.domain,s=!0;var d,f=Math.min.apply(Math,o),g=Math.max.apply(Math,o);if(s?(r=f,n=g):((void 0===r||r>f)&&(r=f),(void 0===n||n<g)&&(n=g)),t.typeCheck("function",this.grid.unit)?d=this.grid.unit.call(this.chart,this.grid):t.typeCheck("number",this.grid.unit)?d=this.grid.unit:(r>0&&(r=Math.floor(r)),(d=e.div(n-r,this.grid.step))>1?d=Math.ceil(d):0<d&&d<1&&(d=e.div(Math.ceil(e.multi(d,10)),10))),0==d)i=[0,0];else{for(var p=0,v=e.fixed(d);p<n;)p=v.plus(p,d);for(var m=p;m>r;)m=v.minus(m,d);(i=[m,p]).step=Math.abs(m-p)/d}return this.grid.reverse&&i.reverse(),i},this.drawBefore=function(){var t=this.initDomain(),e=this.getGridSize();if(this.scale=i.linear().domain(t),"left"==this.grid.orient||"right"==this.grid.orient)var r=[e.end,e.start];else r=[e.start,e.end];this.scale.range(r),this.scale.clamp(this.grid.clamp),this.start=e.start,this.size=e.size,this.end=e.end,this.step=t.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),"left"!=this.grid.orient&&"right"!=this.grid.orient||this.ticks.reverse(),this.bar=6,this.values=[];for(var n=0,a=this.ticks.length;n<a;n++)this.values[n]=this.scale(this.ticks[n])},this.draw=function(){return this.drawGrid("range")}};return r.setup=function(){return{domain:null,step:10,min:0,max:0,unit:null,clamp:!0,reverse:!1,key:null,hideText:!1,nice:!1}},r}},st={name:"chart.grid.log",extend:"chart.grid.range",component:function(){var t=u.include("util.scale"),e=function(){this.drawBefore=function(){this.grid.unit=!1;var e=this.initDomain(),i=this.getGridSize();if(this.scale=t.log(this.grid.base).domain(e),"left"==this.grid.orient||"right"==this.grid.orient)var r=[i.end,i.start];else r=[i.start,i.end];this.scale.range(r),this.start=i.start,this.size=i.size,this.end=i.end,this.step=this.grid.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),"left"!=this.grid.orient&&"right"!=this.grid.orient||this.ticks.reverse(),this.bar=6,this.values=[];for(var n=0,a=this.ticks.length;n<a;n++)this.values[n]=this.scale(this.ticks[n])},this.draw=function(){return this.drawGrid("log")}};return e.setup=function(){return{base:10,step:4,nice:!1,hideText:!1}},e}},ht={name:"chart.grid.rule",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=u.include("util.scale"),i=function(){this.top=function(t){var e=this.axis.area("height")/2;t.append(this.axisLine({y1:this.center?e:0,y2:this.center?e:0,x1:this.start,x2:this.end}));for(var i=this.ticks,r=this.values,n=this.bar,a=0;a<i.length;a++){var o=this.format(i[a],a);if(o||0===o){var s=0==i[a],h=this.chart.svg.group().translate(r[a],this.center?e:0);h.append(this.line({y1:this.center?-n:0,y2:n,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!s||s&&!this.hideZero)&&h.append(this.getTextRotate(this.chart.text({x:0,y:n+n+4,"text-anchor":"middle",fill:this.chart.theme("gridFontColor")},o))),t.append(h)}}},this.bottom=function(t){var e=this.axis.area("height")/2;t.append(this.axisLine({y1:this.center?-e:0,y2:this.center?-e:0,x1:this.start,x2:this.end}));for(var i=this.ticks,r=this.values,n=this.bar,a=0;a<i.length;a++){var o=this.format(i[a],a);if(o||0===o){var s=0==i[a],h=this.chart.svg.group().translate(r[a],this.center?-e:0);h.append(this.line({y1:this.center?-n:0,y2:this.center?n:-n,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!s||s&&!this.hideZero)&&h.append(this.getTextRotate(this.chart.text({x:0,y:2*-n,"text-anchor":"middle",fill:this.chart.theme(s,"gridActiveFontColor","gridFontColor")},o))),t.append(h)}}},this.left=function(t){var e=this.axis.area("width"),i=(this.axis.area("height"),e/2);t.append(this.axisLine({x1:this.center?i:0,x2:this.center?i:0,y1:this.start,y2:this.end}));for(var r=this.ticks,n=this.values,a=this.bar,o=0;o<r.length;o++){var s=this.format(r[o],o);if(s||0===s){var h=0==r[o],l=this.chart.svg.group().translate(this.center?i:0,n[o]);l.append(this.line({x1:this.center?-a:0,x2:a,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!h||h&&!this.hideZero)&&l.append(this.getTextRotate(this.chart.text({x:a/2+4,y:a-2,fill:this.chart.theme("gridFontColor")},s))),t.append(l)}}},this.right=function(t){var e=this.axis.area("width")/2;t.append(this.axisLine({x1:this.center?-e:0,x2:this.center?-e:0,y1:this.start,y2:this.end}));for(var i=this.ticks,r=this.values,n=this.bar,a=0;a<i.length;a++){var o=this.format(i[a],a);if(o||0===o){var s=0==i[a],h=this.chart.svg.group().translate(this.center?-e:0,r[a]);h.append(this.line({x1:this.center?-n:0,x2:this.center?n:-n,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!s||s&&!this.hideZero)&&h.append(this.getTextRotate(this.chart.text({x:-n-4,y:n-2,"text-anchor":"end",fill:this.chart.theme("gridFontColor")},o))),t.append(h)}}},this.wrapper=function(e,i){var r=e,n=this;return i?t.extend(function(t){return r(n.axis.data[t][i])},r):r},this.initDomain=function(){var e=[],i=this.grid.min||void 0,r=this.grid.max||void 0,n=this.data(),a=[];if(t.typeCheck("string",this.grid.domain)){var o=this.grid.domain;a=new Array(n.length);for(var s=0,h=n.length;s<h;s++){var l=n[s][o];t.typeCheck("array",l)?(a[s]=Math.max(l),a.push(Math.min(l))):a[s]=l}}else if(t.typeCheck("function",this.grid.domain)){a=new Array(n.length);for(s=0,h=n.length;s<h;s++){l=this.grid.domain.call(this.chart,n[s]);t.typeCheck("array",l)?(a[s]=Math.max.apply(Math,l),a.push(Math.min.apply(Math,l))):a[s]=l}}else a=grid.domain;var c,u=Math.min.apply(Math,a),d=Math.max.apply(Math,a);if(void 0===i&&(i=u),void 0===r&&(r=d),this.grid.max=r,this.grid.min=i,0==(c=t.typeCheck("function",this.grid.unit)?this.grid.unit.call(this.chart,this.grid):t.typeCheck("number",this.grid.unit)?this.grid.unit:Math.ceil((r-i)/this.grid.step)))e=[0,0];else{for(var f=0;f<r;)f+=c;for(var g=f;g>i;)g-=c;e=[g,f]}return this.grid.reverse&&e.reverse(),e},this.drawBefore=function(){var t=this.initDomain(),i=this.getGridSize();if(this.scale=e.linear().domain(t),"left"==this.grid.orient||"right"==this.grid.orient)var r=[i.end,i.start];else r=[i.start,i.end];this.scale.range(r),this.start=i.start,this.size=i.size,this.end=i.end,this.step=this.grid.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),this.bar=6,this.hideZero=this.grid.hideZero,this.center=this.grid.center,this.values=[];for(var n=0,a=this.ticks.length;n<a;n++)this.values[n]=this.scale(this.ticks[n])},this.draw=function(){return this.drawGrid(chart,orient,"rule",grid)}};return i.setup=function(){return{domain:null,step:10,min:0,max:0,unit:null,clamp:!0,reverse:!1,key:null,hideText:!1,hideZero:!1,nice:!1,center:!1}},i}},lt={name:"chart.grid.panel",extend:"chart.grid.core",component:function(){var t=u.include("util.base");return function(){this.custom=function(e){var i=this.scale(0);i.x-=this.axis.area("x"),i.y-=this.axis.area("y"),e.append(this.chart.svg.rect(t.extend(i,{fill:"transparent",stroke:"transparent"})))},this.drawBefore=function(){this.scale=function(t){return function(e){return{x:t.area("x"),y:t.area("y"),width:t.area("width"),height:t.area("height")}}}(this.axis)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("panel")}}}},ct={name:"chart.grid.table",extend:"chart.grid.core",component:function(){var t=function(t,e,i){this.custom=function(t){for(var e=0;e<void 0;e++)for(var i=0;i<void 0;i++){var r=void 0*e+i,n=this.scale(r);n.x-=this.axis.area("x"),n.y-=this.axis.area("y");this.chart.svg.rect(_.extend(n,{fill:"tranparent",stroke:"black"}))}},this.drawBefore=function(){var t=this.grid.rows,e=this.grid.columns,i=this.grid.padding,r=(this.axis.area("width")-(e-1)*i)/e,n=(this.axis.area("height")-(t-1)*i)/t;this.scale=function(t,e,r,n,a){return function(e){var o=Math.floor(e/r),s=e%r,h=s*a,l=o*n,c=i*s,u=i*o;return{x:t.area("x")+h+c,y:t.area("y")+l+u,width:a,height:n}}}(this.axis,0,e,n,r)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("table")}};return t.setup=function(){return{rows:1,columns:1,padding:10}},t}},ut={name:"chart.grid.overlap",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=function(){var e,i,r,n,a;this.custom=function(){for(var e=0,i=this.axis.data.length;e<i;e++){var r=this.scale(e);r.x-=this.axis.area("x"),r.y-=this.axis.area("y"),this.chart.svg.rect(t.extend(r,{fill:"transparent",stroke:"transparent"}))}},this.drawBefore=function(){e=this.grid.count||this.axis.data.length||1,i=this.axis.area("width")/2/e,r=this.axis.area("height")/2/e,n=this.axis.area("width"),a=this.axis.area("height"),this.scale=function(t){return function(e){var o=e*i,s=e*r;return{x:t.area("x")+o,y:t.area("y")+s,width:2*Math.abs(n/2-o),height:2*Math.abs(a/2-s)}}}(this.axis)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("overlap")}};return e.setup=function(){return{count:null}},e}};u.use([f]);var dt={name:"chart.grid.grid3d",extend:"chart.grid.core",component:function(){var t=u.include("util.base"),e=u.include("util.math"),i=function(){var i=this,r=0,n=0,a=0;function o(t){var e=null;return t.each(function(t,i){"line"==i.element.nodeName&&(e=i.attributes)}),e}this.drawBefore=function(){r=this.axis.get("depth"),n=this.axis.get("degree"),a=e.radian(360-n),this.scale=(this.axis,function(e,n,o,s){var h=t.typeCheck("integer",s)?s:1,l=r/h;if(void 0==o||1==h)return{x:i.axis.x(e),y:i.axis.y(n),depth:l};var c=l*(o=void 0==o?0:o),u=Math.sin(a)*l;return{x:i.axis.x(e)+Math.cos(a)*c,y:i.axis.y(n)+Math.sin(a)*c+u,depth:l}}),this.scale.depth=r,this.scale.degree=n,this.scale.radian=a},this.draw=function(){var t=this.axis.x.root,e=this.axis.y.root,n=Math.sin(a)*r,s=Math.cos(a)*r;return e.each(function(r,a){if("line"==a.element.nodeName)e.append(i.line({x1:s,y1:0,x2:s,y2:n+a.attributes.y2}));else{var h=o(t);a.append(i.line({x1:0,y1:0,x2:s,y2:n})),a.append(i.line({x1:s,y1:n,x2:s+h.x2,y2:n}))}}),t.each(function(t,n){var s="line"==n.element.nodeName?n.attributes:n.get(0).attributes,h=s.y1+Math.sin(a)*r,l=s.x1+Math.cos(a)*r;if(t>0){var c=o(e);n.append(i.line({x1:s.x1,y1:s.y1,x2:l,y2:h})),n.append(i.line({x1:l,y1:h,x2:l,y2:-(c.y2-h)}))}}),this.drawGrid()}};return i.setup=function(){return{domain:null}},i}};u.use(I,d);var ft={name:"chart.brush.core",extend:"chart.draw",component:function(){var t=u.include("util.base"),e=u.include("util.dom"),i=function(){this.drawAfter=function(t){!1!==this.brush.clip&&t.attr({"clip-path":"url(#"+this.axis.get("clipId")+")"}),t.attr({class:"brush-"+this.brush.type}),t.translate(this.chart.area("x"),this.chart.area("y"))},this.drawTooltip=function(t,e,i){var r=this,n=null;return{tooltip:n=r.chart.svg.group({visibility:"hidden"},function(){r.chart.text({fill:r.chart.theme("tooltipPointFontColor"),"font-size":r.chart.theme("tooltipPointFontSize"),"font-weight":r.chart.theme("tooltipPointFontWeight"),"text-anchor":"middle",opacity:i}),r.chart.svg.circle({r:r.chart.theme("tooltipPointRadius"),fill:t,stroke:e,opacity:i,"stroke-width":r.chart.theme("tooltipPointBorderWidth")})}),control:function(t,e,i,r){var a=n.get(0);a.element.textContent=r,"left"==t?a.attr({x:-7,y:4,"text-anchor":"end"}):"right"==t?a.attr({x:7,y:4,"text-anchor":"start"}):"bottom"==t?a.attr({y:16}):a.attr({y:-7}),n.attr({visibility:0!=r?"visible":"hidden"}),n.translate(e,i)},style:function(t,e,i){n.get(0).attr({opacity:i}),n.get(1).attr({fill:t,stroke:e,opacity:i})}}},this.curvePoints=function(t){var e=[],i=[],r=t.length-1,n=[],a=[],o=[],s=[];for(n[0]=0,a[0]=2,o[0]=1,s[0]=t[0]+2*t[1],h=1;h<r-1;h++)n[h]=1,a[h]=4,o[h]=1,s[h]=4*t[h]+2*t[h+1];n[r-1]=2,a[r-1]=7,o[r-1]=0,s[r-1]=8*t[r-1]+t[r];for(var h=1;h<r;h++){var l=n[h]/a[h-1];a[h]=a[h]-l*o[h-1],s[h]=s[h]-l*s[h-1]}e[r-1]=s[r-1]/a[r-1];for(h=r-2;h>=0;--h)e[h]=(s[h]-o[h]*e[h+1])/a[h];for(h=0;h<r-1;h++)i[h]=2*t[h+1]-e[h+1];return i[r-1]=.5*(t[r]+e[r-1]),{p1:e,p2:i}},this.eachData=function(e,i){if(t.typeCheck("function",e)){var r=this.listData();if(!0===i)for(var n=r.length-1;n>=0;n--)e.call(this,n,r[n]);else{var a=0;for(n=r.length;a<n;a++)e.call(this,r[a],a)}}},this.listData=function(){return this.axis&&this.axis.data?this.axis.data:[]},this.getData=function(t){return this.listData()[t]},this.getValue=function(t,e,i){return this.axis.getValue(t,e,i)},this.getXY=function(e){var i=[],r={},n=this.listData().length,a=n,o=this.brush.target,s=o.length;!1!==e&&(r=function(t,e){for(var i={},r={},n=0;n<e.length;n++)i[e[n]]||(r[e[n]]=[]);n=0;for(var a=t.length;n<a;n++){var o=t[n];for(var s in r)r[s].push(o[s])}for(var h in r)i[h]={min:Math.min.apply(Math,r[h]),max:Math.max.apply(Math,r[h])};return i}(this.axis.data,o));for(var h=0;h<s;h++)i[h]={x:new Array(n),y:new Array(n),value:new Array(n),min:[],max:[],length:n};var l=this.axis.data,c="range"==this.axis.y.type,u=this.axis.x,d=this.axis.y;return t.loop(a)(function(t,n){var a=l[t],h=0,f=0;c?h=u(t):f=d(t);for(var g=0;g<s;g++){var p=o[g],v=a[p];c?f=d(v):h=u(v),i[g].x[t]=h,i[g].y[t]=f,i[g].value[t]=v,!1!==e&&(i[g].min[t]=v==r[p].min,i[g].max[t]=v==r[p].max)}}),i},this.getStackXY=function(t){var e=this.getXY(t),i="range"==this.axis.y.type;return this.eachData(function(t,r){for(var n=0,a=0;a<this.brush.target.length;a++){var o=t[this.brush.target[a]];a>0&&(n+=t[this.brush.target[a-1]]),i?e[a].y[r]=this.axis.y(o+n):e[a].x[r]=this.axis.x(o+n)}}),e},this.addEvent=function(i,r,n){if(!0===this.brush.useEvent){var a=this.chart,o={};t.typeCheck("object",r)&&!n?(o.brush=this.brush,o.data=r):(o.brush=this.brush,o.dataIndex=r,o.dataKey=null!=n?this.brush.target[n]:null,o.data=null!=r?this.getData(r):null),i.on("click",function(t){s(t),a.emit("click",[o,t])}),i.on("dblclick",function(t){s(t),a.emit("dblclick",[o,t])}),i.on("contextmenu",function(t){s(t),a.emit("rclick",[o,t]),t.preventDefault()}),i.on("mouseover",function(t){s(t),a.emit("mouseover",[o,t])}),i.on("mouseout",function(t){s(t),a.emit("mouseout",[o,t])}),i.on("mousemove",function(t){s(t),a.emit("mousemove",[o,t])}),i.on("mousedown",function(t){s(t),a.emit("mousedown",[o,t])}),i.on("mouseup",function(t){s(t),a.emit("mouseup",[o,t])})}function s(t){var i=e.offset(a.root),r=t.pageX-i.left,n=t.pageY-i.top;t.bgX=r,t.bgY=n,t.chartX=r-a.padding("left"),t.chartY=n-a.padding("top")}},this.color=function(e,i){var r=this.brush.colors,n=null,a=0,o=0;if(t.typeCheck("undefined",i)?a=e:(a=i,o=e),t.typeCheck("function",r)){var s=r.call(this.chart,this.getData(o),o);n=t.typeCheck(["string","integer"],s)?this.chart.color(s):t.typeCheck("array",s)?this.chart.color(a,s):this.chart.color(0)}else n=this.chart.color(a,r);return n},this.offset=function(t,e){var i=this.axis[t](e);return"block"!=this.axis[t].type&&(i+=this.axis[t].rangeBand()/2),i}};return i.setup=function(){return{target:null,colors:null,axis:0,index:null,clip:!0,useEvent:!0}},i}},gt={name:"chart.brush.canvas.core",extend:"chart.brush.core",component:function(){var t=u.include("util.base");return function(){this.addPolygon=function(e,i){t.typeCheck("array",this.polygons)||(this.polygons=[]),this.calculate3d(e),this.polygons.push({polygon:e,order:this.axis.depth-e.max().z,handler:i})},this.drawAfter=function(){if(t.typeCheck("array",this.polygons)){var e=this.polygons;e.sort(function(t,e){return t.order-e.order});for(var i=0,r=e.length;i<r;i++){var n=e.shift();n.handler.call(this,n.polygon)}}}}}};u.use(I);var pt={name:"chart.widget.core",extend:"chart.draw",component:function(){var t=u.include("util.base"),e=function(){this.getIndexArray=function(e){var i=[0];return t.typeCheck("array",e)?i=e:t.typeCheck("integer",e)&&(i=[e]),i},this.getScaleToValue=function(t,e,i,r,n){var a=n-(n-r)/(10*(i-e))*((t-e)/.1);return a<r?r:a>n?n:a},this.getValueToScale=function(t,e,i,r,n){return parseFloat((r+(i-t)/((i-e)/(10*(n-r)))*.1).toFixed(1))},this.isRender=function(){return!0===this.widget.render},this.on=function(e,i,r){var n=this;return this.chart.on(e,function(){if(t.startsWith(e,"axis.")&&t.typeCheck("integer",r)){var a=n.chart.axis(r),o=arguments[0];t.typeCheck("object",a)&&arguments[1]==r&&i.apply(n,[o])}else i.apply(n,arguments)},this.isRender()?"render":"renderAll")},this.drawAfter=function(t){t.attr({class:"widget-"+this.widget.type})}};return e.setup=function(){return{render:!1,index:0}},e}};u.use([d,f,g,p,v,m,y,x,b,k,B,A,F,T,M,S,z,O,E,P,{name:"util.scale.circle",extend:null,component:function(){return function(){var t=[],e=[],i=0;function r(t){}return r.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},r.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},r.rangePoints=function(n,a){a=a||0;for(var o=t.length,s=(n[1]-n[0]-a)/o,h=[],l=0;l<t.length;l++)h[l]=0==l?n[0]+a/2+s/2:h[l-1]+s;return e=h,i=s,r},r.rangeBands=function(n,a,o){a=a||0,o=o||0;for(var s=t.length-1,h=(n[1]-n[0])/s,l=[],c=0;c<t.length;c++)l[c]=0==c?n[0]:h+l[c-1];return i=h,e=l,r},r.rangeBand=function(){return i},r}}},L,R,W,D,j,I,N,X,Y,V,U,H,G,q,Z,J,K,Q,tt,et,it,rt,nt,at,ot,st,ht,lt,ct,ut,dt,ft,{name:"chart.brush.map.core",extend:"chart.brush.core",component:function(){return function(){}}},{name:"chart.brush.polygon.core",extend:"chart.brush.core",component:function(){var t=function(){this.createPolygon=function(t,e){this.calculate3d(t);var i=e.call(this,t);if(i)return i.order=this.axis.depth-t.max().z,i}};return t.setup=function(){return{id:null,clip:!1}},t}},gt,pt,{name:"chart.widget.map.core",extend:"chart.widget.core",component:function(){var t=function(t,e,i){};return t.setup=function(){return{axis:0}},t}},{name:"chart.widget.polygon.core",extend:"chart.widget.core",component:function(){return function(){this.drawAfter=function(t){}}}},{name:"chart.widget.canvas.core",extend:"chart.widget.core",component:function(){return function(){this.drawAfter=function(t){}}}}]);var vt=u.include("util.base"),mt=u.include("manager");vt.extend(u,mt,!0),e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.icon.classic",extend:null,component:function(){return{"chevron-left":"",iframe:"",textbox:"",arrow5:"",arrow7:"",loveit2:"",favorites2:"",favorites1:"",arrow6:"",happy2:"",unhappy2:"",happy:"",gear2:"",expand:"",export:"",back:"","report-link":"","chevron-right":"",dot:"",list1:"",pause:"",minus:"",plus:"",close:"",tool2:"",time:"",check:"",download:"",upload:"",layout3:"",tool:"",screenshot:"",server:"",slider:"",statistics:"",themes:"",was:"",realtime:"",report2:"",resize:"",return:"",label:"",mail:"",message:"",monitoring:"",grip1:"",grip2:"",grip3:"",dashboard:"",domain:"",edit:"",etc:"","chart-candle":"","chart-gauge":"",arrow2:"",arrow4:"",bell:"",info:"",tumblr:"",kakao:"",googleplus2:"",close2:"",facebook2:"",github2:"",hierarchy:"",loveit:"",return2:"",theme:"","line-merge":"","line-separate":"",enter:"",ws:"",clip:"",scissors:"",topology:"",equalizer:"",idea:"",tag:"",all:"",cursor1:"",roundsquare:"",paintbucket:"",square:"",circle:"",eraser:"",paintbrush:"",pen:"",eyedropper:"","x-mark":"",server2:"",server1:"",unhappy:"",layout2:"",layout1:"",d:"",cursor:"",feed:"",filter:"",column:"",analysis:"",wireless:"",network:"",cloud:"",checkbox:"",checkbox2:"",stop:"",link2:"",minus2:"",more:"",zip:"",mobile:"",tablet:"",share2:"",caution3:"",lock:"",script:"",business:"",build:"",themes2:"",pin:"",template:"","line-height":"",outdent:"",indent:"",like:"",blogger:"",github:"",facebook:"",googleplus:"",share:"",twitter:"",image:"",refresh2:"",connection:"",analysis2:"","chart-scatter":"","chart-radar":"","chart-area":"","chart-column":"","chart-bar":"","chart-line":"","info-message":"",report:"",menu:"","report-build":"","jennifer-server":"",user:"",rule:"",profile:"",device:"",caution2:"",db:"",checkmark:"",stoppage:"","align-right":"",caution:"",loading:"",play:"",right:"",left:"",bold:"",chart:"",document:"",link:"",arrow3:"",arrow1:"",textcolor:"",text:"",refresh:"","align-center":"","align-left":"",preview:"",exit:"",dashboardlist:"","add-dir":"","add-dir2":"",calendar:"",gear:"",help:"",hide:"",home:"",html:"",italic:"","new-window":"",orderedlist:"",printer:"",save:"",search:"",table:"",trashcan:"",underline:"",unorderedlist:""}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.pattern.classic",extend:null,component:function(){return{10:{type:"pattern",attr:{id:"pattern-jennifer-10",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUCNdjEBRg6GhgcHFgUFLAxQYAaTkFzlvDQuIAAAAASUVORK5CYII=",width:12,height:12}}]},11:{type:"pattern",attr:{id:"pattern-jennifer-11",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABJJREFUCNdjMDZgOHOAAQxwsQF00wXOMquS/QAAAABJRU5ErkJggg==",width:12,height:12}}]},12:{type:"pattern",attr:{id:"pattern-jennifer-12",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABBJREFUCNdj+P8BioAABxsAU88RaA20zg0AAAAASUVORK5CYII=",width:12,height:12}}]},"01":{type:"pattern",attr:{id:"pattern-jennifer-01",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABVJREFUCNdjKC9g+P+B4e4FIImLDQBPxxNXosybYgAAAABJRU5ErkJggg==",width:12,height:12}}]},"02":{type:"pattern",attr:{id:"pattern-jennifer-02",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABNJREFUCNdj6GhgAAIlBSCBiw0AUpID3xszyekAAAAASUVORK5CYII=",width:12,height:12}}]},"03":{type:"pattern",attr:{id:"pattern-jennifer-03",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAA9JREFUCNdj+P+BAQzwMACirge9PFNsFQAAAABJRU5ErkJggg==",width:12,height:12}}]},"04":{type:"pattern",attr:{id:"pattern-jennifer-04",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAACVBMVEUAAAAaGRkWFhUIIaslAAAAAXRSTlMAQObYZgAAACFJREFUCNdj6HBpYQABjw4wDeS7QPgtENrFxQNCe3SAKAC36AapdMh8ewAAAABJRU5ErkJggg==",width:12,height:12}}]},"05":{type:"pattern",attr:{id:"pattern-jennifer-05",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAALCwvdFFZtAAAAAXRSTlMAQObYZgAAAA1JREFUCNdjWLWAIAIAFt8Ped1+QPcAAAAASUVORK5CYII=",width:12,height:12}}]},"06":{type:"pattern",attr:{id:"pattern-jennifer-06",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAALCwvdFFZtAAAAAXRSTlMAQObYZgAAAA9JREFUCNdj+P+BAQjwkgDijAubMqjSSAAAAABJRU5ErkJggg==",width:12,height:12}}]},"07":{type:"pattern",attr:{id:"pattern-jennifer-07",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAACVBMVEUAAAAAAAAMDAwvehODAAAAAXRSTlMAQObYZgAAAA5JREFUCNdjmDJlCikYAPO/FNGPw+TMAAAAAElFTkSuQmCC",width:12,height:12}}]},"08":{type:"pattern",attr:{id:"pattern-jennifer-08",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUCNdjKC9gePeA4e4Fht0bcLEBM1MRaPwhp7AAAAAASUVORK5CYII=",width:12,height:12}}]},"09":{type:"pattern",attr:{id:"pattern-jennifer-09",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUCNdjePeAobyAYfcGhrsXcLEBOSARaPIjMTsAAAAASUVORK5CYII=",width:12,height:12}}]}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.theme.classic",extend:null,component:function(){return{fontFamily:"arial,Tahoma,verdana",backgroundColor:"#fff",colors:["#7977C2","#7BBAE7","#FFC000","#FF7800","#87BB66","#1DA8A0","#929292","#555D69","#0298D5","#FA5559","#F5A397","#06D9B6","#C6A9D9","#6E6AFC","#E3E766","#C57BC3","#DF328B","#96D7EB","#839CB5","#9228E4"],axisBackgroundColor:"#fff",axisBackgroundOpacity:0,axisBorderColor:"#fff",axisBorderWidth:0,axisBorderRadius:0,gridXFontSize:11,gridYFontSize:11,gridZFontSize:10,gridCFontSize:11,gridXFontColor:"#333",gridYFontColor:"#333",gridZFontColor:"#333",gridCFontColor:"#333",gridXFontWeight:"normal",gridYFontWeight:"normal",gridZFontWeight:"normal",gridCFontWeight:"normal",gridXAxisBorderColor:"#bfbfbf",gridYAxisBorderColor:"#bfbfbf",gridZAxisBorderColor:"#bfbfbf",gridXAxisBorderWidth:2,gridYAxisBorderWidth:2,gridZAxisBorderWidth:2,gridFaceBackgroundColor:"#dcdcdc",gridFaceBackgroundOpacity:.3,gridActiveFontColor:"#ff7800",gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gridPatternColor:"#ababab",gridPatternOpacity:.1,gridBorderColor:"#ebebeb",gridBorderWidth:1,gridBorderDashArray:"none",gridBorderOpacity:1,gridTickBorderSize:3,gridTickBorderWidth:1.5,gridTickPadding:5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",tooltipPointFontSize:11,tooltipPointFontColor:"#333",barFontSize:11,barFontColor:"#333",barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,barBorderRadius:3,barPointBorderColor:"#fff",barDisableBackgroundOpacity:.4,barStackEdgeBorderWidth:1,rateBarFontSize:11,rateBarFontColor:"#333",rateBarBorderColor:"none",rateBarBorderWidth:0,rateBarBorderOpacity:0,rateBarBorderRadius:5,rateBarDisableBackgroundOpacity:.7,rateBarTooltipFontSize:10,rateBarTooltipFontColor:"#333",rateBarTooltipBackgroundColor:"#fff",rateBarTooltipBorderColor:"#666666",gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#a9a9a9",gaugeFontColor:"#666666",gaugeFontSize:20,gaugeFontWeight:"bold",gaugeTitleFontSize:12,gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#333",gaugePaddingAngle:2,bargaugeBackgroundColor:"#ececec",bargaugeFontSize:11,bargaugeFontColor:"#333333",pieBorderColor:"#ececec",pieBorderWidth:1,pieOuterFontSize:11,pieOuterFontColor:"#333",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieOuterLineWidth:.7,pieInnerFontSize:11,pieInnerFontColor:"#333",pieActiveDistance:5,pieNoDataBackgroundColor:"#E9E9E9",pieTotalValueFontSize:36,pieTotalValueFontColor:"#dcdcdc",pieTotalValueFontWeight:"bold",pieDisableBackgroundOpacity:.5,areaBackgroundOpacity:.5,areaSplitBackgroundColor:"#929292",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,bubbleFontSize:12,bubbleFontColor:"#fff",candlestickBorderColor:"#000",candlestickBackgroundColor:"#fff",candlestickInvertBorderColor:"#ff0000",candlestickInvertBackgroundColor:"#ff0000",ohlcBorderColor:"#000",ohlcInvertBorderColor:"#ff0000",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineBorderOpacity:1,lineDisableBorderOpacity:.3,linePointBorderColor:"#fff",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.5,pathBorderWidth:1,scatterBorderColor:"#fff",scatterBorderWidth:1,scatterHoverColor:"#fff",waterfallBackgroundColor:"#87BB66",waterfallInvertBackgroundColor:"#FF7800",waterfallEdgeBackgroundColor:"#7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:10,pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:14,topologyNodeFontColor:"#fff",topologyNodeTitleFontSize:11,topologyNodeTitleFontColor:"#333",topologyEdgeWidth:1,topologyActiveEdgeWidth:2,topologyHoverEdgeWidth:2,topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyHoverEdgeColor:"#d3bdeb",topologyEdgeFontSize:10,topologyEdgeFontColor:"#666",topologyEdgePointRadius:3,topologyEdgeOpacity:1,topologyTooltipBackgroundColor:"#fff",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:11,topologyTooltipFontColor:"#333",timelineTitleFontSize:10,timelineTitleFontColor:"#333",timelineTitleFontWeight:700,timelineColumnFontSize:10,timelineColumnFontColor:"#333",timelineColumnBackgroundColor:"#fff",timelineHoverRowBackgroundColor:"#f4f0f9",timelineEvenRowBackgroundColor:"#f8f8f8",timelineOddRowBackgroundColor:"#fff",timelineActiveBarBackgroundColor:"#9262cf",timelineActiveBarFontColor:"#fff",timelineActiveBarFontSize:9,timelineHoverBarBackgroundColor:null,timelineLayerBackgroundOpacity:.15,timelineActiveLayerBackgroundColor:"#A75CFF",timelineActiveLayerBorderColor:"#caa4f5",timelineHoverLayerBackgroundColor:"#DEC2FF",timelineHoverLayerBorderColor:"#caa4f5",timelineVerticalLineColor:"#f0f0f0",timelineHorizontalLineColor:"#ddd",heatmapBackgroundColor:"#fff",heatmapBackgroundOpacity:1,heatmapHoverBackgroundOpacity:.2,heatmapBorderColor:"#000",heatmapBorderWidth:.5,heatmapBorderOpacity:1,heatmapFontSize:11,heatmapFontColor:"#000",pyramidLineColor:"#fff",pyramidLineWidth:1,pyramidTextLineColor:"#a9a9a9",pyramidTextLineWidth:1,pyramidTextLineSize:30,pyramidTextFontSize:10,pyramidTextFontColor:"#333",heatmapscatterBorderWidth:.5,heatmapscatterBorderColor:"#fff",heatmapscatterActiveBackgroundColor:"#fff",treemapNodeBorderWidth:.5,treemapNodeBorderColor:"#333",treemapTextFontSize:11,treemapTextFontColor:"#333",treemapTitleFontSize:12,treemapTitleFontColor:"#333",arcEqualizerBorderColor:"#fff",arcEqualizerBorderWidth:1,arcEqualizerFontSize:13,arcEqualizerFontColor:"#333",arcEqualizerBackgroundColor:"#a9a9a9",flameNodeBorderWidth:.5,flameNodeBorderColor:"#fff",flameDisableBackgroundOpacity:.4,flameTextFontSize:11,flameTextFontColor:"#333",selectBoxBackgroundColor:"#666",selectBoxBackgroundOpacity:.1,selectBoxBorderColor:"#666",selectBoxBorderOpacity:.2,titleFontColor:"#333",titleFontSize:13,titleFontWeight:"normal",legendFontColor:"#333",legendFontSize:12,legendSwitchCircleColor:"#fff",legendSwitchDisableColor:"#c8c8c8",tooltipFontColor:"#333",tooltipFontSize:12,tooltipBackgroundColor:"#fff",tooltipBackgroundOpacity:.7,tooltipBorderColor:null,tooltipBorderWidth:2,tooltipLineColor:null,tooltipLineWidth:.7,scrollBackgroundSize:7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"#ff0000",zoomFocusColor:"#808080",zoomScrollBackgroundSize:45,zoomScrollButtonSize:18,zoomScrollAreaBackgroundColor:"#fff",zoomScrollAreaBackgroundOpacity:.7,zoomScrollAreaBorderColor:"#d4d4d4",zoomScrollAreaBorderWidth:1,zoomScrollAreaBorderRadius:3,zoomScrollGridFontSize:10,zoomScrollGridTickPadding:4,zoomScrollBrushAreaBackgroundOpacity:.7,zoomScrollBrushLineBorderWidth:1,crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:11,crossBalloonFontColor:"#fff",crossBalloonBackgroundColor:"#000",crossBalloonBackgroundOpacity:.5,dragSelectBackgroundColor:"#7BBAE7",dragSelectBackgroundOpacity:.3,dragSelectBorderColor:"#7BBAE7",dragSelectBorderWidth:1,guidelineBorderColor:"#a9a9a9",guidelineBorderWidth:1,guidelineBorderOpacity:.8,guidelineBalloonFontSize:11,guidelineBalloonFontColor:"#fff",guidelineBalloonBackgroundColor:"#000",guidelineBalloonBackgroundOpacity:.5,guidelineBorderDashArray:"2,2",guidelinePointRadius:3,guidelinePointBorderColor:"#fff",guidelinePointBorderWidth:1,guidelineTooltipFontColor:"#333",guidelineTooltipFontSize:12,guidelineTooltipPointRadius:3,guidelineTooltipBackgroundColor:"#fff",guidelineTooltipBackgroundOpacity:.7,guidelineTooltipBorderColor:"#a9a9a9",guidelineTooltipBorderWidth:1,polygonColumnBackgroundOpacity:.6,polygonColumnBorderOpacity:.5,polygonScatterRadialOpacity:.7,polygonScatterBackgroundOpacity:.8,polygonLineBackgroundOpacity:.6,polygonLineBorderOpacity:.7,bubbleCloudFontColor:"#fff",bubbleCloudFontSize:11,bubbleCloudFontWeight:"bold",equalizerColumnErrorBackgroundColor:"#ff0000",equalizerColumnErrorFontColor:"#fff"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.theme.dark",extend:null,component:function(){return{fontFamily:"arial,Tahoma,verdana",backgroundColor:"#222222",colors:["#12f2e8","#26f67c","#e9f819","#b78bf9","#f94590","#8bccf9","#9228e4","#06d9b6","#fc6d65","#f199ff","#c8f21d","#16a6e5","#00ba60","#91f2a1","#fc9765","#f21d4f"],axisBackgroundColor:"#222222",axisBackgroundOpacity:0,axisBorderColor:"#222222",axisBorderWidth:0,axisBorderRadius:0,gridXFontSize:11,gridYFontSize:11,gridZFontSize:10,gridCFontSize:11,gridXFontColor:"#868686",gridYFontColor:"#868686",gridZFontColor:"#868686",gridCFontColor:"#868686",gridXFontWeight:"normal",gridYFontWeight:"normal",gridZFontWeight:"normal",gridCFontWeight:"normal",gridXAxisBorderColor:"#464646",gridYAxisBorderColor:"#464646",gridZAxisBorderColor:"#464646",gridXAxisBorderWidth:2,gridYAxisBorderWidth:2,gridZAxisBorderWidth:2,gridFaceBackgroundColor:"#dcdcdc",gridFaceBackgroundOpacity:.3,gridActiveFontColor:"#ff762d",gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gridPatternColor:"#ababab",gridPatternOpacity:.1,gridBorderColor:"#868686",gridBorderWidth:1,gridBorderDashArray:"none",gridBorderOpacity:1,gridTickBorderSize:3,gridTickBorderWidth:1.5,gridTickPadding:5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",tooltipPointFontSize:11,tooltipPointFontColor:"#868686",barFontSize:11,barFontColor:"#868686",barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,barBorderRadius:3,barActiveBackgroundColor:"#fc6d65",barPointBorderColor:"#fff",barDisableBackgroundOpacity:.4,barStackEdgeBorderWidth:1,rateBarFontSize:11,rateBarFontColor:"#868686",rateBarBorderColor:"none",rateBarBorderWidth:0,rateBarBorderOpacity:0,rateBarBorderRadius:5,rateBarDisableBackgroundOpacity:.7,rateBarTooltipFontSize:10,rateBarTooltipFontColor:"#868686",rateBarTooltipBackgroundColor:"#222",rateBarTooltipBorderColor:"#666666",gaugeBackgroundColor:"#3e3e3e",gaugeArrowColor:"#a6a6a6",gaugeFontColor:"#c5c5c5",gaugeFontSize:20,gaugeFontWeight:"bold",gaugeTitleFontSize:12,gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#c5c5c5",gaugePaddingAngle:2,bargaugeBackgroundColor:"#3e3e3e",bargaugeFontSize:11,bargaugeFontColor:"#c5c5c5",pieBorderColor:"#232323",pieBorderWidth:1,pieOuterFontSize:11,pieOuterFontColor:"#868686",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieOuterLineWidth:.7,pieInnerFontSize:11,pieInnerFontColor:"#868686",pieActiveDistance:5,pieNoDataBackgroundColor:"#E9E9E9",pieTotalValueFontSize:36,pieTotalValueFontColor:"#dcdcdc",pieTotalValueFontWeight:"bold",pieDisableBackgroundOpacity:.5,areaBackgroundOpacity:.5,areaSplitBackgroundColor:"#ebebeb",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,bubbleFontSize:12,bubbleFontColor:"#868686",candlestickBorderColor:"#14be9d",candlestickBackgroundColor:"#14be9d",candlestickInvertBorderColor:"#ff4848",candlestickInvertBackgroundColor:"#ff4848",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineBorderOpacity:1,lineDisableBorderOpacity:.3,linePointBorderColor:"#fff",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.2,pathBorderWidth:1,scatterBorderColor:"none",scatterBorderWidth:1,scatterHoverColor:"#222222",waterfallBackgroundColor:"#26f67c",waterfallInvertBackgroundColor:"#f94590",waterfallEdgeBackgroundColor:"#8bccf9",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:10,pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:14,topologyNodeFontColor:"#c5c5c5",topologyNodeTitleFontSize:11,topologyNodeTitleFontColor:"#c5c5c5",topologyEdgeWidth:1,topologyActiveEdgeWidth:2,topologyHoverEdgeWidth:2,topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyHoverEdgeColor:"#d3bdeb",topologyEdgeFontSize:10,topologyEdgeFontColor:"#c5c5c5",topologyEdgePointRadius:3,topologyEdgeOpacity:1,topologyTooltipBackgroundColor:"#222222",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:11,topologyTooltipFontColor:"#c5c5c5",timelineTitleFontSize:11,timelineTitleFontColor:"#d5d5d5",timelineTitleFontWeight:700,timelineColumnFontSize:10,timelineColumnFontColor:"#d5d5d5",timelineColumnBackgroundColor:"#1c1c1c",timelineHoverRowBackgroundColor:"#2f2f2f",timelineEvenRowBackgroundColor:"#202020",timelineOddRowBackgroundColor:"#1c1c1c",timelineActiveBarBackgroundColor:"#6f32ba",timelineActiveBarFontColor:"#fff",timelineActiveBarFontSize:9,timelineHoverBarBackgroundColor:null,timelineLayerBackgroundOpacity:.1,timelineActiveLayerBackgroundColor:"#7F5FA4",timelineActiveLayerBorderColor:"#7f5fa4",timelineHoverLayerBackgroundColor:"#7F5FA4",timelineHoverLayerBorderColor:"#7f5fa4",timelineVerticalLineColor:"#2f2f2f",timelineHorizontalLineColor:"#4d4d4d",heatmapBackgroundColor:"#222222",heatmapBackgroundOpacity:1,heatmapHoverBackgroundOpacity:.2,heatmapBorderColor:"#fff",heatmapBorderWidth:.5,heatmapBorderOpacity:1,heatmapFontSize:11,heatmapFontColor:"#868686",pyramidLineColor:"#464646",pyramidLineWidth:1,pyramidTextLineColor:"#B2A6A6",pyramidTextLineWidth:1,pyramidTextLineSize:30,pyramidTextFontSize:10,pyramidTextFontColor:"#222",heatmapscatterBorderWidth:.5,heatmapscatterBorderColor:"#222222",heatmapscatterActiveBackgroundColor:"#222222",treemapNodeBorderWidth:.5,treemapNodeBorderColor:"#222222",treemapTextFontSize:11,treemapTextFontColor:"#868686",treemapTitleFontSize:12,treemapTitleFontColor:"#868686",arcEqualizerBorderColor:"#222222",arcEqualizerBorderWidth:1,arcEqualizerFontSize:13,arcEqualizerFontColor:"#868686",arcEqualizerBackgroundColor:"#222222",flameNodeBorderWidth:.5,flameNodeBorderColor:"#222",flameDisableBackgroundOpacity:.4,flameTextFontSize:12,flameTextFontColor:"#868686",selectBoxBackgroundColor:"#fff",selectBoxBackgroundOpacity:.1,selectBoxBorderColor:"#fff",selectBoxBorderOpacity:.2,titleFontColor:"#ffffff",titleFontSize:14,titleFontWeight:"normal",legendFontColor:"#ffffff",legendFontSize:11,legendSwitchCircleColor:"#fff",legendSwitchDisableColor:"#c8c8c8",tooltipFontColor:"#333333",tooltipFontSize:12,tooltipBackgroundColor:"#fff",tooltipBackgroundOpacity:1,tooltipBorderColor:null,tooltipBorderWidth:2,tooltipLineColor:null,tooltipLineWidth:1,scrollBackgroundSize:7,scrollBackgroundColor:"#3e3e3e",scrollThumbBackgroundColor:"#666666",scrollThumbBorderColor:"#686868",zoomBackgroundColor:"#ff0000",zoomFocusColor:"#808080",zoomScrollBackgroundSize:45,zoomScrollButtonSize:18,zoomScrollAreaBackgroundColor:"#fff",zoomScrollAreaBackgroundOpacity:.7,zoomScrollAreaBorderColor:"#d4d4d4",zoomScrollAreaBorderWidth:1,zoomScrollAreaBorderRadius:3,zoomScrollGridFontSize:10,zoomScrollGridTickPadding:4,zoomScrollBrushAreaBackgroundOpacity:.7,zoomScrollBrushLineBorderWidth:1,crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:11,crossBalloonFontColor:"#333",crossBalloonBackgroundColor:"#fff",crossBalloonBackgroundOpacity:1,dragSelectBackgroundColor:"#7BBAE7",dragSelectBackgroundOpacity:.3,dragSelectBorderColor:"#7BBAE7",dragSelectBorderWidth:1,guidelineBorderColor:"#a9a9a9",guidelineBorderWidth:1,guidelineBorderOpacity:.8,guidelineBalloonFontSize:11,guidelineBalloonFontColor:"#fff",guidelineBalloonBackgroundColor:"#000",guidelineBalloonBackgroundOpacity:.5,guidelineBorderDashArray:"2,2",guidelinePointRadius:3,guidelinePointBorderColor:"#fff",guidelinePointBorderWidth:1,guidelineTooltipFontColor:"#333",guidelineTooltipFontSize:12,guidelineTooltipPointRadius:3,guidelineTooltipBackgroundColor:"#fff",guidelineTooltipBackgroundOpacity:.7,guidelineTooltipBorderColor:"#a9a9a9",guidelineTooltipBorderWidth:1,polygonColumnBackgroundOpacity:.6,polygonColumnBorderOpacity:.5,polygonScatterRadialOpacity:.7,polygonScatterBackgroundOpacity:.8,polygonLineBackgroundOpacity:.6,polygonLineBorderOpacity:.7,bubbleCloudFontColor:"#fff",bubbleCloudFontSize:11,bubbleCloudFontWeight:"bold",equalizerColumnErrorBackgroundColor:"#ff0000",equalizerColumnErrorFontColor:"#fff"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.theme.gradient",extend:null,component:function(){return{backgroundColor:"#fff",fontFamily:"arial,Tahoma,verdana",colors:["linear(top) #9694e0,0.9 #7977C2","linear(top) #a1d6fc,0.9 #7BBAE7","linear(top) #ffd556,0.9 #ffc000","linear(top) #ff9d46,0.9 #ff7800","linear(top) #9cd37a,0.9 #87bb66","linear(top) #3bb9b2,0.9 #1da8a0","linear(top) #b3b3b3,0.9 #929292","linear(top) #67717f,0.9 #555d69","linear(top) #16b5f6,0.9 #0298d5","linear(top) #ff686c,0.9 #fa5559","linear(top) #fbbbb1,0.9 #f5a397","linear(top) #3aedcf,0.9 #06d9b6","linear(top) #d8c2e7,0.9 #c6a9d9","linear(top) #8a87ff,0.9 #6e6afc","linear(top) #eef18c,0.9 #e3e768","linear(top) #ee52a2,0.9 #df328b","linear(top) #b6e5f4,0.9 #96d7eb","linear(top) #93aec8,0.9 #839cb5","linear(top) #b76fef,0.9 #9228e4"],axisBackgroundColor:"#fff",axisBackgroundOpacity:0,axisBorderColor:"#fff",axisBorderWidth:0,axisBorderRadius:0,gridXFontSize:11,gridYFontSize:11,gridZFontSize:10,gridCFontSize:11,gridXFontColor:"#666",gridYFontColor:"#666",gridZFontColor:"#666",gridCFontColor:"#666",gridXFontWeight:"normal",gridYFontWeight:"normal",gridZFontWeight:"normal",gridCFontWeight:"normal",gridXAxisBorderColor:"#efefef",gridYAxisBorderColor:"#efefef",gridZAxisBorderColor:"#efefef",gridXAxisBorderWidth:2,gridYAxisBorderWidth:2,gridZAxisBorderWidth:2,gridFaceBackgroundColor:"#dcdcdc",gridFaceBackgroundOpacity:.3,gridActiveFontColor:"#ff7800",gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gridPatternColor:"#ababab",gridPatternOpacity:.1,gridBorderColor:"#efefef",gridBorderWidth:1,gridBorderDashArray:"none",gridBorderOpacity:1,gridTickBorderSize:3,gridTickBorderWidth:1.5,gridTickPadding:5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",tooltipPointFontColor:"#333",barFontSize:11,barFontColor:"#333",barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,barBorderRadius:3,barActiveBackgroundColor:"linear(top) #3aedcf,0.9 #06d9b6",barPointBorderColor:"#fff",barDisableBackgroundOpacity:.4,barStackEdgeBorderWidth:1,rateBarFontSize:11,rateBarFontColor:"#333",rateBarBorderColor:"none",rateBarBorderWidth:0,rateBarBorderOpacity:0,rateBarBorderRadius:5,rateBarDisableBackgroundOpacity:.7,rateBarTooltipFontSize:10,rateBarTooltipFontColor:"#333",rateBarTooltipBackgroundColor:"#fff",rateBarTooltipBorderColor:"#666666",gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#666666",gaugeFontColor:"#666666",gaugeFontSize:20,gaugeFontWeight:"bold",gaugeTitleFontSize:12,gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#333",gaugePaddingAngle:2,bargaugeBackgroundColor:"#ececec",bargaugeFontSize:11,bargaugeFontColor:"#333333",pieBorderColor:"#fff",pieBorderWidth:1,pieOuterFontSize:11,pieOuterFontColor:"#333",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieOuterLineWidth:.7,pieInnerFontSize:11,pieInnerFontColor:"#333",pieActiveDistance:5,pieNoDataBackgroundColor:"#E9E9E9",pieTotalValueFontSize:36,pieTotalValueFontColor:"#dcdcdc",pieTotalValueFontWeight:"bold",pieDisableBackgroundOpacity:.5,areaBackgroundOpacity:.4,areaSplitBackgroundColor:"linear(top) #b3b3b3,0.9 #929292",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,bubbleFontSize:12,bubbleFontColor:"#fff",candlestickBorderColor:"#000",candlestickBackgroundColor:"linear(top) #fff",candlestickInvertBorderColor:"#ff0000",candlestickInvertBackgroundColor:"linear(top) #ff0000",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineBorderOpacity:1,lineDisableBorderOpacity:.3,linePointBorderColor:"#fff",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.5,pathBorderWidth:1,scatterBorderColor:"#fff",scatterBorderWidth:2,scatterHoverColor:"#fff",waterfallBackgroundColor:"linear(top) #9cd37a,0.9 #87bb66",waterfallInvertBackgroundColor:"linear(top) #ff9d46,0.9 #ff7800",waterfallEdgeBackgroundColor:"linear(top) #a1d6fc,0.9 #7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:10,pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:14,topologyNodeFontColor:"#fff",topologyNodeTitleFontSize:11,topologyNodeTitleFontColor:"#333",topologyEdgeWidth:1,topologyActiveEdgeWidth:2,topologyHoverEdgeWidth:2,topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyHoverEdgeColor:"#d3bdeb",topologyEdgeFontSize:10,topologyEdgeFontColor:"#666",topologyEdgePointRadius:3,topologyEdgeOpacity:1,topologyTooltipBackgroundColor:"#fff",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:11,topologyTooltipFontColor:"#333",timelineTitleFontSize:11,timelineTitleFontColor:"#333",timelineTitleFontWeight:700,timelineColumnFontSize:10,timelineColumnFontColor:"#333",timelineColumnBackgroundColor:"linear(top) #f9f9f9,1 #e9e9e9",timelineHoverRowBackgroundColor:"#f4f0f9",timelineEvenRowBackgroundColor:"#fafafa",timelineOddRowBackgroundColor:"#f1f0f3",timelineActiveBarBackgroundColor:"#9262cf",timelineActiveBarFontColor:"#fff",timelineActiveBarFontSize:9,timelineHoverBarBackgroundColor:null,timelineLayerBackgroundOpacity:.15,timelineActiveLayerBackgroundColor:"#A75CFF",timelineActiveLayerBorderColor:"#caa4f5",timelineHoverLayerBackgroundColor:"#DEC2FF",timelineHoverLayerBorderColor:"#caa4f5",timelineVerticalLineColor:"#c9c9c9",timelineHorizontalLineColor:"#d2d2d2",heatmapBackgroundColor:"#fff",heatmapBackgroundOpacity:1,heatmapHoverBackgroundOpacity:.2,heatmapBorderColor:"#000",heatmapBorderWidth:.5,heatmapBorderOpacity:1,heatmapFontSize:11,heatmapFontColor:"#000",pyramidLineColor:"#fff",pyramidLineWidth:1,pyramidTextLineColor:"#a9a9a9",pyramidTextLineWidth:1,pyramidTextLineSize:30,pyramidTextFontSize:10,pyramidTextFontColor:"#333",heatmapscatterBorderWidth:.5,heatmapscatterBorderColor:"#fff",heatmapscatterActiveBackgroundColor:"#fff",treemapNodeBorderWidth:.5,treemapNodeBorderColor:"#333",treemapTextFontSize:11,treemapTextFontColor:"#333",treemapTitleFontSize:12,treemapTitleFontColor:"#333",arcEqualizerBorderColor:"#fff",arcEqualizerBorderWidth:1,arcEqualizerFontSize:13,arcEqualizerFontColor:"#333",arcEqualizerBackgroundColor:"#a9a9a9",flameNodeBorderWidth:.5,flameNodeBorderColor:"#fff",flameDisableBackgroundOpacity:.4,flameTextFontSize:12,flameTextFontColor:"#333",titleFontColor:"#333",titleFontSize:13,titleFontWeight:"normal",legendFontColor:"#666",legendFontSize:12,legendSwitchCircleColor:"#fff",legendSwitchDisableColor:"#c8c8c8",tooltipFontColor:"#333",tooltipFontSize:12,tooltipBackgroundColor:"#fff",tooltipBorderColor:null,tooltipBorderWidth:2,tooltipBackgroundOpacity:1,tooltipLineColor:null,tooltipLineWidth:1,scrollBackgroundSize:7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"#ff0000",zoomFocusColor:"#808080",zoomScrollBackgroundSize:45,zoomScrollButtonSize:18,zoomScrollAreaBackgroundColor:"#fff",zoomScrollAreaBackgroundOpacity:.7,zoomScrollAreaBorderColor:"#d4d4d4",zoomScrollAreaBorderWidth:1,zoomScrollAreaBorderRadius:3,zoomScrollGridFontSize:10,zoomScrollGridTickPadding:4,zoomScrollBrushAreaBackgroundOpacity:.7,zoomScrollBrushLineBorderWidth:1,crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBorderDashArray:"2,2",crossBalloonFontSize:11,crossBalloonFontColor:"#fff",crossBalloonBackgroundColor:"#000",crossBalloonBackgroundOpacity:.8,dragSelectBackgroundColor:"#7BBAE7",dragSelectBackgroundOpacity:.3,dragSelectBorderColor:"#7BBAE7",dragSelectBorderWidth:1,guidelineBorderColor:"#a9a9a9",guidelineBorderWidth:1,guidelineBorderOpacity:.8,guidelineBalloonFontSize:11,guidelineBalloonFontColor:"#fff",guidelineBalloonBackgroundColor:"#000",guidelineBalloonBackgroundOpacity:.5,guidelineBorderDashArray:"2,2",guidelinePointRadius:3,guidelinePointBorderColor:"#fff",guidelinePointBorderWidth:1,guidelineTooltipFontColor:"#333",guidelineTooltipFontSize:12,guidelineTooltipPointRadius:3,guidelineTooltipBackgroundColor:"#fff",guidelineTooltipBackgroundOpacity:.7,guidelineTooltipBorderColor:"#a9a9a9",guidelineTooltipBorderWidth:1,polygonColumnBackgroundOpacity:.6,polygonColumnBorderOpacity:.5,polygonScatterRadialOpacity:.7,polygonScatterBackgroundOpacity:.8,polygonLineBackgroundOpacity:.6,polygonLineBorderOpacity:.7,bubbleCloudFontColor:"#fff",bubbleCloudFontSize:11,bubbleCloudFontWeight:"bold",equalizerColumnErrorBackgroundColor:"#ff0000",equalizerColumnErrorFontColor:"#fff"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.theme.pattern",extend:null,component:function(){return{fontFamily:"arial,Tahoma,verdana",backgroundColor:"#fff",colors:["pattern-jennifer-01","pattern-jennifer-02","pattern-jennifer-03","pattern-jennifer-04","pattern-jennifer-05","pattern-jennifer-06","pattern-jennifer-07","pattern-jennifer-08","pattern-jennifer-09","pattern-jennifer-10","pattern-jennifer-11","pattern-jennifer-12"],axisBackgroundColor:"#fff",axisBackgroundOpacity:0,axisBorderColor:"#fff",axisBorderWidth:0,axisBorderRadius:0,gridXFontSize:11,gridYFontSize:11,gridZFontSize:10,gridCFontSize:11,gridXFontColor:"#333",gridYFontColor:"#333",gridZFontColor:"#333",gridCFontColor:"#333",gridXFontWeight:"normal",gridYFontWeight:"normal",gridZFontWeight:"normal",gridCFontWeight:"normal",gridXAxisBorderColor:"#ebebeb",gridYAxisBorderColor:"#ebebeb",gridZAxisBorderColor:"#ebebeb",gridXAxisBorderWidth:2,gridYAxisBorderWidth:2,gridZAxisBorderWidth:2,gridFaceBackgroundColor:"#dcdcdc",gridFaceBackgroundOpacity:.3,gridActiveFontColor:"#ff7800",gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gridPatternColor:"#ababab",gridPatternOpacity:.1,gridBorderColor:"#ebebeb",gridBorderWidth:1,gridBorderDashArray:"none",gridBorderOpacity:1,gridTickBorderSize:3,gridTickBorderWidth:1.5,gridTickPadding:5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",tooltipPointFontSize:11,tooltipPointFontColor:"#333",barFontSize:11,barFontColor:"#333",barBorderColor:"#000",barBorderWidth:1,barBorderOpacity:1,barBorderRadius:5,barActiveBackgroundColor:"#06d9b6",barPointBorderColor:"#fff",barDisableBackgroundOpacity:.4,barStackEdgeBorderWidth:1,rateBarFontSize:11,rateBarFontColor:"#333",rateBarBorderColor:"none",rateBarBorderWidth:0,rateBarBorderOpacity:0,rateBarBorderRadius:5,rateBarDisableBackgroundOpacity:.7,rateBarTooltipFontSize:10,rateBarTooltipFontColor:"#333",rateBarTooltipBackgroundColor:"#fff",rateBarTooltipBorderColor:"#666666",gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#666666",gaugeFontColor:"#666666",gaugeFontSize:20,gaugeFontWeight:"bold",gaugeTitleFontSize:12,gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#333",gaugePaddingAngle:2,pieBorderColor:"#fff",bargaugeBackgroundColor:"#ececec",bargaugeFontSize:11,bargaugeFontColor:"#333333",pieBorderWidth:1,pieOuterFontSize:11,pieOuterFontColor:"#333",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieOuterLineWidth:.7,pieInnerFontSize:11,pieInnerFontColor:"#333",pieActiveDistance:5,pieNoDataBackgroundColor:"#E9E9E9",pieTotalValueFontSize:36,pieTotalValueFontColor:"#dcdcdc",pieTotalValueFontWeight:"bold",pieDisableBackgroundOpacity:.5,areaBackgroundOpacity:.5,areaSplitBackgroundColor:"#929292",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,bubbleFontSize:12,bubbleFontColor:"#fff",candlestickBorderColor:"#000",candlestickBackgroundColor:"#fff",candlestickInvertBorderColor:"#ff0000",candlestickInvertBackgroundColor:"#ff0000",ohlcBorderColor:"#000",ohlcInvertBorderColor:"#ff0000",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineBorderOpacity:1,lineDisableBorderOpacity:.3,linePointBorderColor:"#fff",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.5,pathBorderWidth:1,scatterBorderColor:"#fff",scatterBorderWidth:1,scatterHoverColor:"#fff",waterfallBackgroundColor:"#87BB66",waterfallInvertBackgroundColor:"#FF7800",waterfallEdgeBackgroundColor:"#7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:10,pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:14,topologyNodeFontColor:"#fff",topologyNodeTitleFontSize:11,topologyNodeTitleFontColor:"#333",topologyEdgeWidth:1,topologyActiveEdgeWidth:2,topologyHoverEdgeWidth:2,topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyHoverEdgeColor:"#d3bdeb",topologyEdgeFontSize:10,topologyEdgeFontColor:"#666",topologyEdgePointRadius:3,topologyEdgeOpacity:1,topologyTooltipBackgroundColor:"#fff",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:11,topologyTooltipFontColor:"#333",timelineTitleFontSize:11,timelineTitleFontColor:"#333",timelineTitleFontWeight:700,timelineColumnFontSize:10,timelineColumnFontColor:"#333",timelineColumnBackgroundColor:"linear(top) #f9f9f9,1 #e9e9e9",timelineHoverRowBackgroundColor:"#f4f0f9",timelineEvenRowBackgroundColor:"#fafafa",timelineOddRowBackgroundColor:"#f1f0f3",timelineActiveBarBackgroundColor:"#9262cf",timelineActiveBarFontColor:"#fff",timelineActiveBarFontSize:9,timelineHoverBarBackgroundColor:null,timelineLayerBackgroundOpacity:.15,timelineActiveLayerBackgroundColor:"#A75CFF",timelineActiveLayerBorderColor:"#caa4f5",timelineHoverLayerBackgroundColor:"#DEC2FF",timelineHoverLayerBorderColor:"#caa4f5",timelineVerticalLineColor:"#c9c9c9",timelineHorizontalLineColor:"#d2d2d2",heatmapBackgroundColor:"#fff",heatmapBackgroundOpacity:1,heatmapHoverBackgroundOpacity:.2,heatmapBorderColor:"#000",heatmapBorderWidth:.5,heatmapBorderOpacity:1,heatmapFontSize:11,heatmapFontColor:"#000",pyramidLineColor:"#fff",pyramidLineWidth:1,pyramidTextLineColor:"#a9a9a9",pyramidTextLineWidth:1,pyramidTextLineSize:30,pyramidTextFontSize:10,pyramidTextFontColor:"#333",heatmapscatterBorderWidth:.5,heatmapscatterBorderColor:"#fff",heatmapscatterActiveBackgroundColor:"#fff",treemapNodeBorderWidth:.5,treemapNodeBorderColor:"#333",treemapTextFontSize:11,treemapTextFontColor:"#333",treemapTitleFontSize:12,treemapTitleFontColor:"#333",arcEqualizerBorderColor:"#fff",arcEqualizerBorderWidth:1,arcEqualizerFontSize:13,arcEqualizerFontColor:"#333",arcEqualizerBackgroundColor:"#a9a9a9",flameNodeBorderWidth:.5,flameNodeBorderColor:"#fff",flameDisableBackgroundOpacity:.4,flameTextFontSize:12,flameTextFontColor:"#333",titleFontColor:"#333",titleFontSize:13,titleFontWeight:"normal",legendFontColor:"#333",legendFontSize:12,legendSwitchCircleColor:"#fff",legendSwitchDisableColor:"#c8c8c8",tooltipFontColor:"#333",tooltipFontSize:12,tooltipBackgroundColor:"#fff",tooltipBackgroundOpacity:.7,tooltipBorderColor:null,tooltipBorderWidth:2,tooltipLineColor:null,tooltipLineWidth:1,scrollBackgroundSize:7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"#ff0000",zoomFocusColor:"#808080",zoomScrollBackgroundSize:45,zoomScrollButtonSize:18,zoomScrollAreaBackgroundColor:"#fff",zoomScrollAreaBackgroundOpacity:.7,zoomScrollAreaBorderColor:"#d4d4d4",zoomScrollAreaBorderWidth:1,zoomScrollAreaBorderRadius:3,zoomScrollGridFontSize:10,zoomScrollGridTickPadding:4,zoomScrollBrushAreaBackgroundOpacity:.7,zoomScrollBrushLineBorderWidth:1,crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBorderDashArray:"2,2",crossBalloonFontSize:11,crossBalloonFontColor:"#fff",crossBalloonBackgroundColor:"#000",crossBalloonBackgroundOpacity:.5,dragSelectBackgroundColor:"#7BBAE7",dragSelectBackgroundOpacity:.3,dragSelectBorderColor:"#7BBAE7",dragSelectBorderWidth:1,guidelineBorderColor:"#a9a9a9",guidelineBorderWidth:1,guidelineBorderOpacity:.8,guidelineBalloonFontSize:11,guidelineBalloonFontColor:"#fff",guidelineBalloonBackgroundColor:"#000",guidelineBalloonBackgroundOpacity:.5,guidelineBorderDashArray:"2,2",guidelinePointRadius:3,guidelinePointBorderColor:"#fff",guidelinePointBorderWidth:1,guidelineTooltipFontColor:"#333",guidelineTooltipFontSize:12,guidelineTooltipPointRadius:3,guidelineTooltipBackgroundColor:"#fff",guidelineTooltipBackgroundOpacity:.7,guidelineTooltipBorderColor:"#a9a9a9",guidelineTooltipBorderWidth:1,polygonColumnBackgroundOpacity:.6,polygonColumnBorderOpacity:.5,polygonScatterRadialOpacity:.7,polygonScatterBackgroundOpacity:.8,polygonLineBackgroundOpacity:.6,polygonLineBorderOpacity:.7,bubbleCloudFontColor:"#fff",bubbleCloudFontSize:11,bubbleCloudFontWeight:"bold",equalizerColumnErrorBackgroundColor:"#ff0000",equalizerColumnErrorFontColor:"#fff"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));r.default.define("chart.topology.sort.random",[],function(){return function(t,e,i){for(var r=[],n=0;n<t.length;n++){var a=Math.floor(Math.random()*(e.width-i)),o=Math.floor(Math.random()*(e.height-i));r[n]={x:e.x+a,y:e.y+o}}return r}}),r.default.define("chart.topology.sort.linear",[],function(){var t={};function e(i){var r=Math.floor(Math.random()*i);if(t[r]){var n=0;for(var a in t)n++;if(n<i)return e(i);t={}}else t[r]=!0;return r}return function(t,i,r){for(var n=[],a=Math.floor(i.height/r),o=Math.floor(i.width/r),s=Math.floor(o/t.length),h=0,l=-1,c=t.length,u=0;u<t.length;u++){var d=0,f=0,g=0;u%2==0?(d=h*r,f=e(a)*r,h+=s,g=l+=1):(d=(o-h)*r+r,f=e(a)*r,g=c-=1),n[g]={x:i.x+d+r,y:i.y+f+r/2}}return n}}),e.default={name:"chart.grid.topologytable",extend:"chart.grid.core",component:function(){var t=r.default.include("util.base"),e=function(){var e=this;this.drawBefore=function(){if(!this.axis.cacheXY){var i=r.default.include("chart.topology.sort."+this.grid.sort),n=[this.axis.data,this.axis.area(),this.grid.space];t.typeCheck("function",i)?this.axis.cacheXY=i.apply(this,n):(i=r.default.include(this.grid.sort),t.typeCheck("function",i)&&(this.axis.cacheXY=i.apply(this,n)))}this.axis.cache||(this.axis.cache={scale:1,viewX:0,viewY:0,nodeKey:null}),this.scale=(this.axis,function(i){i=t.typeCheck("string",i)?function(t){for(var i=null,r=e.axis.data,n=0,a=r.length;n<a;n++)if(e.axis.getValue(r[n],"key")==t){i=n;break}return i}(i):i;var r={setX:function(t){e.axis.cacheXY[i].x=t-e.axis.cache.viewX},setY:function(t){e.axis.cacheXY[i].y=t-e.axis.cache.viewY},setScale:function(t){e.axis.cache.scale=t},setView:function(t,i){e.axis.cache.viewX=t,e.axis.cache.viewY=i},moveLast:function(){var t=e.axis.cacheXY.splice(i,1);e.axis.cacheXY.push(t[0]);var r=e.axis.data.splice(i,1);e.axis.data.push(r[0])}};if(t.typeCheck("integer",i)){var n=e.axis.cacheXY[i].x+e.axis.cache.viewX,a=e.axis.cacheXY[i].y+e.axis.cache.viewY,o=e.axis.cache.scale;return t.extend(r,{x:n*o,y:a*o,scale:o})}return r})},this.draw=function(){return this.grid.hide=!0,this.drawGrid()}};return e.setup=function(){return{sort:"linear",space:50}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.rangebar",extend:"chart.brush.core",component:function(){var t=function(t,e,i){var r,n,a,o,s,h,l,c,u;this.drawBefore=function(){r=t.svg.group(),s=i.outerPadding,h=i.innerPadding,n=e.y.rangeBand(),o=((a=n-2*s)-(i.target.length-1)*h)/i.target.length,l=t.theme("barBorderColor"),c=t.theme("barBorderWidth"),u=t.theme("barBorderOpacity")},this.draw=function(){return this.eachData(function(n,s){for(var d=t.svg.group(),f=this.offset("y",s)-a/2,g=0;g<i.target.length;g++){var p=n[i.target[g]],v=e.x(p[1]),m=e.x(p[0]),y=t.svg.rect({x:m,y:f,height:o,width:Math.abs(m-v),fill:this.color(g),stroke:l,"stroke-width":c,"stroke-opacity":u});this.addEvent(y,s,g),d.append(y),f+=o+h}r.append(d)}),r}};return t.setup=function(){return{outerPadding:2,innerPadding:1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(2));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.column",extend:"chart.brush.bar",component:function(){return function(){var t,e,i,r,n;this.drawBefore=function(){var a=this.brush.outerPadding,o=this.brush.innerPadding,s=this.brush.target.length;t=this.chart.svg.group(),e=this.axis.y(0),i=this.axis.x.rangeBand(),this.brush.size>0?(r=this.brush.size,n=r*s+(s-1)*o):(n=i-2*a,r=(r=(i-2*a-(s-1)*o)/s)<0?0:r)},this.draw=function(){var i=this.getXY(),a=this.getBarStyle();return this.eachData(function(o,s){for(var h=this.offset("x",s)-n/2,l=0;l<this.brush.target.length;l++){var c=o[this.brush.target[l]],u=h+r/2,d=this.axis.y(c),f=d<=e?"top":"bottom";Math.abs(e-d)<this.brush.minSize&&(d="top"==f?d-this.brush.minSize:d+this.brush.minSize);var g=Math.abs(e-d),p=r<a.borderRadius||g<a.borderRadius?0:a.borderRadius,v=this.getBarElement(s,l,{width:r,height:g,value:c,tooltipX:u,tooltipY:d,position:f,max:i[l].max[s],min:i[l].min[s]});d<=e?(v.round(r,g,p,p,0,0),v.translate(h,d)):(v.round(r,g,0,0,p,p),v.translate(h,e)),t.append(v),h+=r+this.brush.innerPadding}}),this.drawETC(t),t},this.drawAnimate=function(t){var e=this.chart.svg,i=this.brush.animate;t.append(e.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.4s",repeatCount:"1",fill:"freeze"})),t.each(function(t,r){if(r.is("util.svg.element.path")){var n=r.data("translate").split(","),a=parseInt(n[0]),o=parseInt(n[1]),s=parseInt(r.attr("height")),h="top"==i?o-s:o+s;r.append(e.animateTransform({attributeName:"transform",type:"translate",from:a+" "+h,to:a+" "+o,begin:"0s",dur:"0.7s",repeatCount:"1",fill:"freeze"}))}})}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(5));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.fullstackcolumn",extend:"chart.brush.fullstackbar",component:function(){return function(t,e,i){var r,n;this.getTargetSize=function(){var t=this.axis.x.rangeBand(),e=0;return(e=this.brush.size>0?this.brush.size:t-2*this.brush.outerPadding)<0?0:e},this.drawBefore=function(){r=t.svg.group(),e.y(0),n=this.getTargetSize()},this.draw=function(){var a=e.area("height");return this.eachData(function(o,s){for(var h=t.svg.group(),l=this.offset("x",s)-n/2,c=0,u=[],d=0;d<i.target.length;d++)c+=p=o[i.target[d]],u.push(p);var f=0,g=e.y.max();for(d=u.length-1;d>=0;d--){var p=a-e.y.rate(u[d],c),v=this.getBarElement(s,d);if(isNaN(l)||isNaN(f)||isNaN(p)||v.attr({x:l,y:f,width:n,height:p}),h.append(v),i.showText){var m=Math.round(u[d]/c*g),y=l+n/2,x=f+p/2+8,b=this.drawText(m,y,x);null!=b&&h.append(b)}this.setActiveEventOption(h),f+=p}this.addBarElement(h),r.append(h)}),this.setActiveEffectOption(),r}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.rangecolumn",extend:"chart.brush.core",component:function(){var t=function(t,e,i){var r,n,a,o,s,h,l,c,u;this.drawBefore=function(){r=t.svg.group(),s=i.outerPadding,h=i.innerPadding,n=e.x.rangeBand(),o=n-2*s,a=(n-2*s-(i.target.length-1)*h)/i.target.length,l=t.theme("columnBorderColor"),c=t.theme("columnBorderWidth"),u=t.theme("columnBorderOpacity")},this.draw=function(){return this.eachData(function(n,s){for(var d=this.offset("x",s)-o/2,f=0;f<i.target.length;f++){var g=n[i.target[f]],p=e.y(g[1]),v=e.y(g[0]),m=t.svg.rect({x:d,y:p,width:a,height:Math.abs(v-p),fill:this.color(f),stroke:l,"stroke-width":c,"stroke-opacity":u});this.addEvent(m,s,f),r.append(m),d+=a+h}}),r}};return t.setup=function(){return{outerPadding:2,innerPadding:1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(4));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.stackarea",extend:"chart.brush.area",component:function(){return function(){this.draw=function(){return this.drawArea(this.getStackXY())}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.rangearea",extend:"chart.brush.core",component:function(){return function(){this.draw=function(){for(var t=this.svg.group(),e=this.brush.target,i=this.axis.data,r="range"==this.axis.y.type,n=0;n<e.length;n++){for(var a=this.svg.polygon({fill:this.color(n),"fill-opacity":this.chart.theme("areaBackgroundOpacity"),"stroke-width":0}),o=0;o<i.length;o++){var s=i[o][e[n]];r?a.point(this.axis.x(o),this.axis.y(s[0])):a.point(this.axis.x(s[0]),this.axis.y(o))}for(o=i.length-1;o>=0;o--)s=i[o][e[n]],r?a.point(this.axis.x(o),this.axis.y(s[1])):a.point(this.axis.x(s[1]),this.axis.y(o));t.append(a)}return t}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.bubble",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=r.default.include("util.math"),i=function(){var i=this,r=null,n=null;this.getFormatText=function(e,i){return t.typeCheck("function",this.brush.format)?this.format(this.axis.data[i]):e},this.getBubbleRadius=function(i,a){var o=this.brush.scaleKey;if(null!=o){var s=this.axis.data[a][o];i=t.typeCheck("number",s)?s:i}return e.scaleValue(i,r,n,this.brush.min,this.brush.max)},this.createBubble=function(t,e,i){var r=this.getBubbleRadius(t.value,i),n=this.svg.group().translate(t.x,t.y);if(n.append(this.svg.circle({r:r,fill:e,"fill-opacity":this.chart.theme("bubbleBackgroundOpacity"),stroke:e,"stroke-width":this.chart.theme("bubbleBorderWidth")})),this.brush.showText){var a=this.getFormatText(t.value,i);n.append(this.chart.text({"font-size":this.chart.theme("bubbleFontSize"),fill:this.chart.theme("bubbleFontColor"),"text-anchor":"middle",dy:3}).text(a))}return this.bubbleList.push(n),n},this.setActiveEffect=function(t){for(var e=this.bubbleList,i=0;i<e.length;i++){var r=e[i]==t?1:this.chart.theme("bubbleBackgroundOpacity");e[i].get(0).attr({opacity:r}),e[i].get(1).attr({opacity:r})}},this.drawBubble=function(t){for(var e=this.svg.group(),r=0;r<t.length;r++)for(var n=0;n<t[r].x.length;n++){var a=this.createBubble({x:t[r].x[n],y:t[r].y[n],value:t[r].value[n]},this.color(n,r),n);null!=this.brush.activeEvent&&function(t){t.on(i.brush.activeEvent,function(e){i.setActiveEffect(t)}),t.attr({cursor:"pointer"})}(a),this.addEvent(a,n,r),e.append(a)}var o=this.bubbleList[this.brush.active];return null!=o&&this.setActiveEffect(o),e},this.drawBefore=function(){var t=this.brush.scaleKey;if(null!=t){for(var e=[],i=0;i<this.axis.data.length;i++)e.push(this.axis.data[i][t]);r=Math.min.apply(this,e),n=Math.max.apply(this,e)}else r=this.axis.y.min(),n=this.axis.y.max();this.bubbleList=[]},this.draw=function(){return this.drawBubble(this.getXY())},this.drawAnimate=function(t){t.each(function(t,e){var r=e.children[0];r.append(i.svg.animateTransform({attributeType:"xml",attributeName:"transform",type:"scale",from:"0",to:"1",dur:"0.7s",fill:"freeze",repeatCount:"1"})),r.append(i.svg.animate({attributeType:"xml",attributeName:"fill-opacity",from:"0",to:i.chart.theme("bubbleBackgroundOpacity"),dur:"1.4s",repeatCount:"1",fill:"freeze"}))})}};return i.setup=function(){return{min:5,max:30,scaleKey:null,showText:!1,format:null,active:null,activeEvent:null}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.heatmap",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){var e=this;this.draw=function(){for(var i=this.chart.theme("heatmapBorderWidth"),r=this.chart.theme("heatmapFontSize"),n=this.svg.group(),a=this.axis.x.rangeBand()-i,o=this.axis.y.rangeBand()-i,s=0;s<this.axis.data.length;s++){var h=this.svg.group(),l=this.color(s,null),c=this.axis.data[s],u=this.getValue(c,"text"),d=this.axis.x(s),f=this.axis.y(s);"none"==l&&(l=this.chart.theme("heatmapBackgroundColor"));var g=this.svg.rect({x:d-a/2,y:f-o/2,width:a,height:o,fill:l,"fill-opacity":this.chart.theme("heatmapBackgroundOpacity"),stroke:this.chart.theme("heatmapBorderColor"),"stroke-opacity":this.chart.theme("heatmapBorderOpacity"),"stroke-width":i}),p=this.chart.text({"text-anchor":"middle",fill:this.chart.theme("heatmapFontColor"),"font-size":r,width:a,height:o,x:d,y:f+r/2}).text(t.typeCheck("function",this.brush.format)?this.format(c):u);this.addEvent(h,s,null),h.append(g),h.append(p),n.append(h),function(t){h.hover(function(){t.attr({"fill-opacity":e.chart.theme("heatmapHoverBackgroundOpacity")})},function(){t.attr({"fill-opacity":e.chart.theme("heatmapBackgroundOpacity")})})}(g)}return n}};return e.setup=function(){return{format:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.heatmapscatter",extend:"chart.brush.core",component:function(){r.default.include("util.base");var t=function(){var t,e,i,r,n,a,o=null,s=[];this.createScatter=function(t,r,o){var h=null,l=function(t,i,r){var a=((i-t.axis.x.min())/t.brush.xInterval).toFixed(0),o=((r-t.axis.y.min())/t.brush.yInterval).toFixed(0);return a>=n&&(a=n-1),o>=e&&(o=e-1),a<0&&(a=0),o<0&&(o=0),{map:s[o][a],rowIndex:o,columnIndex:a}}(this,this.axis.x.invert(t.x),this.axis.y.invert(t.y)),c=l.map,u=this.color(r,o);try{c.color=u,c.data.push(this.axis.data[r]),null==c.element?c.element=this.chart.svg.rect({width:a,height:i,x:c.x,y:c.y,fill:u,stroke:this.chart.theme("heatmapscatterBorderColor"),"stroke-width":this.chart.theme("heatmapscatterBorderWidth")}):c.draw=!0,h={data:c.data,element:c.element,draw:c.draw,rowIndex:l.rowIndex,columnIndex:l.columnIndex}}catch(t){h=null}return h},this.drawScatter=function(t){for(var e=this.axis.data,i=this.brush.target,r=0;r<e.length;r++)for(var n=this.axis.x(r),a=0;a<i.length;a++){var o=this.axis.y(e[r][i[a]]),s=this.createScatter({x:n,y:o},r,a);null!=s&&0==s.draw&&(this.addEvent(s.element,r,a),t.append(s.element))}},this.draw=function(){o=this.chart.svg.group();for(var a=this.axis.y.min(),h=this.axis.x.min(),l=0;l<e;l++){s[l]||(s[l]=[]);for(var c=a+t/e*l,u=this.axis.y("date"==this.axis.y.type?new Date(c):c),d=0;d<n;d++){var f=h+r/n*d,g=this.axis.x("date"==this.axis.x.type?new Date(f):f);s[l][d]={data:[],element:null,draw:!1,color:null,x:g,y:u-i,xValue:f,yValue:c}}}return this.drawScatter(o),o},this.drawBefore=function(){t=this.axis.y.max()-this.axis.y.min(),e=t/this.brush.yInterval,i=this.axis.area("height")/e,r=this.axis.x.max()-this.axis.x.min(),n=r/this.brush.xInterval,a=this.axis.area("width")/n}};return t.setup=function(){return{xInterval:0,yInterval:0,clip:!1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.timeline",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){var e,i,r,n,a,o,s,h,l,c=this,u={},d=[],f=null;this.setActiveRect=function(t){for(var e=0;e<d.length;e++){var i=d[e].r1,r=d[e].r2,n=d[e].color,a=r.element==t;i.attr({fill:a?this.chart.theme("timelineActiveBarBackgroundColor"):n}),r.attr({fill:a?this.chart.theme("timelineActiveLayerBackgroundColor"):this.chart.theme("timelineHoverLayerBackgroundColor"),stroke:a?this.chart.theme("timelineActiveLayerBorderColor"):this.chart.theme("timelineHoverLayerBorderColor"),"fill-opacity":a?this.chart.theme("timelineLayerBackgroundOpacity"):0,"stroke-width":a?1:0}),a&&(f=e)}},this.setHoverRect=function(t){for(var e=0;e<d.length;e++){var i=d[e].r2,r=i.element==t;i.attr({fill:r&&f==e?c.chart.theme("timelineActiveLayerBackgroundColor"):this.chart.theme("timelineHoverLayerBackgroundColor"),stroke:r&&f==e?c.chart.theme("timelineActiveLayerBorderColor"):this.chart.theme("timelineHoverLayerBorderColor"),"fill-opacity":r||f==e?this.chart.theme("timelineLayerBackgroundOpacity"):0,"stroke-width":r||f==e?1:0})}},this.setActiveBar=function(t){for(var e=0;e<d.length;e++){var i=d[e].r1,r=d[e].t1,a=d[e].color,o=d[e].y-n/2,s=d[e].y-d[e].height/2,h=i.element==t;h?(i.attr({fill:this.chart.theme("timelineActiveBarBackgroundColor")||a,height:n,y:o}),r.attr({visibility:"visible"})):(i.attr({fill:a,height:d[e].height,y:s}),r.attr({visibility:"hidden"})),h&&(f=e)}},this.setHoverBar=function(t){for(var e=this.chart.theme("timelineHoverBarBackgroundColor"),i=this.chart.theme("timelineActiveBarBackgroundColor"),r=0;r<d.length;r++){var n=d[r].r1,a=d[r].color,o=n.element==t;n.attr({fill:o&&f!=r?e||a:f==r&&i||a})}},this.drawBefore=function(){e=this.svg.group(),i=this.axis.get("padding"),r=this.axis.y.domain(),n=this.axis.y.rangeBand(),this.axis.x.rangeBand(),a=this.axis.x.ticks(this.axis.get("x").step),s=this.brush.active,h=this.brush.activeType,l=this.brush.hideTitle?0:i.left,o=this.axis.area("x")-l;for(var t=0;t<r.length;t++)u[r[t]]=t},this.drawGrid=function(){for(var i=this.axis.get("y").format,a=this.axis.area("width")+l,s=this.chart.theme("timelineColumnBackgroundColor"),h=this.chart.theme("timelineHoverRowBackgroundColor"),u=this.chart.theme("timelineEvenRowBackgroundColor"),d=this.chart.theme("timelineOddRowBackgroundColor"),f=0;f<r.length;f++){var g=r[f],p=this.axis.y(f),v=0==f?s:f%2?u:d,m=this.svg.rect({width:a,height:n,fill:v,x:o,y:p-n/2});if(function(t,e){e>0&&t.hover(function(){t.attr({fill:h})},function(){t.attr({fill:e%2?u:d})})}(m,f),e.append(m),l>0){var y=this.chart.text({"text-anchor":"start",dx:5,dy:this.chart.theme("timelineTitleFontSize")/3,"font-size":this.chart.theme("timelineTitleFontSize"),fill:this.chart.theme("timelineTitleFontColor"),"font-weight":this.chart.theme("timelineTitleFontWeight")}).translate(o,p),x=t.typeCheck("function",i)?i.apply(this.chart,[g,f]):g;y.html(x),function(t){y.on("mouseover",function(e){c.chart.emit("timeline.title",[t,e])})}(g),e.append(y)}}},this.drawLine=function(){for(var r=this.axis.y(0)-n/2,s=this.axis.get("x").format,h=0;h<a.length;h++){var c=this.axis.x(a[h]);if(h<a.length-1){var u=this.svg.line({stroke:this.chart.theme(0==h?"timelineHorizontalLineColor":"timelineVerticalLineColor"),"stroke-width":1,x1:c,x2:c,y1:r,y2:r+this.axis.area("height"),visibility:0==l&&0==h?"hidden":"visible"});e.append(u)}if(h>0){var d=this.chart.text({"text-anchor":"end",dx:-5,dy:this.chart.theme("timelineColumnFontSize")/2,"font-size":this.chart.theme("timelineColumnFontSize"),fill:this.chart.theme("timelineColumnFontColor")}).translate(c,this.axis.y(0)),f=t.typeCheck("function",s)?s.apply(this.chart,[a[h],h]):a[h];d.text(f),e.append(d)}}var g=this.svg.line({stroke:this.chart.theme("timelineHorizontalLineColor"),"stroke-width":1,x1:o,x2:this.axis.area("width")+i.left,y1:r+n,y2:r+n});e.append(g)},this.drawData=function(){for(var i=this.axis.area("height"),r=this.axis.area("y"),n=this.axis.data.length,a=this.brush.barSize,o=this.brush.activeTooltip,l=this.chart.theme("timelineActiveBarFontSize"),g=this.chart.theme("timelineActiveBarFontColor"),p=0;p<n;p++){var v=this.axis.data[p],m=this.axis.x(this.getValue(v,"stime",0)),y=this.axis.x(this.getValue(v,"etime",this.axis.x.max())),x=this.axis.y(u[this.getValue(v,"key")]),b=t.typeCheck("function",a)?a.apply(this.chart,[v,p]):a,w=this.color(p,0);if(!(y-m<0||isNaN(y))){var C=this.svg.rect({width:y-m,height:b,fill:w,x:m,y:x-b/2,cursor:"pointer"}),k=this.svg.text({"text-anchor":"end","font-size":l,fill:g,x:m+y-m,y:x,dx:-l/2,dy:l/3,visibility:"hidden"}),B=this.svg.rect({width:y-m,height:i-6,"fill-opacity":0,"stroke-width":0,x:m,y:r+3,cursor:"pointer"});if(p<n-1){var A=this.axis.data[p+1],F=this.axis.x(this.getValue(A,"stime",0)),T=this.axis.y(u[this.getValue(A,"key")]),M=this.svg.line({x1:y,y1:x,x2:F,y2:T,stroke:w,"stroke-width":this.brush.lineWidth});e.append(M)}t.typeCheck("function",o)&&k.text(o.apply(this.chart,[v,p])),e.append(C),e.append(k),e.append(B),this.addEvent(C,p),d.push({r1:C,r2:B,t1:k,color:w,y:x,height:b}),"rect"==h?(!function(t){B.on(c.brush.activeEvent,function(e){c.setActiveRect(e.target),c.chart.emit("timeline.active",[t,e])})}(v),B.on("mouseover",function(t){c.setHoverRect(t.target)})):(B.attr({visibility:"hidden"}),function(t){C.on(c.brush.activeEvent,function(e){c.setActiveBar(e.target),c.chart.emit("timeline.active",[t,e])})}(v),C.on("mouseover",function(t){c.setHoverBar(t.target)}))}}if(t.typeCheck("integer",s)&&d.length>0){if(s<0)return;f=s,"rect"==h?this.setActiveRect(d[f].r2.element):this.setActiveBar(d[f].r1.element)}},this.draw=function(){return this.drawGrid(),this.drawLine(),this.drawData(),e.on("mouseout",function(t){"rect"==h?c.setHoverRect(null):c.setHoverBar(null)}),e}};return e.setup=function(){return{barSize:7,lineWidth:1,active:null,activeEvent:"click",activeType:"rect",activeTooltip:null,hideTitle:!1,clip:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));r.default.define("chart.topology.edge",[],function(){return function(t,e,i,r,n){var a=!1,o=null;this.key=function(){return t+":"+e},this.reverseKey=function(){return e+":"+t},this.connect=function(t){if(0==arguments.length)return a;a=t},this.element=function(t){if(0==arguments.length)return o;o=t},this.set=function(a,o){"start"==a?t=o:"end"==a?e=o:"in_xy"==a?i=o:"out_xy"==a?r=o:"scale"==a&&(n=o)},this.get=function(a){return"start"==a?t:"end"==a?e:"in_xy"==a?i:"out_xy"==a?r:"scale"==a?n:void 0}}}),r.default.define("chart.topology.edgemanager",["util.base"],function(t){return function(){var e=[],i={};this.add=function(t){i[t.key()]=t,e.push(t)},this.get=function(t){return i[t]},this.is=function(t){return!!i[t]},this.list=function(){return e},this.each=function(i){if(t.typeCheck("function",i))for(var r=0;r<e.length;r++)i.call(this,e[r])}}}),e.default={name:"chart.brush.topologynode",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=r.default.include("util.math"),i=r.default.include("chart.topology.edge"),n=r.default.include("chart.topology.edgemanager"),a=function(){var r,a,o,s=this,h=new n,l=14,c=7,u=7,d=[];function f(t,i,r,n,a){var o=t-r,s=i-n,h=Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),l=(a=a||0,e.angle(t,i,r,n));return{x:t+Math.cos(l)*(h+a),y:i+Math.sin(l)*(h+a),angle:l,distance:h}}function g(t){for(var e=0;e<s.axis.data.length;e++){var i=s.axis.data[e];if(s.getValue(i,"key")==t)return s.axis.data[e]}return null}function p(t){for(var e=0;e<s.brush.edgeData.length;e++)if(s.brush.edgeData[e].key==t)return s.brush.edgeData[e];return null}function v(e){var i=s.chart.theme("topologyNodeRadius"),r=1;return t.typeCheck("function",s.brush.nodeScale)&&e&&(i*=r=s.brush.nodeScale.call(s.chart,e)),{r:i,scale:r}}function m(){h.each(function(i){var n=i.get("in_xy"),a=i.get("out_xy"),l=s.svg.group();l.append(function(e,i,r){var n=s.svg.group(),a=s.chart.theme("topologyEdgeWidth"),l=function(e){var i=s.chart.theme("topologyEdgeOpacity");return t.typeCheck("function",s.brush.edgeOpacity)&&e&&(i=s.brush.edgeOpacity.call(s.chart,e)),i}(p(e.key()));if(e.connect()){var c=h.get(e.reverseKey()).element();c.get(0).attr({"stroke-opacity":l}),c.get(1).attr({"fill-opacity":l})}else n.append(s.svg.line({cursor:"pointer",x1:i.x,y1:i.y,x2:r.x,y2:r.y,stroke:s.chart.theme("topologyEdgeColor"),"stroke-width":a*e.get("scale"),"stroke-opacity":l,"shape-rendering":"geometricPrecision"}));return n.append(s.svg.circle({fill:s.chart.theme("topologyEdgeColor"),"fill-opacity":l,stroke:s.chart.theme("backgroundColor"),"stroke-width":2*a*e.get("scale"),r:o*e.get("scale"),cx:r.x,cy:r.y})),n.on(s.brush.activeEvent,function(t){w(e)}),n.on("mouseover",function(t){C(e)}),n.on("mouseout",function(t){k(e)}),e.element(n),n}(i,n,a)),l.append(function(i,r,n){var a=null,o=n.x>r.x?"end":"start",h=p(i.key());if(null!=h){var l=t.typeCheck("function",s.brush.edgeText)?s.brush.edgeText.call(s.chart,h,o):null;null!=l&&((a="end"==o?s.svg.text({x:n.x-9,y:n.y+13,cursor:"pointer",fill:s.chart.theme("topologyEdgeFontColor"),"font-size":s.chart.theme("topologyEdgeFontSize")*i.get("scale"),"text-anchor":o},l).rotate(e.degree(n.angle),n.x,n.y):s.svg.text({x:n.x+8,y:n.y-7,cursor:"pointer",fill:s.chart.theme("topologyEdgeFontColor"),"font-size":s.chart.theme("topologyEdgeFontSize")*i.get("scale"),"text-anchor":o},l).rotate(e.degree(r.angle),n.x,n.y)).on(s.brush.activeEvent,function(t){w(i)}),a.on("mouseover",function(t){C(i)}),a.on("mouseout",function(t){k(i)}))}return a}(i,n,a)),r.append(l)})}function y(t,e){var r=s.getData(t),n=s.getValue(r,"key"),a=s.getValue(r,"outgoing",[])[e];if(n!=a){var l=g(a),c=s.axis.c(a),u=s.axis.c(t),d=(v(r).r+o+1)*u.scale,p=(v(l).r+o+1)*u.scale,m=f(c.x,c.y,u.x,u.y,-d),y=f(u.x,u.y,c.x,c.y,-p),x=new i(n,a,m,y,u.scale);h.is(x.reverseKey())&&x.connect(!0),h.add(x)}}function x(e,i){if(t.typeCheck("function",s.brush.tooltipTitle)&&t.typeCheck("function",s.brush.tooltipText)){var r=a.get(0),n=a.get(1);r.attr({points:""}),n.element.textContent="";var h=function(t){for(var e=0;e<s.brush.edgeData.length;e++)if(t.key()==s.brush.edgeData[e].key)return s.brush.edgeData[e];return null}(e),d=e.get("in_xy"),f=e.get("out_xy"),g=f.x>d.x?"end":"start";if(s.chart.emit("topology.edgeclick",[h,i]),null!=h){var p=document.createElementNS("http://www.w3.org/2000/svg","tspan"),v=document.createElementNS("http://www.w3.org/2000/svg","tspan"),m=2*c+("end"==g?u:0);n.element.appendChild(p),n.element.appendChild(v),p.setAttribute("x",c),p.setAttribute("y",m),p.setAttribute("font-weight","bold"),p.textContent=s.brush.tooltipTitle.call(s.chart,function(e){var i=[],r=e.split(":");return s.eachData(function(e,n){var a=t.typeCheck("function",s.brush.nodeTitle)?s.brush.nodeTitle.call(s.chart,e):"";e.key==r[0]&&(i[0]=a||e.key),e.key==r[1]&&(i[1]=a||e.key)}),i.length>0?i:e}(h.key),g),v.setAttribute("x",c),v.setAttribute("y",m+l+c/2),v.textContent=s.brush.tooltipText.call(s.chart,h,g);var y=n.size(),x=y.width+2*c,b=y.height+2*c,w=f.x-x/2+u/2+o/2;n.attr({x:x/2}),r.attr({points:s.balloonPoints("end"==g?"bottom":"top",x,b,u)}),a.attr({visibility:"visible"}),"end"==g?a.translate(w,f.y+u/2+o):a.translate(w,f.y-u-b+o)}}}function b(e){var i=s.chart.theme("topologyEdgeColor"),r=s.chart.theme("topologyActiveEdgeColor"),n=s.chart.theme("topologyEdgeWidth"),o=s.chart.theme("topologyActiveEdgeWidth");d=[];for(var l=0;l<e.outgoing.length;l++){var c=e.key+":"+e.outgoing[l],u=h.get(c);null!=u&&(d.push(u),u.connect()&&d.push(h.get(u.reverseKey())))}h.each(function(e){var s=e.element(),h=2==s.children.length?s.get(1):s.get(0),l=2==s.children.length?s.get(0):null;if(-1!=t.inArray(e,d)){var c={stroke:r,"stroke-width":o*e.get("scale")},u={fill:r};null!=l&&l.attr(c),h.attr(u),a.attr({visibility:"hidden"})}else null!=l&&l.attr({stroke:i,"stroke-width":n*e.get("scale")}),h.attr({fill:i})})}function w(t){h.each(function(e){var i=e.element(),r=2==i.children.length?i.get(1):i.get(0),n=2==i.children.length?i.get(0):null,a=s.chart.theme("topologyEdgeColor"),o=s.chart.theme("topologyActiveEdgeColor"),l=s.chart.theme("topologyEdgeWidth"),c=s.chart.theme("topologyActiveEdgeWidth");null==t||t.key()!=e.key()&&t.reverseKey()!=e.key()?(null!=n&&n.attr({stroke:a,"stroke-width":l*e.get("scale")}),r.attr({fill:a})):(null!=n&&n.attr({stroke:o,"stroke-width":c*e.get("scale")}),r.attr({fill:o}),t.key()==e.key()&&x(t),d=[t],t.connect()&&d.push(h.get(t.reverseKey())))})}function C(e){if(-1==t.inArray(e,d)){var i=e.element(),r=2==i.children.length?i.get(1):i.get(0),n=2==i.children.length?i.get(0):null,a=s.chart.theme("topologyHoverEdgeColor"),o=s.chart.theme("topologyHoverEdgeWidth");null!=n&&n.attr({stroke:a,"stroke-width":o*e.get("scale")}),r.attr({fill:a})}}function k(e){if(-1==t.inArray(e,d)){var i=e.element(),r=2==i.children.length?i.get(1):i.get(0),n=2==i.children.length?i.get(0):null,a=s.chart.theme("topologyEdgeColor"),o=s.chart.theme("topologyEdgeWidth");null!=n&&n.attr({stroke:a,"stroke-width":o*e.get("scale")}),r.attr({fill:a})}}this.drawBefore=function(){r=s.svg.group(),o=s.chart.theme("topologyEdgePointRadius"),a=s.svg.group({visibility:"hidden"},function(){s.svg.polygon({fill:s.chart.theme("topologyTooltipBackgroundColor"),stroke:s.chart.theme("topologyTooltipBorderColor"),"stroke-width":1}),s.chart.text({"font-size":s.chart.theme("topologyTooltipFontSize"),fill:s.chart.theme("topologyTooltipFontColor"),y:l})})},this.draw=function(){var e=[];return this.eachData(function(t,e){for(var i=0;i<t.outgoing.length;i++)y(e,i)}),m(),this.eachData(function(i,n){var a=function(e,i){var r=s.getValue(i,"key"),n=s.axis.c(e),a=s.color(e,0),o=t.typeCheck("function",s.brush.nodeTitle)?s.brush.nodeTitle.call(s.chart,i):"",h=t.typeCheck("function",s.brush.nodeText)?s.brush.nodeText.call(s.chart,i):"",l=v(i),c=s.svg.group({index:e},function(){if(t.typeCheck("function",s.brush.nodeImage)?s.svg.image({"xlink:href":s.brush.nodeImage.call(s.chart,i),width:2*l.r*n.scale,height:2*l.r*n.scale,x:-l.r,y:-l.r,cursor:"pointer"}):s.svg.circle({class:"circle",r:l.r*n.scale,fill:a,cursor:"pointer"}),h&&""!=h){var e=s.chart.theme("topologyNodeFontSize");s.chart.text({class:"text",x:.1*n.scale,y:l.r/2*n.scale,fill:s.chart.theme("topologyNodeFontColor"),"font-size":e*l.scale*n.scale,"text-anchor":"middle",cursor:"pointer"},h)}o&&""!=o&&s.chart.text({class:"title",x:.1*n.scale,y:(l.r+13)*n.scale,fill:s.chart.theme("topologyNodeTitleFontColor"),"font-size":s.chart.theme("topologyNodeTitleFontSize")*n.scale,"font-weight":"bold","text-anchor":"middle",cursor:"pointer"},o)}).translate(n.x,n.y);return c.on(s.brush.activeEvent,function(t){b(i),s.chart.emit("topology.nodeclick",[i,t])}),s.axis.cache.nodeKey==r&&(c.order=1),s.addEvent(c,e,null),c}(n,i);r.append(a),e[n]={node:a,data:i}}),this.on("axis.mousedown",function(t){s.axis.root.element==t.target&&(w(null),a.attr({visibility:"hidden"}))}),t.typeCheck("string",s.brush.activeEdge)&&this.on("render",function(t){t||w(h.get(s.brush.activeEdge))}),t.typeCheck("string",s.brush.activeNode)&&this.on("render",function(t){t||b(g(s.brush.activeNode))}),r}};return a.setup=function(){return{clip:!0,nodeTitle:null,nodeText:null,nodeImage:null,nodeScale:null,edgeData:[],edgeText:null,edgeOpacity:null,tooltipTitle:null,tooltipText:null,activeNode:null,activeEdge:null,activeEvent:"click"}},a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.focus",extend:"chart.brush.core",component:function(){var t=function(){var t=this,e=void 0;this.drawFocus=function(i,r){var n=this.chart.theme("focusBorderColor"),a=this.chart.theme("focusBorderWidth"),o=this.chart.theme("focusBackgroundColor"),s=this.chart.theme("focusBackgroundOpacity"),h=this.axis.area("width"),l=this.axis.area("height"),c=this.axis.area("x"),u=this.axis.area("y");return this.svg.group({},function(){if(!t.brush.hide&&0!=t.axis.data.length){var d=t.svg.line({stroke:n,"stroke-width":a,x1:0,y1:0,x2:"x"==e?0:h,y2:"x"==e?l:0}),f=t.svg.rect({width:"x"==e?Math.abs(r-i):h,height:"x"==e?l:Math.abs(r-i),fill:o,opacity:s}),g=t.svg.line({stroke:n,"stroke-width":a,x1:0,y1:0,x2:"x"==e?0:h,y2:"x"==e?l:0});"x"==e?(d.translate(i,u),f.translate(i,u),g.translate(r,u)):(d.translate(c,i),f.translate(c,i),g.translate(c,r))}})},this.drawBefore=function(){e="range"==this.axis.y.type?"x":"y"},this.draw=function(){var t=0,i=0;if(-1==this.brush.start||-1==this.brush.end)return this.svg.g();if("block"==this.axis[e].type){var r=this.axis[e].rangeBand();t=this.axis[e](this.brush.start)-r/2,i=this.axis[e](this.brush.end)+r/2}else t=this.axis[e](this.brush.start),i=this.axis[e](this.brush.end);return this.drawFocus(t,i)}};return t.setup=function(){return{start:-1,end:-1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.pin",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){var e=this;this.draw=function(){var i=this.brush.size,r=this.chart.theme("pinBorderColor"),n=this.chart.theme("pinBorderWidth"),a=this.chart.theme("pinFontSize"),o=a/2,s=this.axis.area("y"),h=t.typeCheck("function",this.brush.format);return this.svg.group({},function(){var t=e.axis.x(e.brush.split),l=t-i/2;if(h){var c=e.format(e.axis.x.invert(t));e.chart.text({"text-anchor":"middle","font-size":a,fill:e.chart.theme("pinFontColor")},c).translate(t,s)}e.svg.polygon({fill:r}).point(i,s).point(i/2,i+s).point(0,s).translate(l,o),e.svg.line({stroke:r,"stroke-width":n,x1:i/2,y1:s+o,x2:i/2,y2:s+e.axis.area("height")}).translate(l,0)})}};return e.setup=function(){return{size:6,split:0,format:null,clip:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.selectbox",extend:"chart.brush.core",component:function(){r.default.include("util.base");var t=function(){var t=void 0,e=void 0,i=void 0,r=void 0,n=void 0;this.drawBefore=function(){t=this.chart.svg.group(),e=this.axis.area("y2"),i=this.axis.x.rangeBand(),r=this.axis.area("height"),n=this.axis.x.ticks("milliseconds",this.axis.get("x").interval)},this.draw=function(){for(var a=this.chart.theme("selectBoxBackgroundColor"),o=this.chart.theme("selectBoxBackgroundOpacity"),s=this.chart.theme("selectBoxBorderColor"),h=this.chart.theme("selectBoxBorderOpacity"),l=0;l<n.length-1;l++){var c=this.axis.x(n[l]),u=this.svg.rect({width:i,height:r,fill:a,"fill-opacity":0,stroke:s,"stroke-opacity":0,cursor:"pointer"}).translate(c,e-r);!function(t){t.hover(function(){t.attr({"fill-opacity":o,"stroke-opacity":h})},function(){t.attr({"fill-opacity":0,"stroke-opacity":0})})}(u),this.addEvent(u,{start:n[l],end:n[l+1]}),t.append(u)}return t}};return t.setup=function(){return{clip:!1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.equalizer",extend:"chart.brush.core",component:function(){var t=function(t,e,i){var r,n,a,o,s;this.drawBefore=function(){r=t.svg.group(),n=e.y(0),a=e.x.rangeBand(),s=(a-2*i.outerPadding)/2,o=(a-2*i.outerPadding-(i.target.length-1)*i.innerPadding)/i.target.length},this.draw=function(){return this.eachData(function(a,h){for(var l=this.offset("x",h)-s,c=0;c<i.target.length;c++){var u=t.svg.group(),d=e.y(a[i.target[c]]),f=n,g=0;if(d<=n)for(;f>d;){var p=f-i.unit<d?Math.abs(f-d):i.unit,v=t.svg.rect({x:l,y:f-p,width:o,height:p,fill:this.color(Math.floor(g/i.gap))});f-=p+1.5,g++,u.append(v)}else for(;f<d;){p=f+i.unit>d?Math.abs(f-d):i.unit,v=t.svg.rect({x:l,y:f,width:o,height:p,fill:this.color(Math.floor(g/i.gap))});f+=p+1.5,g++,u.append(v)}this.addEvent(u,h,c),r.append(u),l+=o+i.innerPadding}}),r}};return t.setup=function(){return{innerPadding:10,outerPadding:15,unit:5,gap:5}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.equalizerbar",extend:"chart.brush.stackbar",component:function(){var t=function(){var t,e,i;this.drawBefore=function(){t=this.svg.group(),this.axis.x(0),e=this.getTargetSize(),i=this.axis.get("x").reverse},this.draw=function(){var r=this.brush.target,n=this.brush.innerPadding,a=this.axis.x.rangeBand()/(this.brush.unit*n),o=a+n;return this.eachData(function(n,s){for(var h=this.offset("y",s)-e/2,l=this.axis.x(0),c=l,u=0,d=0;d<r.length;d++){for(var f=this.svg.group(),g=n[r[d]]+u,p=this.axis.x(g),v=Math.abs(l-p);v>=o;){var m=this.getBarElement(s,d);m.attr({x:c,y:h,width:a,height:e}),v-=o,c-=i?o:-o,f.append(m)}f.translate(i?-a:0,0),this.addEvent(f,s,d),t.append(f),l=p,u=g}}),t}};return t.setup=function(){return{unit:1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(6));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.equalizercolumn",extend:"chart.brush.stackcolumn",component:function(){var t=function(){var t,e,i;this.drawBefore=function(){t=this.svg.group(),this.axis.y(0),e=this.getTargetSize(),i=this.axis.get("y").reverse},this.draw=function(){var r=this.brush.target,n=this.brush.innerPadding,a=this.axis.y.rangeBand()/(this.brush.unit*n),o=a+n;return this.eachData(function(n,s){for(var h=this.offset("x",s)-e/2,l=this.axis.y(0),c=l,u=0,d=0;d<r.length;d++){for(var f=this.svg.group(),g=n[r[d]]+u,p=this.axis.y(g),v=Math.abs(l-p);v>=o;){var m=this.getBarElement(s,d);m.attr({x:h,y:c,width:e,height:a}),v-=o,c+=i?o:-o,f.append(m)}f.translate(0,i?0:-a),this.addEvent(f,s,d),t.append(f),l=p,u=g}}),t}};return t.setup=function(){return{unit:1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.candlestick",extend:"chart.brush.core",component:function(){return function(){var t,e=0,i=0,r=0;this.drawBefore=function(){t=this.chart.svg.group(),e=this.axis.x.rangeBand(),r=(i=.7*e)/2},this.draw=function(){return this.eachData(function(e,n){var a=this.offset("x",n),o=null,s=null,h=this.getValue(e,"high",0),l=this.getValue(e,"low",0),c=this.getValue(e,"open",0),u=this.getValue(e,"close",0);if(c>u){var d=this.axis.y(c);s=this.chart.svg.line({x1:a,y1:this.axis.y(h),x2:a,y2:this.axis.y(l),stroke:this.chart.theme("candlestickInvertBorderColor"),"stroke-width":1}),o=this.chart.svg.rect({x:a-r,y:d,width:i,height:Math.abs(this.axis.y(u)-d),fill:this.chart.theme("candlestickInvertBackgroundColor"),stroke:this.chart.theme("candlestickInvertBorderColor"),"stroke-width":1})}else d=this.axis.y(u),s=this.chart.svg.line({x1:a,y1:this.axis.y(h),x2:a,y2:this.axis.y(l),stroke:this.chart.theme("candlestickBorderColor"),"stroke-width":1}),o=this.chart.svg.rect({x:a-r,y:d,width:i,height:Math.abs(this.axis.y(c)-d),fill:this.chart.theme("candlestickBackgroundColor"),stroke:this.chart.theme("candlestickBorderColor"),"stroke-width":1});this.addEvent(o,n,null),t.append(s),t.append(o)}),t}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.polygon.column3d",extend:"chart.brush.polygon.core",component:function(){var t=r.default.include("util.color"),e=r.default.include("chart.polygon.cube"),i=function(){var i,r;this.createColumn=function(n,a,o,s){var h=i,l=r,c=this.axis.x(o)-h/2,u=this.axis.y(n[a]),d=this.axis.y(0),f=this.axis.z(s)-l/2,g=this.color(s);return this.createPolygon(new e(c,d,f,h,u-d,l),function(e){for(var i=this.svg.group(),r=0;r<e.faces.length;r++){for(var h=e.faces[r],l=this.svg.polygon({fill:g,"fill-opacity":this.chart.theme("polygonColumnBackgroundOpacity"),stroke:t.darken(g,this.chart.theme("polygonColumnBorderOpacity")),"stroke-opacity":this.chart.theme("polygonColumnBorderOpacity")}),c=0;c<h.length;c++){var u=e.vectors[h[c]];l.point(u.x,u.y)}i.append(l)}return 0!=n[a]&&this.addEvent(i,o,s),i})},this.drawBefore=function(){var t=this.brush.padding,e=this.axis.x.rangeBand(),n=this.axis.z.rangeBand();i=this.brush.width>0?this.brush.width:e-2*t,r=this.brush.height>0?this.brush.height:n-2*t},this.draw=function(){for(var t=this.chart.svg.group(),e=this.listData(),i=this.brush.target,r=0;r<e.length;r++)for(var n=0;n<i.length;n++)t.append(this.createColumn(e[r],i[n],r,n));return t}};return i.setup=function(){return{width:0,height:0,padding:20,clip:!1}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.polygon.line3d",extend:"chart.brush.polygon.core",component:function(){var t=r.default.include("util.color"),e=r.default.include("chart.polygon.point"),i=function(){this.createLine=function(i,r,n,a){for(var o=this.color(n,a),s=this.axis.z.rangeBand()-2*this.brush.padding,h=this.axis.x(n),l=this.axis.y(i[n][r]),c=this.axis.z(a)-s/2,u=this.axis.x(n+1),d=this.axis.y(i[n+1][r]),f=this.axis.z(a)+s/2,g=null,p=this.chart.svg.polygon({fill:o,"fill-opacity":this.chart.theme("polygonLineBackgroundOpacity"),stroke:t.darken(o,this.chart.theme("polygonLineBorderOpacity")),"stroke-opacity":this.chart.theme("polygonLineBorderOpacity")}),v=[new e(h,l,c),new e(h,l,f),new e(u,d,f),new e(u,d,c)],m=0;m<v.length;m++)this.createPolygon(v[m],function(t){var e=t.vectors[0];p.point(e.x,e.y),null==g?g=t:e.z>g.vectors[0].z&&(g=t)});return p.order=this.axis.depth-g.max().z,p},this.draw=function(){for(var t=this.chart.svg.group(),e=this.listData(),i=this.brush.target,r=0;r<e.length-1;r++)for(var n=0;n<i.length;n++)t.append(this.createLine(e,i[n],r,n));return t}};return i.setup=function(){return{padding:10,clip:!1}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));r.default.define("chart.polygon.face",[],function(){return function(t,e,i,r,n,a,o){this.vertices=[new Float32Array([t,e,i,1]),new Float32Array([r,n,a,1]),new Float32Array([r,o,a,1]),new Float32Array([t,o,a,1])],this.vectors=[]}},"chart.polygon.core"),e.default={name:"chart.brush.canvas.dot3d",extend:"chart.brush.canvas.core",component:function(){r.default.include("util.base");var t=r.default.include("util.math"),e=r.default.include("chart.polygon.point"),i=r.default.include("chart.polygon.line"),n=r.default.include("chart.polygon.face"),a=function(){var r=null;this.createDot=function(i,r,n){var a=this.axis.x(n[0]),o=this.axis.y(n[1]),s=this.axis.z(n[2]);this.addPolygon(new e(a,o,s),function(e){var n=e.vectors[0].x,a=e.vectors[0].y,o=r*t.scaleValue(s,0,this.axis.depth,1,e.perspective);this.drawDot(i,n,a,o)})},this.createLine=function(t,e,r,n,a){var o=this.axis.x(r[0]),s=this.axis.y(r[1]),h=this.axis.z(r[2]),l=this.axis.x(null==n?r[0]:n[0]),c=this.axis.y(null==n?r[1]:n[1]),u=this.axis.z(null==n?r[2]:n[2]);this.addPolygon(new i(l,c,u,o,s,h),function(i){var r=i.vectors[0].x,n=i.vectors[0].y,o=i.vectors[1].x,s=i.vectors[1].y;this.drawLine(t,r,n,o,s,e,a)})},this.createArea=function(t,e,i,r){var a=this.axis.y(0),o=this.axis.x(i[0]),s=this.axis.y(i[1]),h=this.axis.z(i[2]),l=this.axis.x(null==r?i[0]:r[0]),c=this.axis.y(null==r?i[1]:r[1]),u=this.axis.z(null==r?i[2]:r[2]);this.addPolygon(new n(l,c,u,o,s,h,a),function(e){var i=e.vectors[0].x,r=e.vectors[0].y,n=e.vectors[1].x,a=e.vectors[1].y,o=e.vectors[2].x,s=e.vectors[2].y,h=e.vectors[3].x,l=e.vectors[3].y;this.drawArea(t,i,r,n,a,o,s,h,l)})},this.drawDot=function(t,e,i,r){this.canvas.beginPath(),this.canvas.arc(e,i,r,0,2*Math.PI,!1),this.canvas.fillStyle=t,this.canvas.fill()},this.drawLine=function(t,e,i,n,a,o,s){var h="poly"==this.brush.symbol;h&&null==r&&(r=arguments),this.canvas.beginPath(),this.canvas.moveTo(e,i),this.canvas.lineTo(n,a),this.canvas.lineWidth=o,this.canvas.strokeStyle=t,this.canvas.stroke(),s&&(h&&null!=r&&(this.canvas.lineTo(r[1],r[2]),this.canvas.fillStyle=r[0],this.canvas.fill()),this.canvas.closePath())},this.drawArea=function(t,e,i,r,n,a,o,s,h){this.canvas.beginPath(),this.canvas.moveTo(e,i),this.canvas.lineTo(r,n),this.canvas.lineTo(a,o),this.canvas.lineTo(s,h),this.canvas.lineTo(e,i),this.canvas.strokeStyle=t,this.canvas.stroke(),this.canvas.fillStyle=t,this.canvas.fill(),this.canvas.closePath()},this.draw=function(){for(var t=this.brush.symbol,e=this.color(this.brush.color),i=this.brush.size/2,r=this.listData(),n=0;n<r.length;n++){var a=r[n];2==a.length&&a.push(0),"line"==t||"poly"==t?this.createLine(e,i,a,0==n?null:r[n-1],n==a.length-1):"area"==t?this.createArea(e,i,a,0==n?null:r[n-1]):this.createDot(e,i,a)}}};return a.setup=function(){return{size:4,color:0,symbol:"dot"}},a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.canvas.equalizercolumn",extend:"chart.brush.canvas.core",component:function(){var t=r.default.include("util.base"),e=function(){var e=void 0,i=void 0;this.getTargetSize=function(){var t=this.axis.x.rangeBand();if(this.brush.size>0)return this.brush.size;var e=t-2*this.brush.outerPadding;return e<this.brush.minSize?this.brush.minSize:e},this.getBarElement=function(e,i){var r=this.getBarStyle(),n=this.color(i),a=this.getData(e)[this.brush.target[i]],o=this.brush.active,s=1;return(t.typeCheck("array",o)&&!o.includes(e)||t.typeCheck("integer",o)&&o!==e)&&(s=r.disableOpacity),{fill:n,"fill-opacity":s,stroke:r.borderColor,"stroke-width":r.borderWidth,"stroke-opacity":r.borderOpacity,hidden:0==a}},this.getBarStyle=function(){return{borderColor:this.chart.theme("barBorderColor"),borderWidth:this.chart.theme("barBorderWidth"),borderOpacity:this.chart.theme("barBorderOpacity"),borderRadius:this.chart.theme("barBorderRadius"),disableOpacity:this.chart.theme("barDisableBackgroundOpacity"),circleColor:this.chart.theme("barPointBorderColor")}},this.isErrorColumn=function(e){var i=this.brush.error;return!(t.typeCheck("array",i)&&!i.includes(e)||t.typeCheck("integer",i)&&i!==e||null===i)},this.drawBefore=function(){this.axis.y(0),e=this.getTargetSize(),i=this.axis.get("y").reverse},this.draw=function(){var r=this.brush.target,n=this.brush.innerPadding,a=this.axis.y.rangeBand()/(this.brush.unit*n),o=a+n,s=i?0:-a;this.eachData(function(n,h){for(var l=this.offset("x",h),c=l-e/2,u=this.axis.y(0),d=u,f=0,g=[],p=0;p<r.length;p++){var v=n[r[p]]+f,m=this.axis.y(v),y=Math.abs(u-m);if(this.isErrorColumn(h)){var x=.4*Math.min(this.axis.x.rangeBand(),this.axis.area("height")),b=.5*this.axis.area("height"),w=.3*x,C=l-x/2,k=b/5,B=d-w,A=d-b-w;this.canvas.save(),this.canvas.beginPath(),this.canvas.fillStyle=this.chart.theme("equalizerColumnErrorBackgroundColor"),this.canvas.moveTo(l,d),this.canvas.lineTo(C,B),this.canvas.lineTo(C,A+5),this.canvas.arcTo(C,A,C+5,A,5),this.canvas.lineTo(C+x-5,A),this.canvas.arcTo(C+x,A,C+x,A+5,5),this.canvas.lineTo(C+x,B),this.canvas.fill(),this.canvas.save(),this.canvas.font=k+"px "+this.chart.theme("fontFamily"),this.canvas.translate(l,d-b-w),this.canvas.rotate(Math.PI/2),this.canvas.textAlign="center",this.canvas.fillStyle=this.chart.theme("equalizerColumnErrorFontColor"),this.canvas.fillText(this.brush.errorText,b/1.75,k/3,b),this.canvas.restore()}else for(;y>=o;){var F=t.extend(this.getBarElement(h,p),{x:c,y:d+s,width:e,height:a});y-=o,d+=i?o:-o,this.canvas.save(),this.canvas.globalAlpha=F["fill-opacity"],this.canvas.beginPath(),this.canvas.fillStyle=F.fill,this.canvas.strokeStyle=F.stroke,this.canvas.strokeOpacity=F["stroke-opacity"],this.canvas.lineWidth=F["stroke-width"],this.canvas.rect(F.x,F.y,F.width,F.height),this.canvas.fill(),this.canvas.restore(),g.push(F)}u=m,f=v}g.length>0&&(this.chart.setCache("equalizer_"+h,0==g.length?null:g[g.length-1]),this.chart.setCache("raycast_area_"+h,{x1:g[0].x,x2:g[0].x+g[0].width,y2:this.axis.y(this.axis.y.min()),y1:g[g.length-1].y}))}),this.drawAnimation()},this.drawAnimation=function(){this.eachData(function(t,e){if(!this.isErrorColumn(e)){for(var i=this.chart.getCache("equalizer_"+e),r=0,n=0;n<this.brush.target.length;n++)r+=t[this.brush.target[n]];if(null!=i){var a=this.chart.getCache("tpf",1),o=this.chart.getCache("equalizer_move_"+e,{direction:-1,distance:0}),s=-1==o.direction?20:30;o.distance+=o.direction*s*a,Math.abs(o.distance)>=8?o.direction=1:o.distance>=0&&(o.direction=-1),o.distance<-8?o.distance=-8:o.distance>0&&(o.distance=0);var h=i.y+o.distance+-3;this.canvas.save(),this.canvas.globalAlpha=i["fill-opacity"],this.canvas.strokeStyle=i.fill,this.canvas.lineWidth=.7*i.height,this.canvas.beginPath(),this.canvas.moveTo(i.x,h),this.canvas.lineTo(i.x+i.width,h),this.canvas.closePath(),this.canvas.stroke(),this.canvas.fillStyle=this.chart.theme("barFontColor"),this.canvas.font=this.chart.theme("barFontSize")+"px",this.canvas.textAlign="center",this.canvas.textBaseline="middle",this.canvas.fillText(r,i.x+i.width/2,h+-8),this.canvas.fill(),this.canvas.restore(),this.chart.setCache("equalizer_move_"+e,o)}}})}};return e.setup=function(){return{size:0,minSize:0,outerPadding:15,innerPadding:1,unit:1,active:null,error:null,errorText:"Stopped"}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=o(i(0)),a=o(i(45));function o(t){return t&&t.__esModule?t:{default:t}}n.default.use(a.default);var s=function(){function t(e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderContext=e,this.contextWidth=i,this.contextHeight=r,this.gravity=n,this.data=[],this.isArrange=!1}return r(t,[{key:"preCheck",value:function(){for(var t=0;t<this.data.length;t++){this.data[t].active||(this.data[t]=null,this.data.splice(t,1))}return this.data.length>0}},{key:"draw",value:function(){if(this.preCheck()){for(var t=[],e=[],i=0;i<this.data.length;i++){var r=this.data[i],n=[1,0];r.force([n[0]*r.mass*this.gravity,n[1]*r.mass*this.gravity]),r.update()}for(var a=0;a<this.data.length;a++)for(var o=0;o<this.data.length;o++)if(a!=o){var s=this.data[a],h=this.data[o],l=s.distance(h);s.radius+h.radius-l>1&&t.push([s,h])}0==t.length&&(this.isArrange=!0);for(var c=0;c<t.length-1;c++)for(var u=t[c],d=c+1;d<t.length;d++){var f=t[d];(u[0]==f[0]&&u[1]==f[1]||u[1]==f[0]&&u[0]==f[1])&&e.push(d)}for(var g=0;g<t.length;g++)if(-1==e.indexOf(g)){var p=t[g],v=p[0],m=p[1],y=v.radius+m.radius,x=v.distance(m),b=[m.pos[0]-v.pos[0],m.pos[1]-v.pos[1]],w=Math.sqrt(b[0]*b[0]+b[1]*b[1]);b=[b[0]/w,b[1]/w];var C=y-x;m.pos[0]==v.pos[0]&&m.pos[1]==v.pos[1]&&(b=[0,-1]),v.pos=[-C/2*b[0]+v.pos[0],-C/2*b[1]+v.pos[1]],m.pos=[C/2*b[0]+m.pos[0],C/2*b[1]+m.pos[1]];var k=[b[0]*v.accel[0],b[1]*v.accel[1]],B=[b[0]*m.accel[0],b[1]*m.accel[1]];v.pos[0]<m.pos[0]?(v.veloc=[.7*v.veloc[0],.99*v.veloc[1]],v.force([-B[0],-B[1]])):(this.isArrange&&(v.veloc=[m.pos[0]>v.pos[0]?-1:1,m.pos[1]>v.pos[1]?-1:1],v.force([-k[0],-k[1]])),m.veloc=[.7*m.veloc[0],.99*m.veloc[1]],m.force([-k[0],-k[1]]))}for(var A=(new Date).getTime(),F=0;F<this.data.length;F++){var T=this.data[F];T.pos[0]>this.contextWidth&&(T.pos[0]=this.contextWidth),T.pos[1]>this.contextHeight?T.pos[1]=this.contextHeight:T.pos[1]<0&&(T.pos[1]=0),this.data[F].draw(this.renderContext,A)}}}}]),t}();e.default={name:"chart.brush.canvas.activebubble",extend:"chart.brush.canvas.core",component:function(){var t=n.default.include("util.canvas.base.mortalbubble"),e=n.default.include("util.color"),i=function(){function i(t,i){var r=e.rgb(t);return"rgba("+r.r+","+r.g+","+r.b+","+i+")"}this.drawBefore=function(){var t=this.chart.getCache("active_bubble_count",0),e=this.axis.data.length;(null==this.chart.getCache("active_bubble")&&this.chart.setCache("active_bubble",new s(this.canvas,this.axis.area("width"),this.axis.area("height"),this.brush.gravity)),t!=e)&&(this.chart.getCache("active_bubble").isArrange=!1,this.chart.setCache("active_bubble_count",e))},this.draw=function(){for(var e=this.chart.getCache("active_bubble"),r=0;this.axis.data.length>0;){var n=this.color(r),a=this.axis.data.shift(),o=this.getValue(a,"startTime",Date.now()),s=this.getValue(a,"duration",1e3);e.data.push(new t(o,s,this.brush.radius,i(n,this.brush.opacity),i(n,.2))),r++}e.draw()}};return i.setup=function(){return{gravity:.2,radius:20,opacity:1}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(11)),a=o(i(12));function o(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default,a.default),e.default={name:"util.canvas.base.mortalbubble",extend:"util.canvas.base.kinetic",component:function(){var t=r.default.include("util.canvas.base");return function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#497eff",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgba(16,116,252,0.2)";this.active=!0,this.birthtime=e,this.age=i,this.radius=r,this.color=n,this.shadowColor=a,this.force([30,0]),this.draw=function(e,i){e.shadowColor=this.shadowColor,e.shadowBlur=10,e.shadowOffsetX=0,e.shadowOffsetY=10;var r=new t(e),n=this.age-(i-this.birthtime),a=this.radius;if(n<=0)this.active=!1;else if(n<=300&&(a*=(300-n)/300+1),n<=240){var o=(240-n)/240,s=(a/3-2)*o+2,h=(a/3-2)*Math.sin(Math.PI/2*o)+2,l=3*o+2;e.lineCap="round",r.drawLine(this.pos[0]+s,this.pos[1],this.pos[0]+h,this.pos[1],this.color,l),r.drawLine(this.pos[0]-s,this.pos[1],this.pos[0]-h,this.pos[1],this.color,l),r.drawLine(this.pos[0],this.pos[1]+s,this.pos[0],this.pos[1]+h,this.color,l),r.drawLine(this.pos[0],this.pos[1]-s,this.pos[0],this.pos[1]-h,this.color,l),e.lineCap="butt"}else r.drawCircle(this.pos[0],this.pos[1],a,this.color)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=o(i(0)),a=o(i(47));function o(t){return t&&t.__esModule?t:{default:t}}n.default.use(a.default);var s=function(){function t(e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderContext=e,this.contextWidth=i,this.contextHeight=r,this.bubbles={},this.animationAlpha=.1,this.hoverBubble=null}return r(t,[{key:"processData",value:function(t){var e=this;if(null!=t){var i=n.default.include("util.canvas.base.bubble"),r=t.reduce(function(t,e){return t+e.count},0),a=!1;for(var o in this.bubbles)this.bubbles[o].mark=!1;var s=function(t){var i=e.contextWidth>e.contextHeight?e.contextHeight:e.contextWidth;return t/r*(i/6)+50};for(var h in t.forEach(function(t){var r=e.bubbles[t.name];if(null==r){var n=new i(s(t.count),t.name,t.color,t.shadowColor,t.textColor,t.textStyle);n.data=t,n.mark=!0,n.pos=[Math.random()*e.contextWidth,Math.random()*e.contextHeight],e.bubbles[t.name]=n,a=!0}else{r.mark=!0;var o=s(t.count);Math.abs(r.radius-o)>20&&(r.radius=o,a=!0)}}),this.bubbles){this.bubbles[h].mark||(delete this.bubbles[h],a=!0)}a&&(this.animationAlpha=.1)}}},{key:"start",value:function(t){this.bubbles={},this.processData(t)}},{key:"draw",value:function(){this.animationAlpha*=.99;var t=Object.values(this.bubbles);this.animationAlpha<0&&(this.animationAlpha=0);for(var e=[this.contextWidth/2,this.contextHeight/2],i=0;i<t.length;i++){var r=t[i],n=[e[0]-r.pos[0],e[1]-r.pos[1]];r.pos=[r.pos[0]+n[0]*this.animationAlpha,r.pos[1]+n[1]*this.animationAlpha]}for(var a=0;a<t.length;a++)for(var o=0;o<t.length;o++)if(a!=o){var s=t[a],h=t[o],l=s.distance(h),c=s.radius+h.radius+4;if(l<c){var u=(l-c)/l*.5,d=(s.pos[0]-h.pos[0])*u,f=(s.pos[1]-h.pos[1])*u;s.pos[0]-=d,s.pos[1]-=f,h.pos[0]+=d,h.pos[1]+=f}}for(var g=(new Date).getTime(),p=0;p<t.length;p++){var v=t[p];v.update(),this.hoverBubble&&this.hoverBubble!=v?v.dim=!0:v.dim=!1,t[p].draw(this.renderContext,g)}}},{key:"pick",value:function(t,e){for(var i=!1,r=Object.values(this.bubbles),n=0;n<r.length;n++){if(r[n].distancePos([t,e])<r[n].radius){this.hoverBubble=r[n],i=!0;break}}return i||(this.hoverBubble=null),null!=this.hoverBubble?this.hoverBubble.data.origin:null}}]),t}();e.default={name:"chart.brush.canvas.bubblecloud",extend:"chart.brush.canvas.core",component:function(){var t=n.default.include("util.color");return function(){this.draw=function(){var e=this.chart.getCache("bubble_cloud"),i=this.chart.getCache("bubble_data");null!=e&&null!=i&&i==this.axis.data?e.draw():(e=new s(this.canvas,this.axis.area("width"),this.axis.area("height")),this.eachData(function(i,r){var n=this.color(r,null),a=this.getValue(i,"title","Unknown"),o={name:a,count:this.getValue(i,"capacity",1),color:n,shadowColor:function(e,i){var r=t.rgb(e);return"rgba("+r.r+","+r.g+","+r.b+","+i+")"}(n,.2),textColor:this.chart.theme("bubbleCloudFontColor"),textStyle:this.chart.theme("bubbleCloudFontWeight")+" "+this.chart.theme("bubbleCloudFontSize")+"px "+this.chart.theme("fontFamily"),origin:i};e.bubbles[a]=o}),e.start(Object.values(e.bubbles)),e.draw(),this.chart.setCache("picker",{obj:e,func:e.pick}),this.chart.setCache("bubble_cloud",e),this.chart.setCache("bubble_data",this.axis.data))}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(11)),a=o(i(12));function o(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default,a.default),e.default={name:"util.canvas.base.bubble",extend:"util.canvas.base.kinetic",component:function(){var t=r.default.include("util.canvas.base");return function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#497eff",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgba(16,116,252,0.2)",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#fff",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"bold 11px Noto Sans KR";this.mark=!1,this.dim=!1,this.radius=e,this.text=i,this.color=r,this.shadowColor=n,this.textColor=a,this.draw=function(e,i){this.dim&&(e.globalAlpha=.5),e.shadowColor=this.shadowColor,e.shadowBlur=10,e.shadowOffsetX=0,e.shadowOffsetY=10,new t(e).drawCircle(this.pos[0],this.pos[1],this.radius,this.color),e.fillStyle=this.textColor,e.textAlign="center",e.font=o,e.fillText(this.text,this.pos[0],this.pos[1]+5),e.globalAlpha=1}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.canvas.activecircle",extend:"chart.brush.canvas.core",component:function(){var t=r.default.include("util.canvas.base"),e=r.default.include("util.color"),i=function(i,r,n,a,o){this.radius=1,this.position=[0,0],this.velocity=[0,0],this.acceleration=[0,0],this.gravity=-9.8,this.mass=1,this.weight=1,this.friction=.1,this.runtime=0,this.checkForMotion=function(t,e){var i=this.massToWeight(this.mass,this.gravity),r=i*Math.cos(t*Math.PI/180),n=i*Math.sin(t*Math.PI/180),a=e*r;return console.log("무게: "+i+", 수직항력: "+-r+", 힘: "+n+", 정지마찰력: "+a),n>a},this.calcAcceleration=function(t,e){var i=this.massToWeight(this.mass,this.acceleration[1]),r=i*Math.cos(t*Math.PI/180);return(i*Math.sin(t*Math.PI/180)-e*r)/this.mass},this.poundToWeight=function(t){return t*(1/.2248)},this.weightToPound=function(t){return.2248*t},this.massToWeight=function(t){return t*this.gravity},this.weightToMass=function(t){return t/this.gravity},this.updateAcceleration=function(){var t=this.velocity[0]*this.runtime,e=this.velocity[1]*this.runtime,i=this.acceleration[0]*Math.pow(this.runtime,2),n=this.acceleration[1]*Math.pow(this.runtime,2);this.position[0]=r.x(a+t+i),this.position[1]=r.y(o+e+n)},this.move=function(t,e){if(1!=e){var i=[this.position[0],this.position[1]];this.runtime+=1*e,this.updateAcceleration(),console.log("런타임: "+this.runtime+", 프레임 사이의 평균 속도: "+(this.position[1]-i[1])/e+"M/s")}},this.stop=function(){this.velocity=[0,0],this.acceleration=[0,0]},this.draw=function(){var r=new t(i);i.shadowColor=function(t,i){var r=e.rgb(t);return"rgba("+r.r+","+r.g+","+r.b+","+i+")"}(n,.3),i.shadowBlur=10,i.shadowOffsetX=0,i.shadowOffsetY=10,i.globalAlpha=1,r.drawCircle(this.position[0],this.position[1],this.radius,n)}},n=function(){this.checkWallCollision=function(t){var e=this.axis.x(this.axis.x.min()),i=this.axis.x(this.axis.x.max()),r=this.axis.y(this.axis.y.min()),n=this.axis.y(this.axis.y.max());return t.position[0]-t.radius<e||t.position[0]+t.radius>i||t.position[1]-t.radius<n||t.position[1]+t.radius>r},this.draw=function(){var t=this.chart.getCache("fps",1),e=this.chart.getCache("tpf",1),r=this.chart.getCache("active_circle",[]);0==r.length&&this.eachData(function(t,e){var n=new i(this.canvas,this.axis,this.color(e),t.x,t.y);n.radius=t.radius||this.brush.radius,n.position=[this.axis.x(t.x),this.axis.y(t.y)],n.velocity=[t.vx||0,t.vy||0],n.acceleration=[t.ax||0,t.ay||0],r.push(n)});for(var n=0;n<r.length;n++){var a=r[n];a.move(t,e),a.draw()}this.chart.setCache("active_circle",r)}};return n.setup=function(){return{radius:20}},n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(9));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.fullgauge",extend:"chart.brush.donut",component:function(){var t=r.default.include("util.math"),e=function(){var e,i,r,n,a,o,s;this.createText=function(t,e,i,r,n){var a=this.svg.group().translate(i,r),o=this.chart.theme("gaugeFontSize");return a.append(this.chart.text({"text-anchor":"middle","font-size":o,"font-weight":this.chart.theme("gaugeFontWeight"),fill:this.color(e),y:o/3},this.format(t,e)).scale(n)),a},this.createTitle=function(t,e,i,r,n,a,o){var s=this.svg.group().translate(i+n,r+a),h=0==n?"middle":n<0?"end":"start",l=this.chart.theme("gaugeTitleFontSize");return s.append(this.chart.text({"text-anchor":h,"font-size":l,"font-weight":this.chart.theme("gaugeTitleFontWeight"),fill:this.chart.theme("gaugeTitleFontColor"),y:l/3},t).scale(o)),s},this.drawUnit=function(h,l){var c=this.axis.c(h),u=this.getValue(l,"value",0),d=this.getValue(l,"title"),f=this.getValue(l,"max",100),g=this.getValue(l,"min",0),p=this.brush.startAngle,v=this.brush.endAngle;v>=360&&(v=359.99999);var m=v*((u-g)/(f-g));m>v&&(m=v);var y=c.width,x=c.height,b=c.x,w=c.y;i=Math.min(y,x)/2,r=y/2+b,n=x/2+w,a=i-this.brush.size,o=a-this.brush.size,s=t.scaleValue(i,40,400,1,1.5);var C="butt"==this.brush.symbol?this.chart.theme("gaugePaddingAngle"):0;return e.append(this.drawDonut(r,n,o,a,p+m+C,v-m-2*C,{stroke:this.chart.theme("gaugeBackgroundColor"),fill:"transparent"})),e.append(this.drawDonut(r,n,o,a,p,m,{stroke:this.color(h),"stroke-linecap":this.brush.symbol,fill:"transparent"})),this.brush.showText&&e.append(this.createText(u,h,r,n-.1*a,s)),""!=d&&e.append(this.createTitle(d,h,r,n-.1*a,this.brush.titleX,this.brush.titleY,s)),e},this.draw=function(){return e=this.chart.svg.group(),this.eachData(function(t,e){this.drawUnit(e,t)}),e}};return e.setup=function(){return{symbol:"butt",size:60,startAngle:0,endAngle:360,showText:!0,titleX:0,titleY:0,format:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.bargauge",extend:"chart.brush.core",component:function(){var t=function(t,e,i){this.draw=function(){var r=t.svg.group(),n=e.c(0),a=n.width,o=n.x,s=n.y;return this.eachData(function(e,n){var h=t.svg.group(),l=this.getValue(e,"value",0),c=this.getValue(e,"title",""),u=this.getValue(e,"max",100),d=this.getValue(e,"min",0),f=a/(u-d)*l,g=s+i.size/2+i.cut-1;h.append(t.svg.rect({x:o+i.cut,y:s,width:a,height:i.size,fill:t.theme("bargaugeBackgroundColor")})),h.append(t.svg.rect({x:o,y:s,width:f,height:i.size,fill:t.color(n)})),h.append(t.text({x:o+i.cut,y:g,"text-anchor":"start","font-size":t.theme("bargaugeFontSize"),fill:t.theme("bargaugeFontColor")},c)),h.append(t.text({x:a-i.cut,y:g,"text-anchor":"end","font-size":t.theme("bargaugeFontSize"),fill:t.theme("bargaugeFontColor")},this.format(l,n))),this.addEvent(h,n,null),r.append(h),s+=i.size+i.cut}),r}};return t.setup=function(){return{cut:5,size:20,format:null}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(3));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.stackline",extend:"chart.brush.line",component:function(){return function(){this.draw=function(){return this.drawLine(this.getStackXY())}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(7));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.brush.stackscatter",extend:"chart.brush.scatter",component:function(){return function(){this.draw=function(){return this.drawScatter(this.getStackXY())}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.arcequalizer",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){var e,i=this,r=0,n=0,a=0,o=0,s=0,h=0;function l(t,e,i,r){var n=(r-90)*Math.PI/180;return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}function c(t,e,i){i-e==360&&(i=359.9);var r=l(n,a,t,i),o=l(n,a,t,e),s=!(i-e<=180);return{sx:o.x,sy:o.y,ex:r.x,ey:r.y,sweep:s}}function u(t,e,i,r){var n=c(e,i,r),a=c(e+o,i,r);t.MoveTo(n.sx,n.sy),t.Arc(e,e,0,n.sweep,1,n.ex,n.ey),t.LineTo(a.ex,a.ey),t.Arc(e+o,e+o,0,a.sweep,0,a.sx,a.sy),t.LineTo(n.sx,n.sy),t.ClosePath()}this.drawBefore=function(){e=this.svg.group();var t=this.axis.c(0),i=Math.abs(t.width-t.height);r=Math.min(t.width,t.height)/2,n=r+(t.width>t.height?i/2:0),a=r+(t.width<t.height?i/2:0),h=this.listData().length,o=(r-this.brush.textRadius)/this.brush.stackCount,s=360/(0==h?1:h)},this.draw=function(){for(var r=function(){var e=0,r=i.brush.target,n=i.brush.maxValue,a=[];if(t.typeCheck("function",n)&&(n=0,i.eachData(function(t){n=Math.max(n,i.brush.maxValue.call(i,t))})),i.eachData(function(t,o){a[o]=[];for(var s=0;s<r.length;s++){var h=r[s],l=t[h]/n;e+=t[h],a[o][s]=Math.ceil(i.brush.stackCount*l)}}),0==a.length){a[0]=[];for(var o=0;o<r.length;o++)a[0][o]=0==o?i.brush.stackCount:0}return{total:e,data:a}}(),l=r.data,c=r.total,d=this.chart.theme("arcEqualizerBorderColor"),f=this.chart.theme("arcEqualizerBorderWidth"),g=this.chart.theme("arcEqualizerFontSize"),p=this.chart.theme("arcEqualizerFontColor"),v=0;v<l.length;v++)for(var m=0,y=0;y<l[v].length;y++){for(var x=this.svg.path({fill:0==h?this.chart.theme("arcEqualizerBackgroundColor"):this.color(y),stroke:d,"stroke-width":f}),b=m;b<m+l[v][y];b++)u(x,this.brush.textRadius+b*o,v*s,(v+1)*s);m+=l[v][y],this.addEvent(x,v,y),e.append(x)}var w=this.chart.text({"font-size":g,"text-anchor":"middle",fill:p,x:n,y:a,dy:g/3}).text(this.format(c));return e.append(w),e}};return e.setup=function(){return{clip:!1,maxValue:100,stackCount:25,textRadius:50,format:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.pyramid",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){this.createText=function(t,e,i,r){var n=this.chart.theme("pyramidTextLineSize"),a=this.chart.theme("pyramidTextFontSize"),o=e+n,s=i+(r>0&&r<n?i-r/2:0),h=this.svg.group(),l=this.svg.line({stroke:this.chart.theme("pyramidTextLineColor"),"stroke-width":this.chart.theme("pyramidTextLineWidth"),x1:e,y1:i,x2:o,y2:s}),c=this.chart.text({"font-size":this.chart.theme("pyramidTextFontSize"),fill:this.chart.theme("pyramidTextFontColor"),x:o,y:s,dx:3,dy:a/3}).text(t);return h.append(l),h.append(c),h},this.draw=function(){var e=this.svg.group(),i=function(e,i){var r=0,n=[];for(var a in e){var o=t.inArray(a,i);-1!=o&&(r+=e[a],n.push({key:a,value:e[a],rate:0,index:o}))}for(var s=0;s<n.length;s++)n[s].rate=n[s].value/r;return n.sort(function(t,e){return e.value-t.value}),n}(this.axis.data.length>0?this.axis.data[0]:{},this.brush.target),r=this.axis.area(),n=r.width/2,a=r.height,o=0,s=2*n,h=Math.atan2(a,n),l=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),c=0,u=this.brush.reverse;u&&(a=0);for(var d=0;d<i.length;d++){var f=i[d],g=f.rate*l,p=o+g*Math.cos(h),v=s-g*Math.cos(-h),m=g*Math.sin(h),y=u?a+m:a-m,x=this.svg.polygon({fill:this.color(d),"stroke-width":0});if(this.addEvent(x,0,f.index),e.append(x),d>0){var b=this.chart.theme("pyramidLineWidth"),w=this.svg.line({stroke:this.chart.theme("pyramidLineColor"),"stroke-width":b,x1:o-b/2,y1:a,x2:s+b/2,y2:a});w.translate(r.x,r.y),e.append(w)}if(this.brush.showText){var C=(v+s)/2,k=(m=(y+a)/2,this.createText(t.typeCheck("function",this.brush.format)?this.format(f.key,f.value,f.rate):f.value,C,m,c-m));k.translate(r.x,r.y),e.append(k),c=m}x.point(o,a),x.point(p,y),x.point(v,y),x.point(s,a),x.translate(r.x,r.y),o=p,s=v,a=y}return e}};return e.setup=function(){return{clip:!1,showText:!1,format:null,reverse:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.ratebar",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=function(){this.getBarStyle=function(){return{fontColor:this.chart.theme("rateBarFontColor"),fontSize:this.chart.theme("rateBarFontSize"),borderColor:this.chart.theme("rateBarBorderColor"),borderWidth:this.chart.theme("rateBarBorderWidth"),borderRadius:this.chart.theme("rateBarBorderRadius"),disableOpacity:this.chart.theme("rateBarDisableBackgroundOpacity"),tooltipFontColor:this.chart.theme("rateBarTooltipFontColor"),tooltipFontSize:this.chart.theme("rateBarTooltipFontSize"),tooltipBackgroundColor:this.chart.theme("rateBarTooltipBackgroundColor"),tooltipBorderColor:this.chart.theme("rateBarTooltipBorderColor"),disableBackgroundOpacity:this.chart.theme("rateBarDisableBackgroundOpacity")}},this.createTextElement=function(t,e,i){var r=this.getBarStyle();return this.svg.text({"font-size":r.fontSize,"font-weight":"bold",fill:r.fontColor,dx:t/2,dy:e/2+r.fontSize/3,"text-anchor":"middle"}).text(i)},this.createTooltipElement=function(t,e){var i=this.getBarStyle(),r=this.brush.tooltipSize,n=this.svg.getTextSize(e),a=this.svg.group(),o=this.svg.path({stroke:i.tooltipBorderColor,"stroke-dasharray":"2,2",fill:"transparent"});o.MoveTo(1,r),o.VLineTo(r/2),o.HLineTo(t-1),o.VLineTo(r);var s=this.svg.rect({fill:i.tooltipBackgroundColor,width:n.width,height:r-2,x:t/2-n.width/2,y:1}),h=this.svg.text({"font-size":i.tooltipFontSize,fill:i.tooltipFontColor,x:t/2,y:r/2,"text-anchor":"middle","alignment-baseline":"middle"}).text(e);return a.append(o),a.append(s),a.append(h),a.translate(0,-r),a},this.createBarElement=function(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",h=this.svg.group(),l=this.getBarStyle(),c=this.brush.target.indexOf(e),u=this.color(t,c),d=this.brush.activeEvent,f=this.svg.path({fill:u,stroke:l.borderColor,"stroke-width":l.borderWidth});if(f.MoveTo(n,0),f.LineTo(i-a,0),f.Arc(a,a,0,0,1,i,a),f.LineTo(i,r-a),f.Arc(a,a,0,0,1,i-a,r),f.LineTo(n,r),f.Arc(n,n,0,0,1,0,r-n),f.LineTo(0,n),f.Arc(n,n,0,0,1,n,0),f.ClosePath(),h.append(f),h.append(this.createTextElement(i,r,o)),this.svg.getTextSize(s).width<i&&h.append(this.createTooltipElement(i,s)),this.addEvent(h,t,c),null!=d){var g=this;!function(t,e,i){t.on(d,function(t){g.setActiveBarElement(e,i)}),t.attr({cursor:"pointer"})}(h,t,e)}return h},this.setActiveBarElement=function(t,e){var i=this.getBarStyle();this.barList.forEach(function(r,n){for(var a in r)null!=t&&t==n&&null!=e&&e!=a?r[a].attr({"fill-opacity":i.disableBackgroundOpacity}):r[a].attr({"fill-opacity":1})})},this.drawBefore=function(){this.barList=[]},this.draw=function(){var e=this,i=this.getBarStyle(),r=this.brush.target,n=this.brush.tooltipSize,a=this.brush.padding,o=this.chart.svg.group(),s=this.axis.y.rangeBand()-n-a/2;return this.eachData(function(a,h){var l=r.filter(function(t){return a[t]>0}),c=l.reduce(function(t,e){return t+a[e]},0),u=0,d=e.offset("y",h)-s/2+n/2;l.forEach(function(n,f){var g=e.axis.x.rate(a[n],c),p=Math.round(a[n]/c*e.axis.x.max()),v=t.typeCheck("function",e.brush.showText)?e.brush.showText.call(e,a[n],p,n):p+"%",m=t.typeCheck("function",e.brush.showTooltip)?e.brush.showTooltip.call(e,a[n],p,n):a[n],y=e.createBarElement(h,n,g,s,0==f||1==l.length?i.borderRadius:0,f==l.length-1||1==r.length?i.borderRadius:0,v,m);y.translate(u,d),o.append(y),u+=g,e.barList[h]||(e.barList[h]={}),e.barList[h][n]=y})}),this.setActiveBarElement(this.brush.activeIndex,this.brush.activeTarget),o}};return e.setup=function(){return{activeIndex:null,activeTarget:null,activeEvent:null,showText:null,showTooltip:null,tooltipSize:14,padding:0}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(10));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default);var o=function(t,e){var i=null;t=e?t.slice(0):t;function r(e,i){var r=t[e];t[e]=t[i],t[i]=r}this.setCompare=function(t){i=t},this.run=function(e,n){var a=null;return"number"!=typeof e&&(e=0),"number"!=typeof n&&(n=t.length-1),e<n&&(a=function(e,n,a){var o=n,s=t[e];r(e,a);for(var h=n;h<a;h++)(i(t[h],s)||!i(s,t[h])&&h%2==1)&&(r(h,o),o++);return r(a,o),o}(e+Math.ceil(.5*(n-e)),e,n),this.run(e,a-1),this.run(a+1,n)),t}};e.default={name:"chart.brush.flame",extend:"chart.brush.core",component:function(){var t=r.default.include("util.base"),e=r.default.include("chart.brush.treemap.nodemanager"),i=3,n=function(){var r=this,n=null,a=0,s=0,h=new e,l=1,c=[],u=null;function d(t){return null==u?1:t<u?l:1}function f(e,n,o,h){var l=r.color(0);n.width=o,n.height=a,n.x=h,"bottom"==r.brush.nodeOrient?n.y=s-a*n.depth:n.y=a*n.depth,t.typeCheck("function",r.brush.nodeColor)&&(l=r.brush.nodeColor.call(r.chart,n));var c=function(t,e){var i=r.chart.color(e),n=r.svg.rect({fill:i,"fill-opacity":d(t.depth),stroke:r.chart.theme("flameNodeBorderColor"),"stroke-width":r.chart.theme("flameNodeBorderWidth"),width:t.width,height:t.height,x:t.x,y:t.y,cursor:"pointer"});return n.hover(function(){n.attr({stroke:i})},function(){n.attr({stroke:r.chart.theme("flameNodeBorderColor")})}),r.addEvent(n,t),t.element={rect:n},n}(n,l),u=function(e,n){if(!t.typeCheck("function",r.brush.format))return null;var o=r.chart.color(n),s=r.chart.theme("flameTextFontSize"),h=e.x;"middle"==r.brush.textAlign?h+=e.width/2:"end"==r.brush.textAlign?h+=e.width-i:h+=i;var l=r.chart.text({"font-size":s,"font-weight":"bold",fill:r.chart.theme("flameTextFontColor"),"fill-opacity":d(e.depth),x:h,y:e.y+s/3+a/2,"text-anchor":r.brush.textAlign,cursor:"pointer"},r.format(e));return l.hover(function(){e.element.rect.attr({stroke:o})},function(){e.element.rect.attr({stroke:r.chart.theme("flameNodeBorderColor")})}),r.addEvent(l,e),e.element.text=l,l}(n,l);if("start"==r.brush.nodeAlign)for(var g=n.x,p=0;p<n.children.length;p++){var v=(m=n.children[p]).value/n.value;f(e,m,y=n.width*v,g),g+=y}else for(g=n.x+n.width,p=n.children.length-1;p>=0;p--){var m,y;v=(m=n.children[p]).value/n.value;f(e,m,y=n.width*v,g-=y)}e.append(c),null!=u&&e.append(u)}function g(t){!function t(e,i){e.depth>0&&(e.value=i,c.push(e),e.parent&&t(e.parent,i))}(t,t.value),function t(e){for(var i=0;i<e.children.length;i++){var r=e.children[i];c.push(r),r.children.length>0&&t(r)}}(t),function(){var t=new o(c);t.setCompare(function(t,e){return t.depth<e.depth}),t.run()}();for(var i=function(t){for(var e=[],i="",r=0;r<c.length;r++){if(""==i?i="0":i+=".0",!(c[r].depth<t.depth)){p(t,i,e);break}e.push({index:i,text:c[r].text,value:c[r].value})}return e}(t),n=new e,a=0;a<i.length;a++){var s=i[a];n.insertNode(s.index,{text:s.text,value:s.value,x:0,y:0,width:0,height:0})}return r.axis.cacheNodes=n,n.getNode()[0]}function p(t,e,i){i.push({index:e,value:t.value,text:t.text});for(var r=0;r<t.children.length;r++){p(t.children[r],e+"."+r,i)}}this.drawBefore=function(){n=this.svg.group();for(var t=0;t<this.axis.data.length;t++){var e=this.axis.data[t],i=this.getValue(e,"index");h.insertNode(i,{text:""+this.getValue(e,"text",""),value:this.getValue(e,"value",0),x:this.getValue(e,"x",0),y:this.getValue(e,"y",0),width:this.getValue(e,"width",0),height:this.getValue(e,"height",0)})}var r=null==this.brush.maxDepth?function(t){for(var e=0,i=0;i<t.length;i++)e=Math.max(e,t[i].depth);return e}(h.getNodeAll()):this.brush.maxDepth;a=this.axis.area("height")/r,s=this.axis.area("height"),l=this.chart.theme("flameDisableBackgroundOpacity")},this.draw=function(){var e=this.axis.area(),i=h.getNode()[0],r=this.brush.activeIndex;if(i){if(t.typeCheck("string",r)){var a=h.getNode(r);null==a&&(a=this.axis.cacheNodes.getNode(r)),i=g(a),u=a.depth}f(n,i,e.width,e.x)}return n}};return n.setup=function(){return{maxDepth:null,nodeOrient:"bottom",nodeAlign:"end",textAlign:"start",nodeColor:null,activeIndex:null,clip:!1,format:null}},n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.cross",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(e,i,r){var n,a,o,s,h,l=this,c=0,u=0,d=[];function f(t,e,i){if(!d[t]){var r=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.element.appendChild(r),d[t]=r}d[t].textContent=i}this.drawBefore=function(){i=this.chart.axis(r.axis),c=e.padding("left")+i.area("x"),u=e.padding("top")+i.area("y"),n=e.svg.group({visibility:"hidden"},function(){t.typeCheck("function",r.yFormat)&&(a=e.svg.line({x1:0,y1:0,x2:i.area("width"),y2:0,stroke:e.theme("crossBorderColor"),"stroke-width":e.theme("crossBorderWidth"),opacity:e.theme("crossBorderOpacity")}),h=e.svg.group({},function(){e.svg.polygon({fill:e.theme("crossBalloonBackgroundColor"),"fill-opacity":e.theme("crossBalloonBackgroundOpacity"),points:l.balloonPoints("left",50,18,5)}),e.text({"font-size":e.theme("crossBalloonFontSize"),fill:e.theme("crossBalloonFontColor"),"text-anchor":"middle",x:25,y:12})}).translate(-55,0)),t.typeCheck("function",r.xFormat)&&(o=e.svg.line({x1:0,y1:0,x2:0,y2:i.area("height"),stroke:e.theme("crossBorderColor"),"stroke-width":e.theme("crossBorderWidth"),opacity:e.theme("crossBorderOpacity")}),s=e.svg.group({},function(){e.svg.polygon({fill:e.theme("crossBalloonBackgroundColor"),"fill-opacity":e.theme("crossBalloonBackgroundOpacity"),points:l.balloonPoints("bottom",50,18,5)}),e.text({"font-size":e.theme("crossBalloonFontSize"),fill:e.theme("crossBalloonFontColor"),"text-anchor":"middle",x:25,y:17})}).translate(0,i.area("height")+5))}).translate(c,u)},this.draw=function(){return this.on("axis.mouseover",function(t){n.attr({visibility:"visible"})},r.axis),this.on("axis.mouseout",function(t){n.attr({visibility:"hidden"})},r.axis),this.on("axis.mousemove",function(t){n.attr({visibility:"visible"});var e=t.bgX-c+3,d=t.bgY-u+3;if(a&&a.attr({y1:d,y2:d}),o&&o.attr({x1:e,x2:e}),h){h.translate(-55,d-9);var g=i.y.invert(t.chartY+3),p=r.yFormat.call(l.chart,g);f(0,h.get(1),p)}if(s){s.translate(e-25,i.area("height")+5);g=i.x.invert(t.chartX+3),p=r.xFormat.call(l.chart,g);f(1,s.get(1),p)}},r.axis),n}};return e.setup=function(){return{axis:0,xFormat:null,yFormat:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.legend",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(e,i,r){var n=[],a={};function o(e){var i=[0];return t.typeCheck("array",e)?i=e:t.typeCheck("integer",e)&&(i=[e]),i}function s(){for(var t=o(r.brush),i=[],n=0;n<t.length;n++)i[n]=e.get("brush",t[n]);return i}function h(t){if(r.filter){n[t.index]||(n[t.index]={});for(var e=0;e<t.target.length;e++)n[t.index][t.target[e]]=!0}}function l(t){var i=[],r=[],o=t[0].index;for(var s in n[o])n[o][s]&&(i.push(s),r.push(a[s]));for(var h=0;h<t.length;h++)e.updateBrush(t[h].index,{target:i,colors:r});e.isRender()||e.render(),e.setCache("legend_target",i),e.emit("legend.filter",[i])}this.getLegendIcon=function(i){for(var o=[],h=i.target.length,c=0;c<h;c++){var u=e.svg.group(),d=i.target[c],f=d,g=e.color(c,r.colors||i.colors);a[d]=g,t.typeCheck("function",r.format)&&(f=this.format(d));var p=e.svg.getTextSize(f,{fontSize:e.theme("legendFontSize")});if(r.filter)u.append(e.svg.line({x1:0,x2:17,y1:-2.75,y2:-2.75,stroke:g,"stroke-width":13,"stroke-linecap":"round"})),u.append(e.svg.circle({cx:17,cy:-2.75,r:5.5,fill:e.theme("legendSwitchCircleColor")})),u.append(e.text({x:27,y:0,"font-size":e.theme("legendFontSize"),fill:e.theme("legendFontColor"),"text-anchor":"start"},f)),o.push({icon:u,width:17+p.width+12.5,height:15.5}),function(t,o){o.attr({cursor:"pointer"}),o.on("click",function(h){n[i.index][t]?(o.get(0).attr({stroke:e.theme("legendSwitchDisableColor")}),o.get(2).attr({fill:e.theme("legendSwitchDisableColor")}),o.get(1).attr({cx:0}),n[i.index][t]=!1):(o.get(0).attr({stroke:a[t]}),o.get(2).attr({fill:e.theme("legendFontColor")}),o.get(1).attr({cx:17}),n[i.index][t]=!0),l(r.brushSync?s():[i])})}(d,u);else{var v=e.theme("legendFontSize");if(null!=r.icon){var m=t.typeCheck("function",r.icon)?r.icon.apply(e,[d]):r.icon;u.append(e.text({x:0,y:2,"font-size":v,fill:g},m))}else u.append(e.svg.circle({cx:v/2,cy:-2,r:v/2,fill:g}));u.append(e.text({x:1.2*v,y:0,"font-size":v,fill:e.theme("legendFontColor"),"text-anchor":"start"},f)),o.push({icon:u,width:v+p.width+10,height:15.5})}}return o},this.draw=function(){for(var t=e.svg.group(),i=0,n=0,a=0,s=0,l=0,c=0,u=o(r.brush),d=[],f=0;f<u.length;f++){var g=u[f];if(!(r.brushSync&&f>0)){for(var p=e.get("brush",g),v=this.getLegendIcon(p),m=0;m<v.length;m++)t.append(v[m].icon),v[m].icon.translate(i,n),"bottom"==r.orient||"top"==r.orient?(i+v[m].width>e.area("x2")&&(i=0,n+=v[m].height,c+=v[m].height,v[m].icon.translate(i,n),d.push(a),a=0),i+=v[m].width+12.5,a+=v[m].width+12.5,c<v[m].height&&(c=v[m].height)):(n+=v[m].height,s+=v[m].height,l<v[m].width&&(l=v[m].width));a>0&&d.push(a),d.length>0&&(a=Math.max.apply(Math,d)),h(p)}}if("bottom"==r.orient||"top"==r.orient){n=5+("bottom"==r.orient?e.area("y2")+e.padding("bottom")-c:e.area("y")-e.padding("top"));"start"==r.align?i=e.area("x"):"center"==r.align?i=e.area("x")+(e.area("width")/2-a/2):"end"==r.align&&(i=e.area("x2")-a)}else{i=5+("left"==r.orient?e.area("x")-e.padding("left"):e.area("x2")+e.padding("right")-l);"start"==r.align?n=e.area("y"):"center"==r.align?n=e.area("y")+(e.area("height")/2-s/2):"end"==r.align&&(n=e.area("y2")-s)}return t.translate(Math.floor(i)+r.dx,Math.floor(n)+r.dy),t}};return e.setup=function(){return{orient:"bottom",align:"center",filter:!1,icon:null,dx:0,dy:0,colors:null,brushSync:!1,brush:0,format:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.widget.title",extend:"chart.widget.core",component:function(){var t=function(t,e,i){var r=0,n=0,a="middle";this.drawBefore=function(){var e=t.axis(i.axis);e?(n="bottom"==i.orient?e.area("y2")+e.padding("bottom")-20:"top"==i.orient?e.area("y")-e.padding("top")+25:e.area("y")+e.area("height")/2,"middle"==i.align?(r=e.area("x")+e.area("width")/2,a="middle"):"start"==i.align?(r=e.area("x")-e.padding("left")+20,a="start"):(r=e.area("x2")+e.padding("right")-20,a="end"),r+=t.area("x"),n+=t.area("y")):(n="bottom"==i.orient?t.area("y2")+t.padding("bottom")-20:"top"==i.orient?20:t.area("y")+t.area("height")/2,"middle"==i.align?(r=t.area("x")+t.area("width")/2,a="middle"):"start"==i.align?(r=t.area("x"),a="start"):(r=t.area("x2"),a="end"))},this.draw=function(){var e=t.svg.getTextSize(i.text),o=e.width/2,s=e.height/2,h=t.text({x:r+i.dx,y:n+i.dy,"text-anchor":a,fill:i.color||t.theme("titleFontColor"),"font-size":i.size||t.theme("titleFontSize"),"font-weight":t.theme("titleFontWeight")},i.text);return"center"==i.orient&&("start"==i.align?h.rotate(-90,r+i.dx+o,n+i.dy+s):"end"==i.align&&h.rotate(90,r+i.dx-o,n+i.dy+s)),h}};return t.setup=function(){return{axis:null,orient:"top",align:"middle",text:"",dx:0,dy:0,size:null,color:null}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.tooltip",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=r.default.include("util.color"),i=7,n=7,a=function(r,a,o){var s=this,h={},l=0;function c(e,i){var r=null,n=null;if(t.typeCheck("function",o.format)){var a=s.format(i,e);t.typeCheck("object",a)?(r=a.key,n=a.value):n=a}else e&&!i&&(n=e),e&&i&&(r=e,n=s.format(i[e]));return{key:r,value:n}}function u(t){for(var i=t.brush.target,r=0;r<i.length;r++)if(i[r]==t.dataKey)return e.lighten(s.chart.color(r,t.brush.colors));return null}function d(t,e,r){var a=t.bgX-e.width/2,o=t.bgY-e.height-n-i/2,s=2;return"left"!=r&&"right"!=r||(o=t.bgY-e.height/2-i/2),"left"==r?a=t.bgX-e.width-n:"right"==r?(a=t.bgX+n,s=-2):"bottom"==r&&(o=t.bgY+2*n),{x:a,y:o,c:s}}function f(){var e=!1,a=null,f=null,g=null;s.on("mouseover",function(p,v){if(!e&&function(e){var i=s.getIndexArray(s.widget.brush);return-1!=t.inArray(e,i)}(p.brush.index)&&(p.dataKey||p.data)){a=function(e){var r=h[e.brush.index].get(1).get(1),n=0,a=0,s=!1;function u(o){for(var h=0;h<o.length;h++){var u=c(o[h],e.data);r.get(h).attr({x:i}),u.key?r.get(h).get(0).text(u.key):(r.get(h).get(1).attr({"text-anchor":"middle"}),s=!0),t.typeCheck(["null","undefined"],u.value)||r.get(h).get(1).attr({x:0}).text(u.value),n=Math.max(n,r.get(h).size().width)}a=o.length*l}return e.dataKey&&!1===o.all?u([e.dataKey]):u(e.brush.target),{width:n+3*i,height:a+i,onlyValue:s}}(p),f=o.orient,g=r.axis(p.brush.axis);var m=d(v,a,f),y=m.x-r.padding("left"),x=m.y-r.padding("top");o.flip&&("left"==f&&y<0?f="right":"right"==f&&y+a.width>g.area("width")?f="left":"top"==f&&x<0?f="bottom":"bottom"==f&&x+a.height>g.area("height")&&(f="top"));var b=h[p.brush.index],w=b.get(0),C=b.get(1),k=b.get(1).get(0),B=b.get(1).get(1).translate(0,"bottom"!=f?l:l+n),A=r.theme("tooltipBorderColor")||u(p),F=r.theme("tooltipLineColor")||u(p);k.attr({points:s.balloonPoints(f,a.width,a.height,o.anchor?n:null),stroke:A}),w.attr({stroke:F}),B.each(function(t,e){e.get(1).attr({x:a.onlyValue?a.width/2:a.width-i})}),b.attr({visibility:"visible"}),C.translate(m.x,m.y),e=!0}}),s.on("mousemove",function(t,i){if(e){var n=h[t.brush.index],o=n.get(0),s=n.get(1),l=d(i,a,f);o.attr({x1:i.bgX+l.c,y1:r.padding("top")+g.area("y"),x2:i.bgX+l.c,y2:r.padding("top")+g.area("y2")}),s.translate(l.x,l.y)}}),s.on("mouseout",function(t,i){e&&(h[t.brush.index].attr({visibility:"hidden"}),e=!1)})}this.drawBefore=function(){l=1.2*r.theme("tooltipFontSize")},this.draw=function(){for(var t=r.svg.group(),e=this.getIndexArray(this.widget.brush),n=0;n<e.length;n++){var a=r.get("brush",e[n]),s=[""];if(o.all&&a.target.length>1)for(var l=1;l<a.target.length;l++)s.push("");h[a.index]=r.svg.group({visibility:"hidden"},function(){r.svg.line({"stroke-width":r.theme("tooltipLineWidth"),visibility:o.line?"visible":"hidden"}),r.svg.group({},function(){r.svg.polygon({fill:r.theme("tooltipBackgroundColor"),"fill-opacity":r.theme("tooltipBackgroundOpacity"),"stroke-width":r.theme("tooltipBorderWidth")});for(var t=r.texts({"font-size":r.theme("tooltipFontSize"),fill:r.theme("tooltipFontColor")},s,1.2),e=0;e<s.length;e++)t.get(e).append(r.svg.tspan({"text-anchor":"start","font-weight":"bold",x:i})),t.get(e).append(r.svg.tspan({"text-anchor":"end"}))})}),t.append(h[a.index])}return f(),t}};return a.setup=function(){return{orient:"top",anchor:!0,all:!1,line:!1,flip:!1,format:null,brush:0}},a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.topologyctrl",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(){var e,i,r,n=this,a=null,o=!1,s=1,h=0,l=0;function c(){!1===o&&(setTimeout(function(){n.chart.render(),u(),o=!1},70),o=!0)}function u(){var o=function(){for(var t=n.svg.root.get(0).children,e=0,i=null,r=0;r<t.length;r++){var a=t[r].attr("class");if(a&&-1!=a.indexOf("topologynode")){if(e==n.widget.brush){i=t[r];break}e++}}return i}();null!=o&&o.each(function(n,o){!function(n){isNaN(n)||o.on("mousedown",function(o){if(!t.typeCheck("string",e)){var s=a.getValue(a.data[n],"key"),h=a.c(s);e=s,i=h.x/h.scale,r=h.y/h.scale,a.cache.activeNodeKey=e}})}(parseInt(o.attr("index")))})}this.draw=function(){var o=this.chart.get("brush",this.widget.brush);return a=this.chart.axis(o.axis),this.widget.zoom&&n.on("axis.mousewheel",function(t){t=window.event||t;var i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),r=a.c(e);i>0?s<2&&(s+=.1):s>.6&&(s-=.1),r.setScale(s),c()},a.index),this.widget.move&&function(){var i=null,r=null;function o(t){null!=i&&null!=r&&(i=null,r=null)}n.on("axis.mousedown",function(n){t.typeCheck("string",e)||null==i&&null==r&&(i=h+n.x,r=l+n.y)},a.index),n.on("axis.mousemove",function(t){if(null!=i&&null!=r){var n=a.c(e);h=i-t.x,l=r-t.y,n.setView(-h,-l),c()}},a.index),n.on("chart.mouseup",o),n.on("chart.mouseout",o),n.on("bg.mouseup",o),n.on("bg.mouseout",o)}(),function(){function o(i){t.typeCheck("string",e)&&(e=null)}n.on("axis.mousemove",function(n){if(a.root.attr({cursor:"move"}),t.typeCheck("string",e)){var o=a.c(e),s=n.chartX/o.scale,h=n.chartY/o.scale;o.setX(i+(s-i)),o.setY(r+(h-r)),c()}},a.index),n.on("axis.mouseup",o,a.index),n.on("bg.mouseup",o),n.on("bg.mouseout",o)}(),u(),this.chart.svg.group()}};return e.setup=function(){return{move:!1,zoom:!1,brush:0}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.dragselect",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(){var e=null;this.setDragEvent=function(e){var i=this,r=this.chart.axis(e.axis),n=!1,a=0,o=0,s=0,h=0,l=0,c=0;function u(u){n=!1,0!=s&&0!=h&&(!function(n,a){if(l>n){var o=l;l=n,n=o}if(c>a){var s=c;c=a,a=s}"area"==i.widget.dataType?function(t,e,r,n){i.chart.emit("dragselect.end",[{x1:t,y1:e,x2:r,y2:n}])}(l,c,n,a):function(n,a,o,s){for(var h=r.x.type,l=r.y.type,c=r.data,u=e.target,d=[],f=0;f<c.length;f++)for(var g=c[f],p=0;p<u.length;p++){var v=g[u[p]];if("date"==h&&"range"==l){var m=g[r.get("x").key];t.typeCheck("integer",m)&&(m=new Date(m)),t.typeCheck("date",m)&&m.getTime()>=n.getTime()&&m.getTime()<=o.getTime()&&v>=a&&v<=s&&d.push(x(f,u[p],g))}else if("range"==h&&"date"==l){var y=g[r.get("y").key];t.typeCheck("integer",y)&&(y=new Date(y)),t.typeCheck("date",y)&&y.getTime()>=a.getTime()&&y.getTime()<=s.getTime()&&v>=n&&v<=o&&d.push(x(f,u[p],g))}"block"==h&&"range"==l?f>=n-1&&f<=o-1&&v>=a&&v<=s&&d.push(x(f,u[p],g)):"range"==h&&"block"==l&&f>=a-1&&f<=s-1&&v>=n&&v<=o&&d.push(x(f,u[p],g))}function x(t,i,r){return{brush:e,dataIndex:t,dataKey:i,data:r}}i.chart.emit("dragselect.end",[d])}(l,c,n,a)}(r.x.invert(u.chartX),r.y.invert(u.chartY)),n=!1,a=0,o=0,s=0,h=0,l=0,c=0,d())}function d(){i.onDrawEnd(i.chart.area("x")+r.area("x"),i.chart.area("y")+r.area("y"),r.area("width"),r.area("height"))}this.on("axis.mousedown",function(t){n||(n=!0,a=t.bgX,o=t.bgY,l=r.x.invert(t.chartX),c=r.y.invert(t.chartY),this.chart.emit("dragselect.start"))},e.axis),this.on("axis.mousemove",function(t){n&&(s=t.bgX-a,h=t.bgY-o,d(),this.onDrawStart(a,o,s,h))},e.axis),this.on("axis.mouseup",u,e.axis),this.on("chart.mouseup",u),this.on("bg.mouseup",u)},this.onDrawStart=function(t,i,r,n){e.attr({width:r>=0?r:Math.abs(r),height:n>=0?n:Math.abs(n)}),e.translate(r>=0?t:t+r,n>=0?i:i+n)},this.onDrawEnd=function(t,i,r,n){e.attr({width:0,height:0})},this.draw=function(){for(var i=this.chart.svg.group(),r=this.widget.brush,n=t.typeCheck("array",r)?r:[r],a=0;a<n.length;a++){var o=this.chart.get("brush",n[a]);null!=o&&(e=this.svg.rect({width:0,height:0,stroke:this.chart.theme("dragSelectBorderColor"),"stroke-width":this.chart.theme("dragSelectBorderWidth"),fill:this.chart.theme("dragSelectBackgroundColor"),"fill-opacity":this.chart.theme("dragSelectBackgroundOpacity")}),this.setDragEvent(o),i.append(e))}return i}};return e.setup=function(){return{brush:[0],dataType:"list"}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.widget.scroll",extend:"chart.widget.core",component:function(){var t=function(t,e,i){var r=this,n=0,a=0,o=0,s=0,h=0,l=0;this.drawBefore=function(){s=e.origin.length,o=e.buffer,h=t.area("width")/o,l=h*(s||1)/t.area("width"),n=t.area("width")*(o/(s||1))+2},this.draw=function(){var e=t.theme("scrollBackgroundSize"),c="top"==i.orient?t.area("y")-e:t.area("y2");return 0==s?t.svg.group():t.svg.group({},function(){t.svg.rect({width:t.area("width"),height:e,fill:t.theme("scrollBackgroundColor")}),function(e){var i=!1,s=0,c=0,u=t.axis();function d(t){i&&e.element!=t.target||(i=!0,s=t.bgX,c=a)}function f(r){if(i){var d=c+r.bgX-s;d<0?d=0:d+n>t.area("width")&&(d=t.area("width")-n),e.translate(d,1),a=d;var f=d*l,g=0==f?0:Math.floor(f/h);d+n==t.area("width")&&(g+=1);for(var p=0;p<u.length;p++)u[p].zoom(g,g+o);t.isRender()||t.render()}}function g(t){i&&(i=!1,s=0,c=0)}r.on("bg.mousedown",d),r.on("chart.mousedown",d),r.on("bg.mousemove",f),r.on("bg.mouseup",g),r.on("chart.mousemove",f),r.on("chart.mouseup",g)}(t.svg.rect({width:n,height:e-2,fill:t.theme("scrollThumbBackgroundColor"),stroke:t.theme("scrollThumbBorderColor"),cursor:"pointer","stroke-width":1}).translate(a,1))}).translate(t.area("x"),c)}};return t.setup=function(){return{orient:"bottom"}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.widget.vscroll",extend:"chart.widget.core",component:function(){var t=function(t,e,i){var r=this,n=0,a=0,o=0,s=0,h=0,l=0;this.drawBefore=function(){s=e.origin.length,o=e.buffer,h=t.area("height")/o,l=h*(s||1)/t.area("height"),n=t.area("height")*(o/(s||1))+2},this.draw=function(){var e=t.theme("scrollBackgroundSize"),c="right"==i.orient?t.area("x2"):t.area("x")-e;return 0==s?t.svg.group():t.svg.group({},function(){t.svg.rect({width:e,height:t.area("height"),fill:t.theme("scrollBackgroundColor")}),function(e){var i=!1,s=0,c=0,u=t.axis();function d(t){i&&e.element!=t.target||(i=!0,s=t.bgY,c=a)}function f(r){if(i){var d=c+r.bgY-s;d<0?d=0:d+n>t.area("height")&&(d=t.area("height")-n),e.translate(1,d),a=d;var f=d*l,g=0==f?0:Math.floor(f/h);d+n==t.area("height")&&(g+=1);for(var p=0;p<u.length;p++)u[p].zoom(g,g+o);t.isRender()||t.render()}}function g(t){i&&(i=!1,s=0,c=0)}r.on("bg.mousedown",d),r.on("chart.mousedown",d),r.on("bg.mousemove",f),r.on("bg.mouseup",g),r.on("chart.mousemove",f),r.on("chart.mouseup",g)}(t.svg.rect({width:e-2,height:n,fill:t.theme("scrollThumbBackgroundColor"),stroke:t.theme("scrollThumbBorderColor"),cursor:"pointer","stroke-width":1}).translate(1,a))}).translate(c,t.area("y"))}};return t.setup=function(){return{orient:"left"}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.zoom",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(){var e=this,i=0,r=0;function n(n,a,o){var s=e.chart.axis(n),h=s.get("x").type,l=null,c=!1,u=0,d=0;function f(i){var r=[];c=!1,0!=d&&("block"==h?r=g():null!=l&&(r=function(i){var r=l.getTime(),a=i.getTime();if(r>=a)return;var o=e.widget.interval,h=e.widget.format;t.typeCheck("function",o)&&(o=o.apply(e.chart,[r,a]));t.typeCheck("function",h)&&(h=h.apply(e.chart,[r,a]));var c=e.chart.getCache("zoomDepth_"+n,0);0==c&&(e.chart.setCache("prevDomain_"+n,s.get("x").domain),e.chart.setCache("prevInterval_"+n,s.get("x").interval),e.chart.setCache("prevFormat_"+n,s.get("x").format));return e.chart.setCache("zoomDepth_"+n,c+1),s.updateGrid("x",{domain:[r,a],interval:null!=o?o:s.get("x").interval,format:null!=h?h:s.get("x").format}),[r,a]}(s.x.invert(i.chartX)),"dateblock"==h&&(r=r.concat(g()))),function(){null!=o&&o.attr({visibility:"visible"});e.chart.isRender()||e.chart.render()}(),c=!1,u=0,d=0,l=null,null!=a&&a.attr({width:0}),e.chart.emit("zoom.end",r))}function g(){var t=s.end-s.start,e=s.area("width")/(t>0?t:s.data.length),i=(d>0?u:u+d)-r,n=Math.floor(i/e)+s.start,a=Math.ceil((i+Math.abs(d))/e)+s.start;if(n<a)return s.zoom(n,a),[n,a]}e.on("axis.mousedown",function(t){c||(c=!0,u=t.bgX,"date"!=h&&"dateblock"!=h||(l=s.x.invert(t.chartX)),e.chart.emit("zoom.start"))},n),e.on("axis.mousemove",function(t){c&&(d=t.bgX-u,null!=a&&(d>0?(a.attr({width:d}),a.translate(u,i+s.area("y"))):(a.attr({width:Math.abs(d)}),a.translate(u+d,i+s.area("y")))))},n),e.on("axis.mouseup",f,n),e.on("chart.mouseup",f),e.on("bg.mouseup",f),e.on("bg.mouseout",f)}this.drawSection=function(t,a){var o=this.widget.integrate,s=this.chart.axis(t),h=s.area("width"),l=s.area("height");return this.chart.svg.group({},function(){var c=e.chart.svg.rect({height:l,fill:e.chart.theme("zoomBackgroundColor"),opacity:.3}),u=e.chart.svg.group({visibility:"hidden"},function(){e.chart.svg.group({cursor:"pointer"},function(){e.chart.svg.circle({r:12,cx:h,cy:0,opacity:0}),e.chart.svg.path({d:"M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M16.9,15.5l-1.4,1.4L12,13.4l-3.5,3.5 l-1.4-1.4l3.5-3.5L7.1,8.5l1.4-1.4l3.5,3.5l3.5-3.5l1.4,1.4L13.4,12L16.9,15.5z",fill:e.chart.theme("zoomFocusColor")}).translate(h-12,-12)}).on("click",function(i){u.attr({visibility:"hidden"}),o?e.rollbackZoom(e.getAxisList()):e.rollbackZoom([t])})}).translate(r+s.area("x"),i+s.area("y"));o&&0!==a?n(t,null,null):n(t,c,u)})},this.rollbackZoom=function(t){for(var e=0;e<t.length;e++){var i=t[e],r=this.chart.axis(i),n=r.get("x").type;if("block"==n)r.screen(1);else if("date"==n||"dateblock"==n){var a=this.chart.getCache("prevDomain_"+i),o=this.chart.getCache("prevInterval_"+i),s=this.chart.getCache("prevFormat_"+i);r.updateGrid("x",{domain:a,interval:o,format:s}),this.chart.setCache("zoomDepth_"+i,0),"dateblock"==n&&r.screen(1)}this.chart.isRender()||this.chart.render(),this.chart.emit("zoom.close")}},this.getAxisList=function(){return t.typeCheck("array",this.widget.axis)?this.widget.axis:[this.widget.axis]},this.drawBefore=function(){i=this.chart.padding("top"),r=this.chart.padding("left")},this.draw=function(){for(var t=this.chart.svg.group(),e=this.getAxisList(),i=0;i<e.length;i++)t.append(this.drawSection(e[i],i));return t}};return e.setup=function(){return{axis:0,integrate:!1,interval:null,format:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.zoomselect",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=12,i=function(){var i=this,r=0,n=0;function a(t,a,o){var s=i.chart.axis(t),h=s.get("x").type,l=null,c=!1,u=0,d=0;function f(t){var r=[];c=!1,0!=d&&("block"==h?r=g():null!=l&&(r=function(t){var e=l.getTime(),i=t.getTime();return e>=i?[i,e]:[e,i]}(s.x.invert(t.chartX)),"dateblock"==h&&(r=r.concat(g()))),function(){if(null!=o){var t=a.attributes.width;o.attr({visibility:"visible"}),o.get(0).attr({width:t}),o.get(1).get(0).attr({width:t}),o.get(1).get(1).translate(t-e,-e)}}(),c=!1,u=0,d=0,l=null,null!=a&&a.attr({width:0}),i.chart.emit("zoomselect.end",r))}function g(){var t=s.end-s.start,e=s.area("width")/(t>0?t:s.data.length),i=(d>0?u:u+d)-n,r=Math.floor(i/e)+s.start,a=Math.ceil((i+Math.abs(d))/e)+s.start;return[r,a]}i.on("axis.mousedown",function(t){c||(c=!0,u=t.bgX,"date"!=h&&"dateblock"!=h||(l=s.x.invert(t.chartX)),i.chart.emit("zoomselect.start"))},t),i.on("axis.mousemove",function(t){c&&(d=t.bgX-u,null!=a&&(d>0?(a.attr({width:d}).translate(u,r+s.area("y")),o.get(1).get(0).attr({cx:d}),o.translate(u,r+s.area("y"))):(a.attr({width:Math.abs(d)}).translate(u+d,r+s.area("y")),o.get(1).get(0).attr({cx:Math.abs(d)}),o.translate(u+d,r+s.area("y")))))},t),i.on("axis.mouseup",f,t),i.on("chart.mouseup",f),i.on("bg.mouseup",f),i.on("bg.mouseout",f)}this.drawSection=function(t){var o=this.chart.axis(t),s=o.area("width"),h=o.area("height");return this.chart.svg.group({},function(){var l=i.chart.svg.rect({height:h,fill:i.chart.theme("zoomBackgroundColor"),opacity:.3}),c=i.chart.svg.group({visibility:"hidden"},function(){i.chart.svg.rect({width:s,height:h,fill:i.chart.theme("zoomFocusColor"),opacity:.2}),i.chart.svg.group({cursor:"pointer"},function(){i.chart.svg.circle({r:e,opacity:0}),i.chart.svg.path({d:"M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M16.9,15.5l-1.4,1.4L12,13.4l-3.5,3.5 l-1.4-1.4l3.5-3.5L7.1,8.5l1.4-1.4l3.5,3.5l3.5-3.5l1.4,1.4L13.4,12L16.9,15.5z",fill:i.chart.theme("zoomFocusColor")}).translate(s-e,-e)}).on("click",function(e){c.attr({visibility:"hidden"}),i.rollbackZoom(t)})}).translate(n+o.area("x"),r+o.area("y"));a(t,l,c)})},this.rollbackZoom=function(){this.chart.emit("zoomselect.close")},this.getAxisList=function(){return t.typeCheck("array",this.widget.axis)?this.widget.axis:[this.widget.axis]},this.drawBefore=function(){r=this.chart.padding("top"),n=this.chart.padding("left")},this.draw=function(){for(var t=this.chart.svg.group(),e=this.getAxisList(),i=0;i<e.length;i++)t.append(this.drawSection(e[i],i));return t}};return i.setup=function(){return{axis:0}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(0)),n=a(i(4));function a(t){return t&&t.__esModule?t:{default:t}}r.default.use(n.default),e.default={name:"chart.widget.zoomscroll",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=r.default.include("chart.builder"),i=function(){var i=this,r=null,n=null,a=null,o=null,s=0,h=null,l=0,c=null,u=null,d=null,f=null,g=null,p=null,v=null,m=null;function y(t,e,r){var o=!1,y=!1,x=0,b=0,w=0;function C(i){if(o){var C=i.clientX-x;if(y){var k=(F=b+C)+w,A=Math.floor(F/l)-c;F>0&&F+w<n&&(f.round(F,a,h,0,0,h),g.attr({x:F-s/2}),p.round(n-k,a,0,h,h,0),p.translate(k,0),v.attr({x:k-s/2}),m.translate(F,0),c+=A,u+=A)}else if(r){if((F=w+C)<0)return;if(!B()&&C>0)return;t.round(F,a,h,0,0,h),e.attr({x:F-s/2}),m.attr({width:n-f.size().width-p.size().width}),m.translate(F,0),c=Math.floor(F/l)}else{var F;if((F=w-C)<0)return;if(!B()&&C<0)return;t.round(F,a,0,h,h,0),t.translate(n-F,0),e.attr({x:n-F-s/2}),m.attr({width:n-f.size().width-p.size().width}),u=d-Math.floor(F/l)}}}function k(){if(o){o=!1;var t=i.chart.axis();i.chart.emit("zoomscroll.dragend",[c,u-1]);for(var e=0;e<t.length;e++)t[e].zoom(c,u);i.chart.isRender()||i.chart.render(),i.chart.emit("zoomscroll.render",[c,u-1])}}function B(){var t=p.data("translate");return f.size().width<parseInt(t.split(",")[0])-l/2}e.on("mousedown",function(r){o||(o=!0,(y=null==t)?(w=e.size().width,b=f.size().width,x=r.clientX):(w=t.size().width,x=r.clientX),i.chart.emit("zoomscroll.dragstart"))}),i.on("chart.mousemove",C),i.on("bg.mousemove",C),i.on("chart.mouseup",k),i.on("bg.mouseup",k)}this.drawBefore=function(){r=this.chart.axis(this.widget.axis),d=r.origin.length,c=r.start,u=r.end,o=this.chart.theme("zoomScrollAreaBorderWidth"),n=this.chart.area("width")-2*o,a=this.chart.theme("zoomScrollBackgroundSize")-2*o,s=this.chart.theme("zoomScrollButtonSize"),h=this.chart.theme("zoomScrollAreaBorderRadius"),l=n/d},this.draw=function(){var x={fill:this.chart.theme("zoomScrollAreaBackgroundColor"),"fill-opacity":this.chart.theme("zoomScrollAreaBackgroundOpacity"),stroke:this.chart.theme("zoomScrollAreaBorderColor"),"stroke-width":o};return this.svg.group({},function(){var b=c*l,w=(d-u)*l;isNaN(b)||isNaN(w)||(i.svg.image({width:n,height:a,"xlink:href":function(){var o=i.chart.theme("zoomScrollGridFontSize"),s=e(null,{width:n,height:a,padding:{top:0,left:0,right:0,bottom:o+8},axis:{x:t.extend({hide:!1,line:"solid",format:i.widget.format},r.get("x"),!0),y:t.extend({hide:!0,line:!1},r.get("y"),!0),data:r.origin},brush:[{type:i.widget.symbol,target:[i.widget.key],colors:[i.widget.color]}],style:{backgroundColor:"transparent",gridXFontSize:o,gridTickPadding:i.chart.theme("zoomScrollGridTickPadding"),areaBackgroundOpacity:i.chart.theme("zoomScrollBrushAreaBackgroundOpacity"),lineBorderWidth:i.chart.theme("zoomScrollBrushLineBorderWidth")}});return"data:image/svg+xml;utf8,"+encodeURIComponent(s.svg.toXML())}()}),(f=i.svg.pathRect(x)).round(b,a,h,0,0,h),(p=i.svg.pathRect(x)).round(w,a,0,h,h,0),p.translate(n-w,0),m=i.svg.rect({width:n-b-w,height:a,fill:"transparent","fill-opacity":0,stroke:i.chart.color(i.widget.color),"stroke-width":o,cursor:"move"}).translate(b,0),g=i.svg.rect({x:b-s/2,y:a/2-s/2,width:s,height:s,fill:"#e0e0e0",cursor:"e-resize",rx:s/2,"stroke-linecap":"round",stroke:"#616161"}),v=i.svg.rect({x:n-w-s/2,y:a/2-s/2,width:s,height:s,fill:"#e0e0e0",cursor:"e-resize",rx:s/2,"stroke-linecap":"round",stroke:"#616161"}),y(f,g,!0),y(p,v,!1),y(null,m))}).translate(this.widget.dx+this.chart.area("x"),this.widget.dy+this.chart.area("y2")-o)}};return i.setup=function(){return{symbol:"area",key:null,color:0,format:null,axis:0,dx:0,dy:0}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.raycast",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(){this.emitBlockAndRangeEvent=function(t,e,i,r,n,a){var o=r.invert(a.chartX)-1,s=this.chart.getCache("raycast_area_"+o);null!=s&&a.chartX>=s.x1&&a.chartX<=s.x2&&a.chartY>=s.y1&&a.chartY<=s.y2&&this.chart.emit(t,[{brush:i,data:e[o],dataIndex:o},a])},this.setRayCastEvent=function(t){var e=this.chart.axis(t.axis),i=e.x.type,r=e.y.type,n="block"==i?e.x:"block"==r?e.y:null,a="range"==i?e.x:"range"==r?e.y:null;null!=n&&null!=a&&(this.on("axis.click",function(i){this.emitBlockAndRangeEvent("raycast.click",e.data,t,n,a,i)},t.axis),this.on("axis.dblclick",function(i){this.emitBlockAndRangeEvent("raycast.dblclick",e.data,t,n,a,i)},t.axis),this.on("axis.rclick",function(i){this.emitBlockAndRangeEvent("raycast.rclick",e.data,t,n,a,i)},t.axis))},this.draw=function(){for(var e=this.chart.svg.group(),i=this.widget.brush,r=t.typeCheck("array",i)?i:[i],n=0;n<r.length;n++){var a=this.chart.get("brush",r[n]);this.setRayCastEvent(a)}return e}};return e.setup=function(){return{brush:[0]}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.guideline",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(e,i,r){var n=this,a=void 0,o=0,s=0,h=void 0,l=void 0,c=void 0,u=void 0,d={},f=[];function g(t,e){var i=(g.canvas||(g.canvas=document.createElement("canvas"))).getContext("2d");return i.font=e,1.5*i.measureText(t).width}this.drawBefore=function(){a=this.chart.get("brush",r.brush),i=this.chart.axis(a.axis),o=e.padding("left"),s=e.padding("top"),h=e.svg.group({visibility:"hidden"},function(){t.typeCheck("function",r.xFormat)&&(c=e.svg.group({},function(){e.svg.polygon({fill:e.theme("guidelineBalloonBackgroundColor"),"fill-opacity":e.theme("guidelineBalloonBackgroundOpacity"),points:n.balloonPoints("bottom",50,18,5)}),e.text({"font-size":e.theme("guidelineBalloonFontSize"),fill:e.theme("guidelineBalloonFontColor"),"text-anchor":"middle",x:25,y:17})}).translate(0,i.area("height")+5)),l=e.svg.line({x1:0,y1:0,x2:0,y2:i.area("height"),stroke:e.theme("guidelineBorderColor"),"stroke-width":e.theme("guidelineBorderWidth"),"stroke-dasharray":e.theme("guidelineBorderDashArray"),opacity:e.theme("guidelineBorderOpacity")}),a.target.forEach(function(t,i){d[t]=e.svg.circle({fill:e.color(i),stroke:e.theme("guidelinePointBorderColor"),"stroke-width":e.theme("guidelinePointBorderWidth"),r:e.theme("guidelinePointRadius")})}),u=e.svg.group({},function(){e.svg.rect({fill:e.theme("guidelineTooltipBackgroundColor"),"fill-opacity":e.theme("guidelineTooltipBackgroundOpacity"),stroke:e.theme("guidelineTooltipBorderColor"),"stroke-width":e.theme("guidelineTooltipBorderWidth")}),e.svg.group({},function(){a.target.forEach(function(t,i){var r=e.svg.text({"font-size":e.theme("guidelineTooltipFontSize")});r.append(e.svg.tspan({"text-anchor":"start","font-weight":"bold",x:7.5})),r.append(e.svg.tspan({"text-anchor":"end"}))})}).translate(5,5),e.svg.group({},function(){a.target.forEach(function(t,i){e.svg.circle({r:e.theme("guidelineTooltipPointRadius")})})}).translate(7.5,0)})}).translate(o,s)},this.drawGuildLine=function(t,e){if(l&&l.attr({x1:t,x2:t}),c){c.translate(t-25,i.area("height")+5);var a=r.xFormat.call(n.chart,e);!function(t,e,i){if(!f[t]){var r=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.element.appendChild(r),f[t]=r}f[t].textContent=i}(1,c.get(1),a)}},this.drawContentTooltip=function(n,o){var s=this;if(null!=u&&null!=o){var h=e.getCache("legend_target",a.target),l=u.children[0],c=u.children[1],f=0,p=1.2*e.theme("guidelineTooltipFontSize")*(h.length+1),v=0;a.target.forEach(function(t,a){var s=h.indexOf(t),l=u.get(1).get(a),c=u.get(2).get(a);if(-1!=s){var f=1.2*e.theme("guidelineTooltipFontSize")*(s+1);l.attr({fill:e.theme("guidelineTooltipFontColor"),y:f}),c.attr({fill:e.color(a),cy:f}),d[t].attr({fill:e.color(a)}),v=r.stackPoint?v+o[t]:o[t],d[t].translate(n,i.y(v))}else l.attr({fill:"transparent"}),c.attr({fill:"transparent"}),d[t].attr({fill:"transparent"})}),a.target.forEach(function(i,n){if(t.typeCheck("function",r.tooltipFormat)){var a=r.tooltipFormat.apply(s,[o,i]);f=Math.max(f,g(a.key+" "+a.value,"bold "+e.theme("guidelineTooltipFontSize")+"px "+e.theme("fontFamily"))),c.get(n).get(0).text(a.key),c.get(n).get(1).text(a.value)}}),l.attr({width:f+5,height:p});for(var m=0;m<c.children.length;m++)c.children[m].get(1).attr({x:f-5});u.translate(n+f>i.area("width")?n-f-5-5:n+5,i.area("height")/2-p/2)}},this.draw=function(){var t=this;return e.on("guideline.show",function(r){if(0!=i.data.length){h.attr({visibility:"visible"});var n=i.get("x").domain,a=(+n[1]-+n[0])/i.data.length,o=Math.floor((+r-+n[0])/a),s=i.x(o);t.drawGuildLine(s,r),t.drawContentTooltip(s,i.data[o]),e.setCache("guideline_time",r)}}),e.on("guideline.hide",function(){0!=i.data.length&&(h.attr({visibility:"hidden"}),e.setCache("guideline_time",null))}),e.on("render",function(){var t=e.getCache("guideline_time",null);null!=t&&e.emit("guideline.show",t)}),this.on("axis.mouseout",function(){e.emit("guideline.hide"),e.emit("guideline.active")},r.axis),this.on("axis.mousemove",function(t){var r=i.x.invert(t.chartX);r!=e.getCache("guideline_time",null)&&(e.emit("guideline.show",r),e.emit("guideline.active",r))},r.axis),h}};return e.setup=function(){return{brush:0,xFormat:null,tooltipFormat:null,stackPoint:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.canvas.picker",extend:"chart.widget.core",component:function(){var t=r.default.include("util.base"),e=function(){this.emitActiveEvent=function(t,e){this.on("axis."+e,function(i){var r=this.chart.getCache("picker");if(null!=r){var n=r.func.call(r.obj,i.chartX,i.chartY);null!=n&&this.chart.emit("picker."+e,[{brush:t,data:n},i])}},t.axis)},this.setCanvasEvents=function(t){this.widget.hover&&this.on("axis.mousemove",function(t){var e=this.chart.getCache("picker");null!=e&&e.func.call(e.obj,t.chartX,t.chartY)},t.axis),this.emitActiveEvent(t,"click"),this.emitActiveEvent(t,"dblclick")},this.draw=function(){for(var e=this.chart.svg.group(),i=this.widget.brush,r=t.typeCheck("array",i)?i:[i],n=0;n<r.length;n++){var a=this.chart.get("brush",r[n]);this.setCanvasEvents(a)}return e}};return e.setup=function(){return{hover:!1,brush:[0]}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.polygon.rotate3d",extend:"chart.widget.polygon.core",component:function(){var t=r.default.include("util.base"),e=180,i=function(){var i=this;function r(t){var r=i.chart.axis(t),n=!1,a=0,o=0,s=0,h=0,l=null,c=i.widget.unit,u=r.area("width"),d=r.area("height");function f(t){n&&(n=!1,a=0,o=0)}i.on("axis.mousedown",function(t){if(n)return;n=!0,a=t.chartX,o=t.chartY,s=r.degree.x,h=r.degree.y},t),i.on("axis.mousemove",function(t){if(!n)return;var f=t.chartX-a,g=t.chartY-o,p=s+Math.floor(g/d*e),v=h-Math.floor(f/u*e);if(p%c!=0&&v%c!=0)return;var m=p+":"+v;if(l==m)return;r.set("degree",{x:p,y:v}),i.chart.render(),l=m},t),i.on("axis.mouseup",f,t),i.on("bg.mouseup",f),i.on("chart.mouseup",f)}this.draw=function(){for(var e=t.typeCheck("array",this.widget.axis)?this.widget.axis:[this.widget.axis],i=0;i<e.length;i++)r(e[i])}};return i.setup=function(){return{unit:5,axis:[0]}},i}}}]);